---
title: Linux文件系统结构
date: 2024-02-10
tags: linux基础
categories: linux
order: 2
---




## 文件系统的层次结构
在 Linux 操作系统中，所有的文件和目录都被组织成以一个根节点“/”开始的倒置的树状结构。

![Linux 系统文件和目录组织示意图](Linux入门/1.gif)

文件系统的最顶层是由根目录开始的，系统使用“/”来表示根目录，在根目录之下的既可以是目录，也可以是文件，而每一个目录中又可以包含（子）目录或文件。如此反复就可以构成一个庞大的文件系统。
## Linux文件目录结构
`FHS（Filesystem Hierarchy Standard）`，文件系统层次化标准，该标准规定了 Linux 系统中所有一级目录以及部分二级目录（`/usr`和`/var`）的用途。发布此标准的主要目的就是为了让用户清楚地了解每个目录应该存放什么类型的文件。

### 根目录（/）

|      一级目录      | 功能                                                                                                                                                                         |
|:--------------:|:---------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|    `/bin/`     | 存放系统命令，普通用户和 root 都可以执行。放在`/bin`下的命令在单用户模式下也可以执行                                                                                                                           |
|    `/boot/`    | 开机所需文件，保存与系统启动相关的文件，如内核文件和启动引导程序（`grub`）文件等                                                                                                                                |
|    `/dev/`     | 任何设备与接口都以文件形式存放在此目录                                                                                                                                                        |
|   `/etc/`      | 配置文件保存位置。系统内所有采用默认安装方式（`rpm`安装）的服务配置文件全部保存在此目录中，如用户信息、服务的启动脚本、常用服务的配置文件等                                                                                                   |
|    `/home/`    | 普通用户的主目录（也称为家目录）。在创建用户时，每个用户要有一个默认登录和保存自己数据的位置，就是用户的主目录，所有普通用户的主目录是在`/home/`下建立一个和用户名相同的目录。如用户`liming`的主目录就是`/home/liming`                                                 |
|    `/lib/`     | 开机时用到的函数库及/bin与/sbin下面命令用到的函数                                                                                                                                              |
|   `/media/`    | 挂载目录。系统建议用来挂载媒体设备，如软盘和光盘                                                                                                                                                   |
|    `/mnt/`     | 挂载目录。早期 Linux 中只有这一个挂载目录，并没有细分。系统建议这个目录用来挂载额外的设备，如 U 盘、移动硬盘和其他操作系统的分区                                                                                                      |
|    `/misc/`    | 挂载目录。系统建议用来挂载 NFS 服务的共享目录。虽然系统准备了三个默认挂载目录`/media/、/mnt/、/misc/`，但是到底在哪个目录中挂载什么设备可以由管理员自己决定。如`/mnt/cdrom/`挂载光盘、`/mnt/usb/`挂载 U 盘，都是可以的                                      |
|    `/opt/`     | 第三方安装的软件保存位置。这个目录是放置和安装其他软件的位置，手工安装的源码包软件都可以安装到这个目录中。不过还是习惯把软件放到`/usr/local/`目录中，也就是说，`/usr/local/`目录也可以用来安装软件                                                             |
|    `/root/`    | `root`的主目录。普通用户主目录在`/home/`下，`root`主目录直接在“/”下                                                                                                                              |
|    `/sbin/`    | 保存与系统环境设置相关的命令，只有`root`可以使用这些命令进行系统环境设置，但也有些命令可以允许普通用户查看                                                                                                                   | 
|    `/srv/`     | 服务数据目录。一些系统服务启动之后，可以在这个目录中保存所需要的数据                                                                                                                                         | 
|    `/tmp/`     | 临时目录。系统存放临时文件的目录，在该目录下，所有用户都可以访问和写入。建议此目录中不能保存重要数据，最好每次开机都把该目录清空                                                                                                           | 
| `/lost+found/` | 当系统意外崩溃或意外关机时，产生的一些文件碎片会存放在这里。在系统启动的过程中，`fsck`工具会检查这里，并修复已经损坏的文件系统。这个目录只在每个分区中出现，例如，`/lost+found`就是根分区的备份恢复目录，`/boot/lost+found`就是`/boot`分区的备份恢复目录                         |
|    `/proc/`    | 虚拟文件系统。该目录中的数据并不保存在硬盘上，而是保存到内存中。主要保存系统的内核、进程、外部设备状态和网络状态等。如`/proc/cpuinfo`是保存 CPU 信息的，`/proc/devices`是保存设备驱动的列表的，`/proc/filesystems`是保存文件系统列表的，`/proc/net`是保存网络协议信息的...... |
|    `/sys/`     | 虚拟文件系统。和`/proc/`目录相似，该目录中的数据都保存在内存中，主要保存与内核相关的信息                                                                                                                           |

### /usr目录
`usr`，全称为`Unix Software Resource`，此目录用于存储系统软件资源。

Linux 系统中，所有系统默认的软件都存储在`/usr`目录下。

|      子目录	      | 功能（作用）                                        |
|:--------------:|:----------------------------------------------|
|  `/usr/bin/`	  | 存放系统命令，普通用户和超级用户都可以执行。这些命令和系统启动无关，在单用户模式下不能执行 |
| `/usr/sbin/` 	 | 存放根文件系统不必要的系统管理命令，如多数服务程序，只有 root 可以使用。       |
|  `/usr/lib/`	  | 应用程序调用的函数库保存位置                                |
| `/usr/XllR6/`	 | 图形界面系统保存位置                                    |
| `/usr/local/`	 | 手工安装的软件保存位置。我们一般建议源码包软件安装在这个位置                |
| `/usr/share/`	 | 应用程序的资源文件保存位置，如帮助文档、说明文档和字体目录                 |
| `/usr/src/` 	  | 源码包保存位置。我们手工下载的源码包和内核源码包都可以保存到这里。             |
| `/usr/include` | C/C++ 等编程语言头文件的放置目录                           |

### /var 目录
`/var`目录用于存储动态数据，例如缓存、日志文件、软件运行过程中产生的文件等。

|     `/var`子目录	     | 功能（作用）                                                                             |
|:------------------:|:-----------------------------------------------------------------------------------|
|    `/var/lib/`	    | 程序运行中需要调用或改变的数据保存位置。如 MySQL 的数据库保存在`/var/lib/mysql/`目录中                            |
|    `/var/log/`	    | 登陆文件放置的目录，其中所包含比较重要的文件如`/var/log/messages, /var/log/wtmp`等。                        |
|   `/var/run/`	     | 一些服务和程序运行后，它们的 PID（进程 ID）保存位置                                                      |
|   `/var/spool/`	   | 里面主要都是一些临时存放，随时会被用户所调用的数据，例如`/var/spool/mail/`存放新收到的邮件，`/var/spool/cron/`存放系统定时任务。 |
|    `/var/www/`	    | RPM 包安装的 Apache 的网页主目录                                                             |
| `/var/nis和/var/yp` | NIS 服务机制所使用的目录，`nis`主要记录所有网络中每一个`client`的连接信息；`yp`是 linux 的`nis`服务的日志文件存放的目录       |
|    `/var/tmp`	     | 一些应用程序在安装或执行时，需要在重启后使用的某些文件，此目录能将该类文件暂时存放起来，完成后再行删除                                |


### /etc目录

| 目录/文件             | 说明           |
|-------------------|--------------|
| /etc/motd         | 开机启动时的提示信息   |
| /etc/issue        | 开机后登录之前的提示信息 | 
| /etc/resolv.conf  | DNS配置文件      |
| /etc/hostname     | 主机名称配置文件 |
| /etc/inputrc      | 键盘映射表 |
| /etc/resolve.conf | DNS解析配置文件|
| /etc/hosts        | 主机别名配置文件 |
| /etc/ntp.conf | NTP服务配置文件 |
| /etc/profile | 全局环境变量 |
| /etc/bashrc | 全局环境变量、shell风格、缩进等配置 |
| /etc/shells | 本机支持的shell |

## Linux中一切皆文件
Linux 中所有内容都是以文件的形式保存和管理的，即一切皆文件，普通文件是文件，目录是文件，硬件设备（键盘、监视器、硬盘、打印机）是文件，就连套接字（`socket`）、网络通信等资源也都是文件。

Linux系统中，文件可分为以下几种类型：
1. 普通文件（`-`），类似`mp4、pdf、html`这样，可直接拿来使用的文件都属于普通文件，用户根据访问权限的不同可以对这些文件进行查看、删除以及更改操作。
2. 目录文件（`d`），Linux 系统中，目录文件包含了此目录中各个文件的文件名以及指向这些文件的指针，打开目录等同于打开目录文件，只要你有权限，可以随意访问目录中的任何文件。
3. 字符设备文件（`c`）和块设备文件（`b`），这些文件通常隐藏在`/dev/`目录下，当进行设备读取或外设交互时才会被使用。例如，磁盘光驱属于块设备文件，串口设备则属于字符设备文件。Linux 系统中的所有设备，要么是块设备文件，要么是字符设备文件。
4. 套接字文件（`s`），套接字文件一般隐藏在`/var/run/`目录下，用于进程间的网络通信。
5. 符号链接文件（`l`），类似 Windows 中的快捷方式，是指向另一文件的指针（也就是软链接）。
6. 管道文件（`p`），主要用于进程间通信。例如，使用`mkfifo`命令创建一个 FIFO 文件，与此同时，启用进程 A 从 FIFO 文件读数据，启用进程 B 从 FIFO文件中写数据，随写随读。
