<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://0oWSQo0.github.io/wsq-blog/linux/tools/nginx%E5%85%A5%E9%97%A8.html"><meta property="og:title" content="nginxå…¥é—¨"><meta property="og:description" content="ç›¸å…³æ¦‚å¿µ æ­£å‘ä»£ç†å’Œåå‘ä»£ç† æ­£å‘ä»£ç†ï¼š ä¸€èˆ¬çš„è®¿é—®æµç¨‹æ˜¯å®¢æˆ·ç«¯ç›´æ¥å‘ç›®æ ‡æœåŠ¡å™¨å‘é€è¯·æ±‚å¹¶è·å–å†…å®¹ï¼Œä½¿ç”¨æ­£å‘ä»£ç†åï¼Œå®¢æˆ·ç«¯æ”¹ä¸ºå‘ä»£ç†æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¹¶æŒ‡å®šç›®æ ‡æœåŠ¡å™¨ï¼ˆåŸå§‹æœåŠ¡å™¨ï¼‰ï¼Œç„¶åç”±ä»£ç†æœåŠ¡å™¨å’ŒåŸå§‹æœåŠ¡å™¨é€šä¿¡ï¼Œè½¬äº¤è¯·æ±‚å¹¶è·å¾—çš„å†…å®¹ï¼Œå†è¿”å›ç»™å®¢æˆ·ç«¯ã€‚æ­£å‘ä»£ç†éšè—äº†çœŸå®çš„å®¢æˆ·ç«¯ï¼Œä¸ºå®¢æˆ·ç«¯æ”¶å‘è¯·æ±‚ï¼Œä½¿çœŸå®å®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨ä¸å¯è§ã€‚ æ­£å‘ä»£ç†æ­£å‘ä»£ç† åå‘ä»£ç†..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-04-23T09:49:11.000Z"><meta property="article:published_time" content="2024-06-30T00:00:00.000Z"><meta property="article:modified_time" content="2025-04-23T09:49:11.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"nginxå…¥é—¨","image":[""],"datePublished":"2024-06-30T00:00:00.000Z","dateModified":"2025-04-23T09:49:11.000Z","author":[{"@type":"Person","name":"WSQ","url":"https://0oWSQo0.github.com"}]}</script><title>nginxå…¥é—¨</title><meta name="description" content="ç›¸å…³æ¦‚å¿µ æ­£å‘ä»£ç†å’Œåå‘ä»£ç† æ­£å‘ä»£ç†ï¼š ä¸€èˆ¬çš„è®¿é—®æµç¨‹æ˜¯å®¢æˆ·ç«¯ç›´æ¥å‘ç›®æ ‡æœåŠ¡å™¨å‘é€è¯·æ±‚å¹¶è·å–å†…å®¹ï¼Œä½¿ç”¨æ­£å‘ä»£ç†åï¼Œå®¢æˆ·ç«¯æ”¹ä¸ºå‘ä»£ç†æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¹¶æŒ‡å®šç›®æ ‡æœåŠ¡å™¨ï¼ˆåŸå§‹æœåŠ¡å™¨ï¼‰ï¼Œç„¶åç”±ä»£ç†æœåŠ¡å™¨å’ŒåŸå§‹æœåŠ¡å™¨é€šä¿¡ï¼Œè½¬äº¤è¯·æ±‚å¹¶è·å¾—çš„å†…å®¹ï¼Œå†è¿”å›ç»™å®¢æˆ·ç«¯ã€‚æ­£å‘ä»£ç†éšè—äº†çœŸå®çš„å®¢æˆ·ç«¯ï¼Œä¸ºå®¢æˆ·ç«¯æ”¶å‘è¯·æ±‚ï¼Œä½¿çœŸå®å®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨ä¸å¯è§ã€‚ æ­£å‘ä»£ç†æ­£å‘ä»£ç† åå‘ä»£ç†...">
    <link rel="preload" href="/wsq-blog/assets/style-B8iyyxn3.css" as="style"><link rel="stylesheet" href="/wsq-blog/assets/style-B8iyyxn3.css">
    <link rel="modulepreload" href="/wsq-blog/assets/app-ByvFWdWZ.js"><link rel="modulepreload" href="/wsq-blog/assets/nginxå…¥é—¨.html-Qk3RJvA5.js"><link rel="modulepreload" href="/wsq-blog/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/wsq-blog/assets/index.html-BSfQOsmx.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/portfolio.html-aHfkZTSn.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/è¿›åˆ¶.html-DHZgwlKB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ACLè¯¦è§£.html-BG-9ozo-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ARPè¯¦è§£.html-CoAu515q.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/BGPè¯¦è§£.html-B0vP4-86.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/DHCPè¯¦è§£.html-CJWr4evl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/DNSè¯¦è§£.html-C3uLkQW1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/HTTPSè¯¦è§£.html-PwKzMMU8.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ICMPè¯¦è§£.html-DMGU3oKV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/IPv6è¯¦è§£.html-CGCSxNQ3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/IPè¯¦è§£.html-By96tj_6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ISISè¯¦è§£.html-QX-zOd5K.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/NATè¯¦è§£.html-oKsWiWu7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPF-LSA.html-BcAeDk7b.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPFå®æˆ˜.html-HEF_CxJl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPFç‰¹æ€§.html-DqfIIFbt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPFè¯¦è§£.html-DBPjZX1F.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RIPè¯¦è§£.html-Dp2werqk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RSTPã€MSTPè¯¦è§£.html-BkdsM3dk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/STPè¯¦è§£.html-CXykSBv0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/TCPå’ŒUDPè¯¦è§£.html-DOjpuEes.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VLANè¯¦è§£.html-Cs5aTN0A.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VPNè¯¦è§£.html-DIX5mqrQ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Wiresharkä½¿ç”¨æ•™ç¨‹.html-D2hm1f-q.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ä¸‰å±‚äº¤æ¢æœº.html-CSnJfryn.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/åä¸ºå‘½ä»¤.html-Xfb3vFgI.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/åº”ç”¨å±‚åè®®è¯¦è§£.html-DF9V027c.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/æ•°æ®é“¾è·¯å±‚åŸºç¡€çŸ¥è¯†.html-RJ-3LMqY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/æ— çº¿ç½‘ç»œè¯¦è§£.html-DAdsiXxr.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/æ ¡éªŒç .html-AaGZ4PbG.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ç½‘å…³å†—ä½™æŠ€æœ¯.html-Bo1MWUDW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ç½‘ç»œåŸºç¡€çŸ¥è¯†.html-DKfZSiD6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/è·¯ç”±åè®®è¯¦è§£.html-BhMnSkRC.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/è·¯ç”±å™¨.html-CX8AbjPj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/è·¯ç”±é«˜çº§ç‰¹æ€§.html-C1KK18Nb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/é“¾è·¯èšåˆæŠ€æœ¯.html-CPeE4qmK.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/é˜²ç«å¢™.html-PXiYXuwb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ç½‘ç«™æ”¶è—.html-DfPRdxuJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå…ƒç»„.html-pPDcDKpA.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå‡½æ•°.html-BAyS2nq3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonåˆ—è¡¨.html-D0iUsYLh.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå˜é‡.html-Dob3TVPT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonåŸºç¡€.html-DlUfRVIf.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå­—å…¸.html-p3EFtVd5.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå­—ç¬¦ä¸²å¸¸ç”¨æ–¹æ³•.html-DwxuRDTL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå¼‚å¸¸å¤„ç†æœºåˆ¶.html-1EJpIJP6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonæ–‡ä»¶æ“ä½œ.html-BampCUzW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonæ¨¡å—å’ŒåŒ….html-DT94KGxu.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonæµç¨‹æ§åˆ¶.html-BQteD_Oc.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonçˆ¬è™«.html-DCJ77gGX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonç±»å’Œå¯¹è±¡.html-BJWQ-n2N.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonç±»ç‰¹æ®Šæˆå‘˜.html-Bp9QlXU0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonè¿ç®—ç¬¦.html-KnBNpqs3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythoné›†åˆ.html-DxbldGD7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-SKV1j3iL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/disable.html-CA0sRvUs.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/encrypt.html-DmVbgUGC.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/layout.html-TNoAkjd0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/markdown.html-DMg2DnL4.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/page.html-B_GQWWBa.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/åä¸ºæ•°é€šç¬”è®°.html-Bi3N2Pns.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ç½‘ç»œ.html-BGAcJ14_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringJdbcTemplate.html-DOL86e0C.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springäº‹åŠ¡.html-DLAfkzgs.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springçš„æ•´ä½“è„‰ç»œ.html-CClZmSak.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”IOCå®ç°åŸç†ä¹‹Beanå®ä¾‹åŒ–.html-Dk2CwHZp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”IOCå®ç°åŸç†ä¹‹IOCä½“ç³»ç»“æ„è®¾è®¡.html-UJrVth3p.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”IOCå®ç°åŸç†ä¹‹IOCåˆå§‹åŒ–æµç¨‹.html-evZn4OW2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”Springå’ŒSpringæ¡†æ¶ç»„æˆ.html-CkuhG0Eh.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”æ§åˆ¶åè½¬IOC.html-C-Bc39vk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”ç®€å•ä¾‹å­å¼•å…¥Springè¦ç‚¹.html-B84hetmE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”é¢å‘åˆ‡é¢ç¼–ç¨‹(AOP).html-BQgkoZqE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java é›†åˆ.html-0N_TzQnO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaä¿®é¥°ç¬¦å’Œå…³é”®å­—.html-BvJVQVsA.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaå†…ç½®åŒ…è£…ç±».html-C-hepOv9.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaå†…éƒ¨ç±».html-C4FdaWwD.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaåå°„æœºåˆ¶.html-oeYtGez1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JavaåŸºç¡€â€”SPIæœºåˆ¶.html-4uzh2WVf.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JavaåŸºç¡€â€”åå°„æœºåˆ¶.html-D-MKugyK.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JavaåŸºç¡€â€”å¼‚å¸¸æœºåˆ¶.html-DDNQwipA.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JavaåŸºç¡€â€”æ³›å‹æœºåˆ¶.html-DP1S8174.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JavaåŸºç¡€â€”æ³¨è§£æœºåˆ¶.html-CU-x5J0P.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaå­—ç¬¦ä¸²å¤„ç†.html-9GnXb1Rp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaåºåˆ—åŒ–ä¸ååºåˆ—åŒ–.html-DnBMRZ9y.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaå¼‚å¸¸å¤„ç†.html-Cp-IrG4Q.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaæ•°å­—å¤„ç†.html-BvXjAFNI.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaæ•°ç»„.html-BNEHH_1f.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaæ•°ç»„æ“ä½œ.html-BwfqtLvL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaæ—¶é—´æ—¥æœŸçš„å¤„ç†.html-CuaVPbFo.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaæ³›å‹å’Œæšä¸¾.html-Bibi9yzw.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaç±»å’Œå¯¹è±¡.html-Bm5x8XBN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaè¾“å…¥è¾“å‡ºæµ.html-OlFLa09Y.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/javaç»§æ‰¿å°è£…å’Œå¤šæ€.html-C3Yl6Cnf.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”Mapperæ˜ å°„æ–‡ä»¶é…ç½®.html-x9qGtPpC.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”sqlSessionæ‰§è¡Œæµç¨‹.html-CWxK879o.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”ä¸€çº§ç¼“å­˜å®ç°æœºåˆ¶.html-D_LKUttl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”äº‹åŠ¡ç®¡ç†æœºåˆ¶.html-V89vhtm8.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”äºŒçº§ç¼“å­˜å®ç°æœºåˆ¶.html-BCn599HL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”åˆå§‹åŒ–åŸºæœ¬æµç¨‹.html-bBqkOfuB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”åŠ¨æ€SQLä½¿ç”¨ä¸åŸç†.html-DL32eTKP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”æ€»ä½“æ¡†æ¶è®¾è®¡.html-BBU-3Gou.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”æ’ä»¶ä¹‹åˆ†é¡µæœºåˆ¶.html-CDFGt0SL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”æ’ä»¶æœºåˆ¶.html-8S8TBoEp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”æ•°æ®æºä¸è¿æ¥æ± .html-CEPu9Nf_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”é…ç½®æ¸…å•.html--XhKRE6S.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”é…ç½®è§£æè¿‡ç¨‹.html-BFtMLJMU.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Servlet Cookieå’ŒSession.html-DR2A0Cc2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Servletè¿‡æ»¤å™¨.html-C-NQB2b5.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/servlet1.html-DRb571A2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/servlet2.html-42PPduQR.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/servlet3.html-eov36YBN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”devtools.html-BXROBh-R.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”å¸¸ç”¨æ³¨è§£.html-Ba8Tih1P.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”é›†æˆDruidè¿æ¥æ± .html-CfjBnMCc.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”é›†æˆEasyExcel.html-DTvFJSnm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”é›†æˆPOI.html-BiH9WmpS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”é›†æˆactuatorç›‘æ§å·¥å…·.html-BVL5qe48.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”é›†æˆadminç›‘æ§å·¥å…·.html-DjQrZ20J.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBooté›†æˆMyBatisâ€”XMLæ–¹å¼.html-CFyiCOLH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBooté›†æˆMybatisâ€”PageHelperåˆ†é¡µ.html-BLcVZkfP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBooté›†æˆMybatisâ€”æ³¨è§£æ–¹å¼.html-C8dL65Sg.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVCå…¥é—¨.html-C0Ng_82L.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVCåŸŸå¯¹è±¡å…±äº«æ•°æ®.html-CKA3VxTc.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVCå®ç°Restful.html-DInf6ncA.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVCè·å–è¯·æ±‚å‚æ•°.html-fa8W1woe.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVCè§†å›¾å’Œè§†å›¾è§£æå™¨.html-B3U4PGXL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/æ–‡å­—ç‰¹æ•ˆ.html-CWW-bzoz.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 ArrayBuffer.html-2W36NTHK.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Class.html-D-l69BPD.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Classçš„ç»§æ‰¿.html-BTxqf1fX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Moduleçš„åŠ è½½å®ç°.html-aBa1Rgt8.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Moduleè¯­æ³•.html-BXcB1aqO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Setå’ŒMap.html-pJ3RLOKS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 asyncå‡½æ•°.html-DfIxmzAm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 letå’Œconst.html-BP9Y3Llx.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 proxy.html-uniH-Ytf.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6Iteratorå’Œforofå¾ªç¯.html-DTlAuXRp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6Promiseå¯¹è±¡.html-X0038wAX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6Symbol.html-vhpPuvNp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6å‡½æ•°.html-Walfbb8j.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6å­—ç¬¦ä¸².html-DGP1y6Mt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6å¯¹è±¡.html-C9vMcfc3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6æ•°å€¼.html-SmGBY7Dy.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6æ•°ç»„.html-CoksV7eK.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6ç»“æ„èµ‹å€¼.html-BQ92au-D.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6è¿ç®—ç¬¦.html-Bs3f4iJZ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/d.tsç±»å‹å£°æ˜æ–‡ä»¶.html-FaTrqTNS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsä¸‰ç§ç‰¹æ®Šç±»å‹.html-BRPQpIAI.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tså‡½æ•°ç±»å‹.html--6E7_dgc.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tså¯¹è±¡ç±»å‹.html-D_srTGKv.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsæ•°æ®ç±»å‹.html-DdGu-2OM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsæ•°ç»„å’Œå…ƒç»„.html-CpSB7IfP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsæ³›å‹.html-CNg_kaja.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsçš„Enumç±»å‹.html-B0prNOGB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsçš„interfaceæ¥å£.html-Ck9jEaZi.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsç±»å‹æ–­è¨€.html-D48eOsHa.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-CanvasAPI.html-B6FROLkX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-ClipboardAPI.html-0jgZMKkU.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-FetchAPI.html-Cw8kemav.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-File_FileList_FileReader.html-y4iXaL7r.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-FormData.html-Ce7PdjOD.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-History.html-DGhVAnAu.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-SVG.html-BBglUUsf.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-URL.html-OIxMamXE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-URLPatternAPI.html-C0Z9MUp-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-WebSocket.html-ByF7T6KK.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-window.html-V5DKdGqJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JSå®ç”¨ä»£ç ç‰‡æ®µ.html-Doj17dcN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Dockerfileå®šåˆ¶é•œåƒ.html-BqJFqn9-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/DockeråŸºç¡€.html-uLBanoLh.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Dockerçš„æ•°æ®å·.html-77QNeeko.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Dockerçš„ç½‘ç»œ.html-B5ZPYRuZ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/docker-compose.html-BSZgYk07.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/çƒ­é—¨é•œåƒå®‰è£….html-DZX34XX3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/é›†æˆDockerå®ç°ä¸€é”®éƒ¨ç½².html-1Fb2sueb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”å…¥é—¨.html-DKt3zrnh.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”å‡½æ•°.html-DhI9gh7d.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”å˜é‡.html-BxAscfVJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”å­—ç¬¦ä¸²æ“ä½œ.html-CblAJx4i.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”å¸¸ç”¨å‘½ä»¤.html-CUG0uuSR.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”æ•°ç»„.html-B5xdV-o-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”æ¨¡å¼æ‰©å±•.html-C5iBpyvX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”æµç¨‹æ§åˆ¶.html-DQ0Mltck.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”ç®—æ•°è¿ç®—.html-dj-lv_1k.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/LinuxSSHå‘½ä»¤.html-ZEixwzzn.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/LinuxVim.html-BLR2nTK4.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxå…¥é—¨.html-ChkQ41jS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxå¸¸ç”¨è½¯ä»¶å®‰è£….html-Cnbim67c.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæ‰“åŒ…å‹ç¼©å‘½ä»¤.html-BoroE2eH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæ“ä½œå†å².html-DWyTTK-y.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæ–‡ä»¶ç›®å½•ç›¸å…³å‘½ä»¤.html-CiIm7__W.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæ–‡ä»¶ç³»ç»Ÿç»“æ„.html-CrEKZlHu.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæ–‡æœ¬æ“ä½œå‘½ä»¤.html-dpby_lpV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæƒé™ç®¡ç†.html-bnFYZPlz.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†.html-BJBnRb6g.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxç£ç›˜ç›¸å…³å‘½ä»¤.html-DfAEL6fl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxç³»ç»ŸæœåŠ¡ç®¡ç†.html-BUdwZwBz.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxç½‘ç»œç›¸å…³å‘½ä»¤.html-Cht05aA3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxè½¯ä»¶å®‰è£….html-C1sIpfsj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxè¿›ç¨‹ç›¸å…³å‘½ä»¤.html-UEE7xCyV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxé˜²ç«å¢™è¯¦è§£.html-BmEe5q02.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linxå…¶å®ƒå¸¸ç”¨å‘½ä»¤.html-UiiLkvyg.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VMwareå®‰è£…linux.html-QKlGqGYf.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/linuxå¸¸ç”¨å·¥å…·.html-ByzRfgkW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/å®‰è£…è„šæœ¬å®ä¾‹.html-C7RRJ0lE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ansible-playbook.html-DXfEAASm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ansible.html-88oi0H4U.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ansibleå¸¸ç”¨æ¨¡å—.html-CMsfTp6D.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RequestsåŸºæœ¬ç”¨æ³•.html-B6BIASSQ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Scrapyçˆ¬è™«æ¡†æ¶.html-BqGGmM3t.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/urllibåŒ….html-CoRMY1yu.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLäº‹åŠ¡.html-Csl-FK9k.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå…¥é—¨.html-DxbZNXsn.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLåŸºç¡€æŸ¥è¯¢.html-DtPhx34t.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå¤šè¡¨æŸ¥è¯¢.html-C5wfhCu-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå­—ç¬¦é›†å’Œæ ¡å¯¹è§„åˆ™.html-_isALRAV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå­˜å‚¨å¼•æ“.html-hAlOhDuw.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå­˜å‚¨è¿‡ç¨‹.html-CBmiE5Hp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå®‰è£….html-DSTAYqzW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå¸¸ç”¨å‡½æ•°æ±‡æ€».html-D4XqfSXy.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå¸¸è§é—®é¢˜.html-BCBw0sYk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ‰§è¡Œæµç¨‹.html-Bfg1btkF.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ“ä½œè¡¨ä¸­çš„æ•°æ®.html-BGUDeAQw.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ•°æ®åº“å¤‡ä»½æ¢å¤.html-HumVlNWo.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ•°æ®åº“çš„åŸºæœ¬æ“ä½œ.html-B82VpT7r.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ•°æ®ç±»å‹.html-BqwApVXp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ.html-B_20RMPW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ—¥å¿—.html-94bBpZU9.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLç”¨æˆ·ç®¡ç†.html-Cb2HMAiy.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLç´¢å¼•.html-C35luInt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLçº¦æŸ.html-09BWcaJ7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLè§†å›¾.html-Cf5fEmuE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLè§¦å‘å™¨.html-OdMIFndx.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLè¯•é¢˜.html-BRDkSaTE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLè¿ç®—ç¬¦.html-lumHpRXZ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLé”æœºåˆ¶.html-BtjEv1C3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLé«˜çº§æŸ¥è¯¢.html-65qBiYTk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redis Stream.html-Cp8IdQRY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Rediså‘å¸ƒè®¢é˜…æ¨¡å¼.html-DcqPz2sU.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RedisåŸºç¡€å…¥é—¨.html-NdtPa-dl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RedisåŸºç¡€æ•°æ®ç±»å‹.html-B1v0M5Se.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redisç‰¹æ®Šæ•°æ®ç±»å‹.html-DQlbnRMh.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redisçš„é”®.html-CNvpanbv.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redisé…ç½®æ–‡ä»¶.html-CyhfkNKb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/1.html-DpdH85iE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/404.html-DzRdV6V6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-D7tXnyZ0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-b0AWykz7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BBMr7hCo.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-9fdm_HkX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-DuegT34i.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-DklkDajr.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-XChYpJBG.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-D6p1qA0N.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CHmVJb_t.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CXAYNa7w.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-C-S1-DbF.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-Cnc2VbWo.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-DFvnKRgy.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-YSycvwyb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-DpAB-Q-D.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-GGmeWdNo.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-Ck37IaW9.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-ZnTpcma4.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-XeWczNmA.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BQW6HZIv.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CrKsaQfz.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-B-3-hgWd.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-C2QDHVvc.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CrONlmu0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BdNQ2gpr.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-Bowp21mE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/giscus-BZxmVUME.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index-BYq9jyaM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index-DRWmbcXV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index-B9oRC6ej.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/mermaid.esm.min-C4kqu-t4.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/setupDevtools-7MC2TMWH-CNm3RiJ7.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/wsq-blog/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="/wsq-blog/logo.png" alt><!----><!----></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/wsq-blog/" aria-label="ä¸»é¡µ"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:google-home" width="1em" height="1em"></iconify-icon><!--]-->ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å‰ç«¯"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:javascript" width="1em" height="1em"></iconify-icon>å‰ç«¯<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/js/%E5%9F%BA%E7%A1%80/" aria-label="JSåŸºç¡€"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:javascript" width="1em" height="1em"></iconify-icon><!--]-->JSåŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/js/es6/" aria-label="ES6"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:es6" width="1em" height="1em"></iconify-icon><!--]-->ES6<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/js/CSS/" aria-label="CSS"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:css3" width="1em" height="1em"></iconify-icon><!--]-->CSS<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Java"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon>Java<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/java%E5%9F%BA%E7%A1%80/" aria-label="JavaåŸºç¡€"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon><!--]-->JavaåŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/mybatis/" aria-label="Mybatis"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Mybatis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/Spring/" aria-label="Spring"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Spring<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/springBoot/" aria-label="springBoot"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->springBoot<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="SQL"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:azuresqldatabase" width="1em" height="1em"></iconify-icon>SQL<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/sql/redis/" aria-label="Redis"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:redis" width="1em" height="1em"></iconify-icon><!--]-->Redis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/sql/mysql/" aria-label="MySQL"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql-wordmark" width="1em" height="1em"></iconify-icon><!--]-->MySQL<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="è¿ç»´"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:centos" width="1em" height="1em"></iconify-icon>è¿ç»´<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/linux/linux%E5%9F%BA%E7%A1%80/" aria-label="linuxåŸºç¡€"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:linux" width="1em" height="1em"></iconify-icon><!--]-->linuxåŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/linux/docker/" aria-label="Docker"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:docker" width="1em" height="1em"></iconify-icon><!--]-->Docker<!----></a></li><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/wsq-blog/linux/tools/" aria-label="è¿ç»´å·¥å…·"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:linux" width="1em" height="1em"></iconify-icon><!--]-->è¿ç»´å·¥å…·<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="è®¡ç®—æœºåŸºç¡€"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:windows11" width="1em" height="1em"></iconify-icon>è®¡ç®—æœºåŸºç¡€<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/network/" aria-label="ç½‘ç»œ"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:networkx" width="1em" height="1em"></iconify-icon><!--]-->ç½‘ç»œ<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/computer/" aria-label="å…¶ä»–"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:haskell" width="1em" height="1em"></iconify-icon><!--]-->å…¶ä»–<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://0oWSQo0.github.com" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/" aria-label="ä¸»é¡µ"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:google-home" width="1em" height="1em"></iconify-icon><!--]-->ä¸»é¡µ<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->nginxå…¥é—¨</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://0oWSQo0.github.com" target="_blank" rel="noopener noreferrer">WSQ</a></span><span property="author" content="WSQ"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2024å¹´6æœˆ30æ—¥</span><meta property="datePublished" content="2024-06-30T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 20 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT20M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color2" role>Linux</span><!--]--><meta property="articleSection" content="Linux"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color7" role>Nginx</span><!--]--><meta property="keywords" content="Nginx"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç›¸å…³æ¦‚å¿µ">ç›¸å…³æ¦‚å¿µ</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æ­£å‘ä»£ç†å’Œåå‘ä»£ç†">æ­£å‘ä»£ç†å’Œåå‘ä»£ç†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è´Ÿè½½å‡è¡¡">è´Ÿè½½å‡è¡¡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŠ¨é™åˆ†ç¦»">åŠ¨é™åˆ†ç¦»</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#nginxå®‰è£…">Nginxå®‰è£…</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#yumå®‰è£…">yumå®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æºç åŒ…å®‰è£…">æºç åŒ…å®‰è£…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¯åŠ¨å¯èƒ½é‡åˆ°çš„é—®é¢˜">å¯åŠ¨å¯èƒ½é‡åˆ°çš„é—®é¢˜</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#nginxè¿è¡Œ">nginxè¿è¡Œ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#nginx-æ“ä½œå¸¸ç”¨å‘½ä»¤">Nginx æ“ä½œå¸¸ç”¨å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#nginx-é…ç½®è¯­æ³•">Nginx é…ç½®è¯­æ³•</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#location">location</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#locationåŒ¹é…æ¡ˆä¾‹">locationåŒ¹é…æ¡ˆä¾‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å…¨å±€å˜é‡">å…¨å±€å˜é‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#proxy-passé…ç½®åå‘ä»£ç†">proxy_passé…ç½®åå‘ä»£ç†</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#serverå’Œlocationæ¨¡å—ä¸­proxy-passçš„åŒºåˆ«">serverå’Œlocationæ¨¡å—ä¸­proxy_passçš„åŒºåˆ«</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å¼€å¯gzipå‹ç¼©">å¼€å¯gzipå‹ç¼©</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é…ç½®åŠ¨é™åˆ†ç¦»">é…ç½®åŠ¨é™åˆ†ç¦»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é…ç½®è´Ÿè½½å‡è¡¡">é…ç½®è´Ÿè½½å‡è¡¡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é…ç½®https">é…ç½®HTTPS</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å›¾ç‰‡é˜²ç›—é“¾">å›¾ç‰‡é˜²ç›—é“¾</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é…ç½®é™æ€æ–‡ä»¶ç¼“å­˜">é…ç½®é™æ€æ–‡ä»¶ç¼“å­˜</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#æ”¯æŒwebsocket">æ”¯æŒwebsocket</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#è®¾ç½®è¯·æ±‚bodyå¤§å°">è®¾ç½®è¯·æ±‚bodyå¤§å°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#rootå’Œaliasçš„åŒºåˆ«">rootå’Œaliasçš„åŒºåˆ«</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å•é¡µé¢é¡¹ç›®-history-è·¯ç”±é…ç½®">å•é¡µé¢é¡¹ç›® history è·¯ç”±é…ç½®</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h2 id="ç›¸å…³æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#ç›¸å…³æ¦‚å¿µ"><span>ç›¸å…³æ¦‚å¿µ</span></a></h2><h3 id="æ­£å‘ä»£ç†å’Œåå‘ä»£ç†" tabindex="-1"><a class="header-anchor" href="#æ­£å‘ä»£ç†å’Œåå‘ä»£ç†"><span>æ­£å‘ä»£ç†å’Œåå‘ä»£ç†</span></a></h3><p>æ­£å‘ä»£ç†ï¼š ä¸€èˆ¬çš„è®¿é—®æµç¨‹æ˜¯å®¢æˆ·ç«¯ç›´æ¥å‘ç›®æ ‡æœåŠ¡å™¨å‘é€è¯·æ±‚å¹¶è·å–å†…å®¹ï¼Œä½¿ç”¨æ­£å‘ä»£ç†åï¼Œå®¢æˆ·ç«¯æ”¹ä¸ºå‘ä»£ç†æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå¹¶æŒ‡å®šç›®æ ‡æœåŠ¡å™¨ï¼ˆåŸå§‹æœåŠ¡å™¨ï¼‰ï¼Œç„¶åç”±ä»£ç†æœåŠ¡å™¨å’ŒåŸå§‹æœåŠ¡å™¨é€šä¿¡ï¼Œè½¬äº¤è¯·æ±‚å¹¶è·å¾—çš„å†…å®¹ï¼Œå†è¿”å›ç»™å®¢æˆ·ç«¯ã€‚æ­£å‘ä»£ç†éšè—äº†çœŸå®çš„å®¢æˆ·ç«¯ï¼Œä¸ºå®¢æˆ·ç«¯æ”¶å‘è¯·æ±‚ï¼Œä½¿çœŸå®å®¢æˆ·ç«¯å¯¹æœåŠ¡å™¨ä¸å¯è§ã€‚</p><figure><img src="/wsq-blog/assets/img1-CX_gkXHV.png" alt="æ­£å‘ä»£ç†" tabindex="0" loading="lazy"><figcaption>æ­£å‘ä»£ç†</figcaption></figure><p>åå‘ä»£ç†ï¼šä¸ä¸€èˆ¬è®¿é—®æµç¨‹ç›¸æ¯”ï¼Œä½¿ç”¨åå‘ä»£ç†åï¼Œç›´æ¥æ”¶åˆ°è¯·æ±‚çš„æœåŠ¡å™¨æ˜¯ä»£ç†æœåŠ¡å™¨ï¼Œç„¶åå°†è¯·æ±‚è½¬å‘ç»™å†…éƒ¨ç½‘ç»œä¸ŠçœŸæ­£è¿›è¡Œå¤„ç†çš„æœåŠ¡å™¨ï¼Œå¾—åˆ°çš„ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚åå‘ä»£ç†éšè—äº†çœŸå®çš„æœåŠ¡å™¨ï¼Œä¸ºæœåŠ¡å™¨æ”¶å‘è¯·æ±‚ï¼Œä½¿çœŸå®æœåŠ¡å™¨å¯¹å®¢æˆ·ç«¯ä¸å¯è§ã€‚ä¸€èˆ¬åœ¨å¤„ç†è·¨åŸŸè¯·æ±‚çš„æ—¶å€™æ¯”è¾ƒå¸¸ç”¨ã€‚ç°åœ¨åŸºæœ¬ä¸Šæ‰€æœ‰çš„å¤§å‹ç½‘ç«™éƒ½è®¾ç½®äº†åå‘ä»£ç†ã€‚</p><figure><img src="/wsq-blog/assets/img2-C8jp_qHk.png" alt="åå‘ä»£ç†" tabindex="0" loading="lazy"><figcaption>åå‘ä»£ç†</figcaption></figure><p>ç®€å•çš„è¯´ï¼Œä¸€èˆ¬ç»™å®¢æˆ·ç«¯åšä»£ç†çš„éƒ½æ˜¯æ­£å‘ä»£ç†ï¼Œç»™æœåŠ¡å™¨åšä»£ç†çš„å°±æ˜¯åå‘ä»£ç†ã€‚</p><h3 id="è´Ÿè½½å‡è¡¡" tabindex="-1"><a class="header-anchor" href="#è´Ÿè½½å‡è¡¡"><span>è´Ÿè½½å‡è¡¡</span></a></h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå®¢æˆ·ç«¯å‘é€å¤šä¸ªè¯·æ±‚åˆ°æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†å¯èƒ½è¦æ“ä½œä¸€äº›èµ„æºæ¯”å¦‚æ•°æ®åº“ã€é™æ€èµ„æºç­‰ï¼ŒæœåŠ¡å™¨å¤„ç†å®Œæ¯•åï¼Œå†å°†ç»“æœè¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p><p>è¿™ç§æ¨¡å¼å¯¹äºæ—©æœŸçš„ç³»ç»Ÿæ¥è¯´ï¼ŒåŠŸèƒ½è¦æ±‚ä¸å¤æ‚ï¼Œä¸”å¹¶å‘è¯·æ±‚ç›¸å¯¹è¾ƒå°‘çš„æƒ…å†µä¸‹è¿˜èƒ½èƒœä»»ï¼Œæˆæœ¬ä¹Ÿä½ã€‚éšç€ä¿¡æ¯æ•°é‡ä¸æ–­å¢é•¿ï¼Œè®¿é—®é‡å’Œæ•°æ®é‡é£é€Ÿå¢é•¿ï¼Œä»¥åŠç³»ç»Ÿä¸šåŠ¡å¤æ‚åº¦æŒç»­å¢åŠ ï¼Œè¿™ç§åšæ³•å·²æ— æ³•æ»¡è¶³è¦æ±‚ï¼Œå¹¶å‘é‡ç‰¹åˆ«å¤§æ—¶ï¼ŒæœåŠ¡å™¨å®¹æ˜“å´©ã€‚</p><p>å¾ˆæ˜æ˜¾è¿™æ˜¯ç”±äºæœåŠ¡å™¨æ€§èƒ½çš„ç“¶é¢ˆé€ æˆçš„é—®é¢˜ï¼Œé™¤äº†å †æœºå™¨ä¹‹å¤–ï¼Œæœ€é‡è¦çš„åšæ³•å°±æ˜¯è´Ÿè½½å‡è¡¡ã€‚</p><p>è¯·æ±‚çˆ†å‘å¼å¢é•¿çš„æƒ…å†µä¸‹ï¼Œå•ä¸ªæœºå™¨æ€§èƒ½å†å¼ºåŠ²ä¹Ÿæ— æ³•æ»¡è¶³è¦æ±‚äº†ï¼Œè¿™ä¸ªæ—¶å€™é›†ç¾¤çš„æ¦‚å¿µäº§ç”Ÿäº†ï¼Œå•ä¸ªæœåŠ¡å™¨è§£å†³ä¸äº†çš„é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨å¤šä¸ªæœåŠ¡å™¨ï¼Œç„¶åå°†è¯·æ±‚åˆ†å‘åˆ°å„ä¸ªæœåŠ¡å™¨ä¸Šï¼Œå°†è´Ÿè½½åˆ†å‘åˆ°ä¸åŒçš„æœåŠ¡å™¨ï¼Œè¿™å°±æ˜¯è´Ÿè½½å‡è¡¡ï¼Œæ ¸å¿ƒæ˜¯ã€Œåˆ†æ‘Šå‹åŠ›ã€ã€‚Nginx å®ç°è´Ÿè½½å‡è¡¡ï¼Œä¸€èˆ¬æ¥è¯´æŒ‡çš„æ˜¯å°†è¯·æ±‚è½¬å‘ç»™æœåŠ¡å™¨é›†ç¾¤ã€‚</p><figure><img src="/wsq-blog/assets/img3-DMQVpoha.png" alt="è´Ÿè½½å‡è¡¡" tabindex="0" loading="lazy"><figcaption>è´Ÿè½½å‡è¡¡</figcaption></figure><h3 id="åŠ¨é™åˆ†ç¦»" tabindex="-1"><a class="header-anchor" href="#åŠ¨é™åˆ†ç¦»"><span>åŠ¨é™åˆ†ç¦»</span></a></h3><p>ä¸ºäº†åŠ å¿«ç½‘ç«™çš„è§£æé€Ÿåº¦ï¼Œå¯ä»¥æŠŠåŠ¨æ€é¡µé¢å’Œé™æ€é¡µé¢ç”±ä¸åŒçš„æœåŠ¡å™¨æ¥è§£æï¼ŒåŠ å¿«è§£æé€Ÿåº¦ï¼Œé™ä½åŸæ¥å•ä¸ªæœåŠ¡å™¨çš„å‹åŠ›ã€‚</p><figure><img src="/wsq-blog/assets/img4-CC2v2kge.png" alt="åŠ¨é™åˆ†ç¦»" tabindex="0" loading="lazy"><figcaption>åŠ¨é™åˆ†ç¦»</figcaption></figure><p>ä¸€èˆ¬æ¥è¯´ï¼Œéƒ½éœ€è¦å°†åŠ¨æ€èµ„æºå’Œé™æ€èµ„æºåˆ†å¼€ï¼Œç”±äº Nginx çš„é«˜å¹¶å‘å’Œé™æ€èµ„æºç¼“å­˜ç­‰ç‰¹æ€§ï¼Œç»å¸¸å°†é™æ€èµ„æºéƒ¨ç½²åœ¨ Nginx ä¸Šã€‚å¦‚æœè¯·æ±‚çš„æ˜¯é™æ€èµ„æºï¼Œç›´æ¥åˆ°é™æ€èµ„æºç›®å½•è·å–èµ„æºï¼Œå¦‚æœæ˜¯åŠ¨æ€èµ„æºçš„è¯·æ±‚ï¼Œåˆ™åˆ©ç”¨åå‘ä»£ç†çš„åŸç†ï¼ŒæŠŠè¯·æ±‚è½¬å‘ç»™å¯¹åº”åå°åº”ç”¨å»å¤„ç†ï¼Œä»è€Œå®ç°åŠ¨é™åˆ†ç¦»ã€‚</p><p>ä½¿ç”¨å‰åç«¯åˆ†ç¦»åï¼Œå¯ä»¥å¾ˆå¤§ç¨‹åº¦æå‡é™æ€èµ„æºçš„è®¿é—®é€Ÿåº¦ï¼Œå³ä½¿åŠ¨æ€æœåŠ¡ä¸å¯ç”¨ï¼Œé™æ€èµ„æºçš„è®¿é—®ä¹Ÿä¸ä¼šå—åˆ°å½±å“ã€‚</p><h2 id="nginxå®‰è£…" tabindex="-1"><a class="header-anchor" href="#nginxå®‰è£…"><span>Nginxå®‰è£…</span></a></h2><h3 id="yumå®‰è£…" tabindex="-1"><a class="header-anchor" href="#yumå®‰è£…"><span>yumå®‰è£…</span></a></h3><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;"># æ–¹æ³•ä¸€ï¼Œåˆ©ç”¨é˜¿é‡Œé•œåƒæº</span></span>
<span class="line"><span style="color:#F0F3F6;">[root@localhost </span><span style="color:#FF9492;">~</span><span style="color:#F0F3F6;">]# yum install nginx -y</span></span>
<span class="line"><span style="color:#BDC4CC;"># æ–¹æ³•äºŒï¼Œåˆ©ç”¨nginxå®˜æ–¹é•œåƒæº</span></span>
<span class="line"><span style="color:#F0F3F6;">[root@localhost </span><span style="color:#FF9492;">~</span><span style="color:#F0F3F6;">]# vim /etc/yum.repos.d/nginx.repo</span></span>
<span class="line"><span style="color:#BDC4CC;"># å¤åˆ¶ç²˜è´´ä¸‹é¢é•œåƒæºåœ°å€</span></span>
<span class="line"><span style="color:#F0F3F6;">[nginx-stable]</span></span>
<span class="line"><span style="color:#F0F3F6;">name</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">nginx</span><span style="color:#FFB757;"> stable</span><span style="color:#ADDCFF;"> repo</span></span>
<span class="line"><span style="color:#F0F3F6;">baseurl</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">http://nginx.org/packages/centos/</span><span style="color:#F0F3F6;">$releasever</span><span style="color:#ADDCFF;">/</span><span style="color:#F0F3F6;">$basearch</span><span style="color:#ADDCFF;">/</span></span>
<span class="line"><span style="color:#F0F3F6;">gpgcheck</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">0</span></span>
<span class="line"><span style="color:#F0F3F6;">enabled</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">1</span></span>
<span class="line"><span style="color:#F0F3F6;">gpgkey</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">https://nginx.org/keys/nginx_signing.key</span></span>
<span class="line"><span style="color:#F0F3F6;">module_hotfixes</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">[root@localhost </span><span style="color:#FF9492;">~</span><span style="color:#F0F3F6;">]# yum install nginx -y</span></span></code></pre></div><p>æŸ¥çœ‹ nginx ç›¸å…³ç›®å½•æ–‡ä»¶ï¼š</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[root@localhost </span><span style="color:#FF9492;">~</span><span style="color:#F0F3F6;">]# rpm -ql nginx</span></span>
<span class="line"><span style="color:#FFB757;">/etc/logrotate.d/nginx</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/fastcgi.conf</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/fastcgi.conf.default</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/fastcgi_params</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/fastcgi_params.default</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/koi-utf</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/koi-win</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/mime.types</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/mime.types.default</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/nginx.conf</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/nginx.conf.default</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/scgi_params</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/scgi_params.default</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/uwsgi_params</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/uwsgi_params.default</span></span>
<span class="line"><span style="color:#FFB757;">/etc/nginx/win-utf</span></span>
<span class="line"><span style="color:#FFB757;">/usr/bin/nginx-upgrade</span></span>
<span class="line"><span style="color:#FFB757;">/usr/lib/systemd/system/nginx.service</span></span>
<span class="line"><span style="color:#FFB757;">/usr/lib64/nginx/modules</span></span>
<span class="line"><span style="color:#FFB757;">/usr/sbin/nginx</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/doc/nginx-1.20.1</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/doc/nginx-1.20.1/CHANGES</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/doc/nginx-1.20.1/README</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/doc/nginx-1.20.1/README.dynamic</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/doc/nginx-1.20.1/UPGRADE-NOTES-1.6-to-1.10</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/licenses/nginx-1.20.1</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/licenses/nginx-1.20.1/LICENSE</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/man/man3/nginx.3pm.gz</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/man/man8/nginx-upgrade.8.gz</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/man/man8/nginx.8.gz</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/nginx/html/404.html</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/nginx/html/50x.html</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/nginx/html/en-US</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/nginx/html/icons</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/nginx/html/icons/poweredby.png</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/nginx/html/img</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/nginx/html/index.html</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/nginx/html/nginx-logo.png</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/nginx/html/poweredby.png</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/nginx/modules</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/vim/vimfiles/ftdetect/nginx.vim</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/vim/vimfiles/ftplugin/nginx.vim</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/vim/vimfiles/indent/nginx.vim</span></span>
<span class="line"><span style="color:#FFB757;">/usr/share/vim/vimfiles/syntax/nginx.vim</span></span>
<span class="line"><span style="color:#FFB757;">/var/lib/nginx</span></span>
<span class="line"><span style="color:#FFB757;">/var/lib/nginx/tmp</span></span>
<span class="line"><span style="color:#FFB757;">/var/log/nginx</span></span>
<span class="line"><span style="color:#FFB757;">/var/log/nginx/access.log</span></span>
<span class="line"><span style="color:#FFB757;">/var/log/nginx/error.log</span></span></code></pre></div><ul><li><code>/etc/nginx/nginx.conf</code>æ˜¯ä¸»é…ç½®æ–‡ä»¶</li><li><code>/usr/share/nginx/html/</code>æ–‡ä»¶å¤¹æ˜¯å­˜æ”¾é™æ€æ–‡ä»¶çš„ç›®å½•</li><li><code>/var/log/nginx/</code>æ˜¯ Nginx æ—¥å¿—å­˜æ”¾ç›®å½•</li></ul><h3 id="æºç åŒ…å®‰è£…" tabindex="-1"><a class="header-anchor" href="#æºç åŒ…å®‰è£…"><span>æºç åŒ…å®‰è£…</span></a></h3><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;"># å®‰è£…ä¾èµ–</span></span>
<span class="line"><span style="color:#FFB757;">yum</span><span style="color:#91CBFF;"> -y</span><span style="color:#ADDCFF;"> install</span><span style="color:#ADDCFF;"> gcc</span><span style="color:#ADDCFF;"> zlib</span><span style="color:#ADDCFF;"> zlib-devel</span><span style="color:#ADDCFF;"> pcre-devel</span><span style="color:#ADDCFF;"> openssl</span><span style="color:#ADDCFF;"> openssl-devel</span></span>
<span class="line"><span style="color:#BDC4CC;"># ä¸‹è½½taråŒ…</span></span>
<span class="line"><span style="color:#FFB757;">wget</span><span style="color:#ADDCFF;"> http://nginx.org/download/nginx-1.24.0.tar.gz</span></span>
<span class="line"><span style="color:#FFB757;">tar</span><span style="color:#91CBFF;"> -xvf</span><span style="color:#ADDCFF;"> nginx-1.24.0.tar.gz</span></span>
<span class="line"><span style="color:#BDC4CC;"># è¿›å…¥nginxç›®å½•</span></span>
<span class="line"><span style="color:#91CBFF;">cd</span><span style="color:#ADDCFF;"> nginx-1.24.0</span></span>
<span class="line"><span style="color:#BDC4CC;"># æ‰§è¡Œå‘½ä»¤</span></span>
<span class="line"><span style="color:#FFB757;">./configure</span></span>
<span class="line"><span style="color:#BDC4CC;"># ./configure --helpæŸ¥çœ‹å¸®åŠ©ä¿¡æ¯</span></span>
<span class="line"><span style="color:#FFB757;">make</span></span>
<span class="line"><span style="color:#FFB757;">make</span><span style="color:#ADDCFF;"> install</span></span></code></pre></div><p>å®‰è£…å®Œæˆä¼šåœ¨<code>/usr/local</code>ç›®å½•ä¸‹å‡ºç°<code>nginx</code>ç›®å½•ã€‚</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>å¦‚æœéœ€è¦æ”¯æŒ<code>https</code>éœ€è¦åŠ ä¸Š<code>./configure --with-http_ssl_module</code></p></div><p>é…ç½®<code>nginx.conf</code>ã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">vim</span><span style="color:#ADDCFF;"> /usr/local/nginx/conf/nginx.conf</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">server</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#FFB757;">    listen</span><span style="color:#91CBFF;">       80</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">    server_name</span><span style="color:#ADDCFF;">  localhost</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#91CBFF;">    ...</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><p>å¯åŠ¨ nginxã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;"># æºç åŒ…å®‰è£…çš„å¯åŠ¨å‘½ä»¤</span></span>
<span class="line"><span style="color:#FFB757;">/usr/local/nginx/sbin/nginx</span><span style="color:#91CBFF;"> -s</span><span style="color:#ADDCFF;"> reload</span></span>
<span class="line"><span style="color:#BDC4CC;"># äºŒè¿›åˆ¶åŒ…å®‰è£…çš„å¯åŠ¨å‘½ä»¤</span></span>
<span class="line"><span style="color:#FFB757;">systemctl</span><span style="color:#ADDCFF;"> start</span><span style="color:#ADDCFF;"> nginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">ps</span><span style="color:#91CBFF;"> -ef</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> grep</span><span style="color:#ADDCFF;"> nginx</span></span></code></pre></div><h3 id="å¯åŠ¨å¯èƒ½é‡åˆ°çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨å¯èƒ½é‡åˆ°çš„é—®é¢˜"><span>å¯åŠ¨å¯èƒ½é‡åˆ°çš„é—®é¢˜</span></a></h3><p><code>logs</code>æ–‡ä»¶å¤¹ç›®å½•æ²¡æœ‰ã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;"> [alert] </span><span style="color:#FFB757;">could</span><span style="color:#ADDCFF;"> not</span><span style="color:#ADDCFF;"> open</span><span style="color:#ADDCFF;"> error</span><span style="color:#ADDCFF;"> log</span><span style="color:#ADDCFF;"> file:</span><span style="color:#ADDCFF;"> open</span><span style="color:#F0F3F6;">() </span><span style="color:#ADDCFF;">&quot;/usr/local/nginx/logs/error.log&quot;</span><span style="color:#ADDCFF;"> failed</span><span style="color:#F0F3F6;"> (2: </span><span style="color:#ADDCFF;">No</span><span style="color:#ADDCFF;"> such</span><span style="color:#ADDCFF;"> file</span><span style="color:#ADDCFF;"> or</span><span style="color:#ADDCFF;"> directory</span><span style="color:#F0F3F6;">)</span></span></code></pre></div><p>è§£å†³æ–¹æ¡ˆï¼šåœ¨æç¤ºçš„æŒ‡å®šç›®å½•åˆ›å»º<code>logs</code>æ–‡ä»¶å¤¹ã€‚</p><p><code>nginx.pid</code>å¼‚å¸¸</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;"> [error] </span><span style="color:#FFB757;">21478#0:</span><span style="color:#ADDCFF;"> open</span><span style="color:#F0F3F6;">() </span><span style="color:#ADDCFF;">&quot;/usr/local/nginx/logs/nginx.pid&quot;</span><span style="color:#ADDCFF;"> failed</span><span style="color:#F0F3F6;"> (2: </span><span style="color:#ADDCFF;">No</span><span style="color:#ADDCFF;"> such</span><span style="color:#ADDCFF;"> file</span><span style="color:#ADDCFF;"> or</span><span style="color:#ADDCFF;"> directory</span><span style="color:#F0F3F6;">)</span></span></code></pre></div><p>è§£å†³æ–¹æ¡ˆï¼šå…ˆè®¾ç½®é…ç½®æ–‡ä»¶ã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">/usr/local/nginx/sbin/nginx</span><span style="color:#91CBFF;"> -c</span><span style="color:#ADDCFF;"> /usr/local/nginx/conf/nginx.conf</span></span></code></pre></div><h2 id="nginxè¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#nginxè¿è¡Œ"><span>nginxè¿è¡Œ</span></a></h2><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;"># è®¾ç½®nginxå¼€æœºè‡ªå¯</span></span>
<span class="line"><span style="color:#F0F3F6;">[root@localhost </span><span style="color:#FF9492;">~</span><span style="color:#F0F3F6;">]# systemctl enable nginx</span></span>
<span class="line"><span style="color:#FFB757;">Created</span><span style="color:#ADDCFF;"> symlink</span><span style="color:#ADDCFF;"> from</span><span style="color:#ADDCFF;"> /etc/systemd/system/multi-user.target.wants/nginx.service</span><span style="color:#ADDCFF;"> to</span><span style="color:#ADDCFF;"> /usr/lib/systemd/system/nginx.service.</span></span>
<span class="line"><span style="color:#F0F3F6;">[root@localhost </span><span style="color:#FF9492;">~</span><span style="color:#F0F3F6;">]# systemctl start nginx</span></span>
<span class="line"><span style="color:#F0F3F6;">[root@localhost </span><span style="color:#FF9492;">~</span><span style="color:#F0F3F6;">]# systemctl status nginx</span></span>
<span class="line"><span style="color:#FFB757;">nginx.service</span><span style="color:#ADDCFF;"> -</span><span style="color:#ADDCFF;"> The</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#ADDCFF;"> HTTP</span><span style="color:#ADDCFF;"> and</span><span style="color:#ADDCFF;"> reverse</span><span style="color:#ADDCFF;"> proxy</span><span style="color:#ADDCFF;"> server</span></span>
<span class="line"><span style="color:#FFB757;">   Loaded:</span><span style="color:#ADDCFF;"> loaded</span><span style="color:#F0F3F6;"> (/usr/lib/systemd/system/nginx.service; </span><span style="color:#FFB757;">enabled</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">vendor</span><span style="color:#ADDCFF;"> preset:</span><span style="color:#ADDCFF;"> disabled</span><span style="color:#F0F3F6;">)</span></span>
<span class="line"><span style="color:#FFB757;">   Active:</span><span style="color:#ADDCFF;"> active</span><span style="color:#F0F3F6;"> (running) since Mon 2022-10-10 01:51:36 CST; </span><span style="color:#FFB757;">14s</span><span style="color:#ADDCFF;"> ago</span></span>
<span class="line"><span style="color:#FFB757;">  Process:</span><span style="color:#91CBFF;"> 5517</span><span style="color:#ADDCFF;"> ExecStart=/usr/sbin/nginx</span><span style="color:#F0F3F6;"> (code=exited, </span><span style="color:#ADDCFF;">status=0/SUCCESS</span><span style="color:#F0F3F6;">)</span></span>
<span class="line"><span style="color:#FFB757;">  Process:</span><span style="color:#91CBFF;"> 5514</span><span style="color:#ADDCFF;"> ExecStartPre=/usr/sbin/nginx</span><span style="color:#91CBFF;"> -t</span><span style="color:#F0F3F6;"> (code=exited, </span><span style="color:#ADDCFF;">status=0/SUCCESS</span><span style="color:#F0F3F6;">)</span></span>
<span class="line"><span style="color:#FFB757;">  Process:</span><span style="color:#91CBFF;"> 5512</span><span style="color:#ADDCFF;"> ExecStartPre=/usr/bin/rm</span><span style="color:#91CBFF;"> -f</span><span style="color:#ADDCFF;"> /run/nginx.pid</span><span style="color:#F0F3F6;"> (code=exited, </span><span style="color:#ADDCFF;">status=0/SUCCESS</span><span style="color:#F0F3F6;">)</span></span>
<span class="line"><span style="color:#FFB757;"> Main</span><span style="color:#ADDCFF;"> PID:</span><span style="color:#91CBFF;"> 5519</span><span style="color:#F0F3F6;"> (nginx)</span></span>
<span class="line"><span style="color:#FFB757;">    Tasks:</span><span style="color:#91CBFF;"> 3</span></span>
<span class="line"><span style="color:#FFB757;">   Memory:</span><span style="color:#ADDCFF;"> 2.1M</span></span>
<span class="line"><span style="color:#FFB757;">   CGroup:</span><span style="color:#ADDCFF;"> /system.slice/nginx.service</span></span>
<span class="line"><span style="color:#FFB757;">           â”œâ”€5519</span><span style="color:#ADDCFF;"> nginx:</span><span style="color:#ADDCFF;"> master</span><span style="color:#ADDCFF;"> process</span><span style="color:#ADDCFF;"> /usr/sbin/nginx</span></span>
<span class="line"><span style="color:#FFB757;">           â”œâ”€5520</span><span style="color:#ADDCFF;"> nginx:</span><span style="color:#ADDCFF;"> worker</span><span style="color:#ADDCFF;"> process</span></span>
<span class="line"><span style="color:#FFB757;">           â””â”€5521</span><span style="color:#ADDCFF;"> nginx:</span><span style="color:#ADDCFF;"> worker</span><span style="color:#ADDCFF;"> process</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">Oct</span><span style="color:#91CBFF;"> 10</span><span style="color:#ADDCFF;"> 01:51:36</span><span style="color:#ADDCFF;"> VM-20-4-centos</span><span style="color:#ADDCFF;"> systemd[1]:</span><span style="color:#ADDCFF;"> Starting</span><span style="color:#ADDCFF;"> The</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#ADDCFF;"> HTTP</span><span style="color:#ADDCFF;"> and</span><span style="color:#ADDCFF;"> reverse</span><span style="color:#ADDCFF;"> proxy</span><span style="color:#ADDCFF;"> server...</span></span>
<span class="line"><span style="color:#FFB757;">Oct</span><span style="color:#91CBFF;"> 10</span><span style="color:#ADDCFF;"> 01:51:36</span><span style="color:#ADDCFF;"> VM-20-4-centos</span><span style="color:#ADDCFF;"> nginx[5514]:</span><span style="color:#ADDCFF;"> nginx:</span><span style="color:#ADDCFF;"> the</span><span style="color:#ADDCFF;"> configuration</span><span style="color:#ADDCFF;"> file</span><span style="color:#ADDCFF;"> /etc/nginx/nginx.conf</span><span style="color:#ADDCFF;"> syntax</span><span style="color:#ADDCFF;"> is</span><span style="color:#ADDCFF;"> ok</span></span>
<span class="line"><span style="color:#FFB757;">Oct</span><span style="color:#91CBFF;"> 10</span><span style="color:#ADDCFF;"> 01:51:36</span><span style="color:#ADDCFF;"> VM-20-4-centos</span><span style="color:#ADDCFF;"> nginx[5514]:</span><span style="color:#ADDCFF;"> nginx:</span><span style="color:#ADDCFF;"> configuration</span><span style="color:#ADDCFF;"> file</span><span style="color:#ADDCFF;"> /etc/nginx/nginx.conf</span><span style="color:#ADDCFF;"> test</span><span style="color:#ADDCFF;"> is</span><span style="color:#ADDCFF;"> successful</span></span>
<span class="line"><span style="color:#FFB757;">Oct</span><span style="color:#91CBFF;"> 10</span><span style="color:#ADDCFF;"> 01:51:36</span><span style="color:#ADDCFF;"> VM-20-4-centos</span><span style="color:#ADDCFF;"> systemd[1]:</span><span style="color:#ADDCFF;"> Started</span><span style="color:#ADDCFF;"> The</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#ADDCFF;"> HTTP</span><span style="color:#ADDCFF;"> and</span><span style="color:#ADDCFF;"> reverse</span><span style="color:#ADDCFF;"> proxy</span><span style="color:#ADDCFF;"> server.</span></span></code></pre></div><h2 id="nginx-æ“ä½œå¸¸ç”¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#nginx-æ“ä½œå¸¸ç”¨å‘½ä»¤"><span>Nginx æ“ä½œå¸¸ç”¨å‘½ä»¤</span></a></h2><p>Nginx çš„å‘½ä»¤åœ¨æ§åˆ¶å°ä¸­è¾“å…¥<code>nginx -h</code>å°±å¯ä»¥çœ‹åˆ°å®Œæ•´çš„å‘½ä»¤ï¼Œè¿™é‡Œåˆ—ä¸¾å‡ ä¸ªå¸¸ç”¨çš„å‘½ä»¤ï¼š</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">nginx</span><span style="color:#91CBFF;"> -s</span><span style="color:#ADDCFF;"> reload</span><span style="color:#BDC4CC;">  # å‘ä¸»è¿›ç¨‹å‘é€ä¿¡å·ï¼Œé‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œçƒ­é‡å¯</span></span>
<span class="line"><span style="color:#FFB757;">nginx</span><span style="color:#91CBFF;"> -s</span><span style="color:#ADDCFF;"> reopen</span><span style="color:#BDC4CC;">	 # é‡å¯ Nginx</span></span>
<span class="line"><span style="color:#FFB757;">nginx</span><span style="color:#91CBFF;"> -s</span><span style="color:#ADDCFF;"> stop</span><span style="color:#BDC4CC;">    # å¿«é€Ÿå…³é—­</span></span>
<span class="line"><span style="color:#FFB757;">nginx</span><span style="color:#91CBFF;"> -s</span><span style="color:#ADDCFF;"> quit</span><span style="color:#BDC4CC;">    # ç­‰å¾…å·¥ä½œè¿›ç¨‹å¤„ç†å®Œæˆåå…³é—­</span></span>
<span class="line"><span style="color:#FFB757;">nginx</span><span style="color:#91CBFF;"> -T</span><span style="color:#BDC4CC;">         # æŸ¥çœ‹å½“å‰ Nginx æœ€ç»ˆçš„é…ç½®</span></span>
<span class="line"><span style="color:#FFB757;">nginx</span><span style="color:#91CBFF;"> -t</span><span style="color:#91CBFF;"> -c</span><span style="color:#FF9492;"> &lt;</span><span style="color:#ADDCFF;">é…ç½®è·¯</span><span style="color:#F0F3F6;">å¾„</span><span style="color:#FF9492;">&gt;</span><span style="color:#BDC4CC;"> # æ£€æŸ¥é…ç½®æ˜¯å¦æœ‰é—®é¢˜ï¼Œå¦‚æœå·²ç»åœ¨é…ç½®ç›®å½•ï¼Œåˆ™ä¸éœ€è¦-c</span></span></code></pre></div><p>Nginx æœåŠ¡ç®¡ç†å‘½ä»¤ï¼š</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">systemctl</span><span style="color:#ADDCFF;"> start</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#BDC4CC;">    # å¯åŠ¨ Nginx</span></span>
<span class="line"><span style="color:#FFB757;">systemctl</span><span style="color:#ADDCFF;"> stop</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#BDC4CC;">     # åœæ­¢ Nginx</span></span>
<span class="line"><span style="color:#FFB757;">systemctl</span><span style="color:#ADDCFF;"> restart</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#BDC4CC;">  # é‡å¯ Nginx</span></span>
<span class="line"><span style="color:#FFB757;">systemctl</span><span style="color:#ADDCFF;"> reload</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#BDC4CC;">   # é‡æ–°åŠ è½½ Nginxï¼Œç”¨äºä¿®æ”¹é…ç½®å</span></span>
<span class="line"><span style="color:#FFB757;">systemctl</span><span style="color:#ADDCFF;"> enable</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#BDC4CC;">   # è®¾ç½®å¼€æœºå¯åŠ¨ Nginx</span></span>
<span class="line"><span style="color:#FFB757;">systemctl</span><span style="color:#ADDCFF;"> disable</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#BDC4CC;">  # å…³é—­å¼€æœºå¯åŠ¨ Nginx</span></span>
<span class="line"><span style="color:#FFB757;">systemctl</span><span style="color:#ADDCFF;"> status</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#BDC4CC;">   # æŸ¥çœ‹ Nginx è¿è¡ŒçŠ¶æ€</span></span></code></pre></div><h2 id="nginx-é…ç½®è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#nginx-é…ç½®è¯­æ³•"><span>Nginx é…ç½®è¯­æ³•</span></a></h2><p>Nginx çš„ä¸»é…ç½®æ–‡ä»¶æ˜¯<code>/etc/nginx/nginx.conf</code>ã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[root@localhost </span><span style="color:#FF9492;">~</span><span style="color:#F0F3F6;">]# cat /etc/nginx/nginx.conf</span></span>
<span class="line"><span style="color:#FFB757;">user</span><span style="color:#ADDCFF;"> nginx</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">worker_processes</span><span style="color:#ADDCFF;"> auto</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">error_log</span><span style="color:#ADDCFF;"> /var/log/nginx/error.log</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">pid</span><span style="color:#ADDCFF;"> /run/nginx.pid</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;"># Load dynamic modules. See /usr/share/doc/nginx/README.dynamic.</span></span>
<span class="line"><span style="color:#FFB757;">include</span><span style="color:#ADDCFF;"> /usr/share/nginx/modules/</span><span style="color:#91CBFF;">*</span><span style="color:#ADDCFF;">.conf</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">events</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#FFB757;">    worker_connections</span><span style="color:#91CBFF;"> 1024</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">http</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#FFB757;">    log_format</span><span style="color:#ADDCFF;">  main</span><span style="color:#ADDCFF;">  &#39;$remote_addr - $remote_user [$time_local] &quot;$request&quot; &#39;</span></span>
<span class="line"><span style="color:#FFB757;">                      &#39;$status $body_bytes_sent &quot;$http_referer&quot; &#39;</span></span>
<span class="line"><span style="color:#FFB757;">                      &#39;&quot;$http_user_agent&quot; &quot;$http_x_forwarded_for&quot;&#39;</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">    access_log</span><span style="color:#ADDCFF;">  /var/log/nginx/access.log</span><span style="color:#ADDCFF;">  main</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">    sendfile</span><span style="color:#ADDCFF;">            on</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">    tcp_nopush</span><span style="color:#ADDCFF;">          on</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">    tcp_nodelay</span><span style="color:#ADDCFF;">         on</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">    keepalive_timeout</span><span style="color:#91CBFF;">   65</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">    types_hash_max_size</span><span style="color:#91CBFF;"> 4096</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">    include</span><span style="color:#ADDCFF;">             /etc/nginx/mime.types</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">    default_type</span><span style="color:#ADDCFF;">        application/octet-stream</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;">    # Load modular configuration files from the /etc/nginx/conf.d directory.</span></span>
<span class="line"><span style="color:#BDC4CC;">    # See http://nginx.org/en/docs/ngx_core_module.html#include</span></span>
<span class="line"><span style="color:#BDC4CC;">    # for more information.</span></span>
<span class="line"><span style="color:#FFB757;">    include</span><span style="color:#ADDCFF;"> /etc/nginx/conf.d/</span><span style="color:#91CBFF;">*</span><span style="color:#ADDCFF;">.conf</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">    server</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#FFB757;">        listen</span><span style="color:#91CBFF;">       80</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">        listen</span><span style="color:#F0F3F6;">       [::]:80;</span></span>
<span class="line"><span style="color:#FFB757;">        server_name</span><span style="color:#ADDCFF;">  _</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">        root</span><span style="color:#ADDCFF;">         /usr/share/nginx/html</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;">        # Load configuration files for the default server block.</span></span>
<span class="line"><span style="color:#FFB757;">        include</span><span style="color:#ADDCFF;"> /etc/nginx/default.d/</span><span style="color:#91CBFF;">*</span><span style="color:#ADDCFF;">.conf</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">        error_page</span><span style="color:#91CBFF;"> 404</span><span style="color:#ADDCFF;"> /404.html</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">        location</span><span style="color:#ADDCFF;"> =</span><span style="color:#ADDCFF;"> /404.html</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#F0F3F6;">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">        error_page</span><span style="color:#91CBFF;"> 500</span><span style="color:#91CBFF;"> 502</span><span style="color:#91CBFF;"> 503</span><span style="color:#91CBFF;"> 504</span><span style="color:#ADDCFF;"> /50x.html</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">        location</span><span style="color:#ADDCFF;"> =</span><span style="color:#ADDCFF;"> /50x.html</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#F0F3F6;">        }</span></span>
<span class="line"><span style="color:#F0F3F6;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;"># Settings for a TLS enabled server.</span></span>
<span class="line"><span style="color:#BDC4CC;">#</span></span>
<span class="line"><span style="color:#BDC4CC;">#    server {</span></span>
<span class="line"><span style="color:#BDC4CC;">#        listen       443 ssl http2;</span></span>
<span class="line"><span style="color:#BDC4CC;">#        listen       [::]:443 ssl http2;</span></span>
<span class="line"><span style="color:#BDC4CC;">#        server_name  _;</span></span>
<span class="line"><span style="color:#BDC4CC;">#        root         /usr/share/nginx/html;</span></span>
<span class="line"><span style="color:#BDC4CC;">#</span></span>
<span class="line"><span style="color:#BDC4CC;">#        ssl_certificate &quot;/etc/pki/nginx/server.crt&quot;;</span></span>
<span class="line"><span style="color:#BDC4CC;">#        ssl_certificate_key &quot;/etc/pki/nginx/private/server.key&quot;;</span></span>
<span class="line"><span style="color:#BDC4CC;">#        ssl_session_cache shared:SSL:1m;</span></span>
<span class="line"><span style="color:#BDC4CC;">#        ssl_session_timeout  10m;</span></span>
<span class="line"><span style="color:#BDC4CC;">#        ssl_ciphers HIGH:!aNULL:!MD5;</span></span>
<span class="line"><span style="color:#BDC4CC;">#        ssl_prefer_server_ciphers on;</span></span>
<span class="line"><span style="color:#BDC4CC;">#</span></span>
<span class="line"><span style="color:#BDC4CC;">#        # Load configuration files for the default server block.</span></span>
<span class="line"><span style="color:#BDC4CC;">#        include /etc/nginx/default.d/*.conf;</span></span>
<span class="line"><span style="color:#BDC4CC;">#</span></span>
<span class="line"><span style="color:#BDC4CC;">#        error_page 404 /404.html;</span></span>
<span class="line"><span style="color:#BDC4CC;">#            location = /40x.html {</span></span>
<span class="line"><span style="color:#BDC4CC;">#        }</span></span>
<span class="line"><span style="color:#BDC4CC;">#</span></span>
<span class="line"><span style="color:#BDC4CC;">#        error_page 500 502 503 504 /50x.html;</span></span>
<span class="line"><span style="color:#BDC4CC;">#            location = /50x.html {</span></span>
<span class="line"><span style="color:#BDC4CC;">#        }</span></span>
<span class="line"><span style="color:#BDC4CC;">#    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><p><code>nginx.conf</code>ç»“æ„å›¾å¯ä»¥è¿™æ ·æ¦‚æ‹¬ï¼š</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span>main        # å…¨å±€é…ç½®ï¼Œå¯¹å…¨å±€ç”Ÿæ•ˆ</span></span>
<span class="line"><span>â”œâ”€â”€ events  # é…ç½®å½±å“ Nginx æœåŠ¡å™¨æˆ–ä¸ç”¨æˆ·çš„ç½‘ç»œè¿æ¥</span></span>
<span class="line"><span>â”œâ”€â”€ http    # é…ç½®ä»£ç†ï¼Œç¼“å­˜ï¼Œæ—¥å¿—å®šä¹‰ç­‰ç»å¤§å¤šæ•°åŠŸèƒ½å’Œç¬¬ä¸‰æ–¹æ¨¡å—çš„é…ç½®</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ upstream # é…ç½®åç«¯æœåŠ¡å™¨å…·ä½“åœ°å€ï¼Œè´Ÿè½½å‡è¡¡é…ç½®ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ server   # é…ç½®è™šæ‹Ÿä¸»æœºçš„ç›¸å…³å‚æ•°ï¼Œä¸€ä¸ª http å—ä¸­å¯ä»¥æœ‰å¤šä¸ª server å—</span></span>
<span class="line"><span>â”‚   â”œâ”€â”€ server</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ location  # server å—å¯ä»¥åŒ…å«å¤šä¸ª location å—ï¼Œlocation æŒ‡ä»¤ç”¨äºåŒ¹é… uri</span></span>
<span class="line"><span>â”‚   â”‚   â”œâ”€â”€ location</span></span>
<span class="line"><span>â”‚   â”‚   â””â”€â”€ ...</span></span>
<span class="line"><span>â”‚   â””â”€â”€ ...</span></span>
<span class="line"><span>â””â”€â”€ ...</span></span></code></pre></div><p>é…ç½®æ–‡ä»¶çš„è¯­æ³•è§„åˆ™ï¼š</p><ul><li>é…ç½®æ–‡ä»¶ç”±æŒ‡ä»¤ä¸æŒ‡ä»¤å—æ„æˆ</li><li>æ¯æ¡æŒ‡ä»¤ä»¥<code>;</code>åˆ†å·ç»“å°¾ï¼ŒæŒ‡ä»¤ä¸å‚æ•°é—´ä»¥ç©ºæ ¼ç¬¦å·åˆ†éš”</li><li>æŒ‡ä»¤å—ä»¥<code>{}</code>å¤§æ‹¬å·å°†å¤šæ¡æŒ‡ä»¤ç»„ç»‡åœ¨ä¸€èµ·</li><li><code>include</code>è¯­å¥å…è®¸ç»„åˆå¤šä¸ªé…ç½®æ–‡ä»¶ä»¥æå‡å¯ç»´æŠ¤æ€§</li><li>ä½¿ç”¨<code>#</code>ç¬¦å·æ·»åŠ æ³¨é‡Šï¼Œæé«˜å¯è¯»æ€§</li><li>ä½¿ç”¨<code>$</code>ç¬¦å·ä½¿ç”¨å˜é‡</li><li>éƒ¨åˆ†æŒ‡ä»¤çš„å‚æ•°æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼</li></ul><h3 id="location" tabindex="-1"><a class="header-anchor" href="#location"><span>location</span></a></h3><p><code>server</code>å—å¯ä»¥åŒ…å«å¤šä¸ª<code>location</code>å—ï¼Œ<code>location</code>æŒ‡ä»¤ç”¨äºåŒ¹é… URIã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">location</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">=</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> ~</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> ~*</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> ^~]</span><span style="color:#ADDCFF;"> uri</span><span style="color:#ADDCFF;"> {}</span></span></code></pre></div><p>æŒ‡ä»¤åé¢ï¼š</p><ul><li><code>=</code>ç²¾ç¡®åŒ¹é…è·¯å¾„ï¼Œç”¨äºä¸å«æ­£åˆ™è¡¨è¾¾å¼çš„<code>uri</code>å‰ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œä¸å†è¿›è¡Œåç»­çš„æŸ¥æ‰¾ï¼›æ¯”å¦‚<code>location = /index</code>ï¼Œé‚£ä¹ˆåªæœ‰è·¯å¾„ä¸º<code>/index</code>çš„æ‰ä¼šåŒ¹é…åˆ°</li><li><code>^~</code>ç”¨äºä¸å«æ­£åˆ™è¡¨è¾¾å¼çš„<code>uri</code>å‰ï¼Œè¿›è¡Œ<code>uri</code>çš„å‰ç¼€ç²¾ç¡®åŒ¹é…ï¼Œè¡¨ç¤ºå¦‚æœè¯¥ç¬¦å·åé¢çš„å­—ç¬¦æ˜¯æœ€ä½³åŒ¹é…ï¼Œé‡‡ç”¨è¯¥è§„åˆ™ï¼Œä¸å†è¿›è¡Œåç»­çš„æŸ¥æ‰¾<br> æ¯”å¦‚<code>location ^~ /user/</code>ï¼Œé‚£ä¹ˆåªè¦æ˜¯è·¯å¾„ä»¥<code>/user/</code>å¼€å¤´çš„éƒ½ä¼šåŒ¹é…åˆ°</li><li><code>~</code>è¡¨ç¤ºç”¨è¯¥ç¬¦å·åé¢çš„æ­£åˆ™å»åŒ¹é…è·¯å¾„ï¼ŒåŒºåˆ†å¤§å°å†™ï¼ŒåŒ¹é…åˆ°åä¸å†è¿›è¡Œå…¶ä»–åŒ¹é…<br> æ¯”å¦‚<code>location ~ /user/</code>ï¼Œå½“è·¯å¾„åŒ…å«<code>/user/</code>æ—¶ä¼šåŒ¹é…ï¼Œæ¯”å¦‚<code>/admin/user/</code>æˆ–è€…<code>/user/admin/</code><br> æ¯”å¦‚<code>location ~ ^/user(.*)admin$</code>ï¼Œèƒ½å¤ŸåŒ¹é…ä»¥<code>/user</code>å¼€å¤´ï¼Œ<code>admin</code>ç»“å°¾çš„è·¯å¾„ï¼Œ<code>.*</code>è¡¨ç¤ºçš„æ˜¯ä»»æ„å­—</li><li><code>~*</code>è¡¨ç¤ºç”¨è¯¥ç¬¦å·åé¢çš„æ­£åˆ™å»åŒ¹é…è·¯å¾„ï¼Œä¸åŒºåˆ†å¤§å°å†™ã€‚è·Ÿ<code>~</code>ä¼˜å…ˆçº§éƒ½æ¯”è¾ƒä½ï¼Œå¦‚æœ‰å¤šä¸ª<code>location</code>çš„æ­£åˆ™èƒ½åŒ¹é…çš„è¯ï¼Œåˆ™ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœ€é•¿çš„é‚£ä¸ª</li><li>æ— åŒ¹é…ç¬¦å·çš„ç²¾ç¡®åŒ¹é…ã€‚æ²¡æœ‰ç¬¦å·ï¼ŒæŒ‰ç…§è·¯å¾„å¼€å¤´ç²¾ç¡®åŒ¹é…ï¼Œä½†æ˜¯åŒ¹é…åˆ°åä¸ä¼šç«‹å³è¿”å›ï¼Œè¿˜ä¼šç»§ç»­åŒ¹é…å…¶ä»–æ™®é€šåŒ¹é…ï¼Œå¦‚æœåŒ¹é…åˆ°ï¼Œåˆ™ä¼šèˆå¼ƒä¹‹å‰åŒ¹é…çš„è·¯å¾„<br> æ¯”å¦‚<code>location /user/</code>, å½“è®¿é—®<code>/user/</code>å¼€å¤´æ—¶ä¼šåŒ¹é…åˆ°<br> æ¯”å¦‚<code>location /user/admin</code>ï¼Œå½“è®¿é—®<code>/user/admin</code>æ—¶ä¼šåŒ¹é…åˆ°</li></ul><p>å¦‚æœ<code>uri</code>åŒ…å«æ­£åˆ™è¡¨è¾¾å¼ï¼Œåˆ™å¿…é¡»è¦æœ‰<code>~</code>æˆ–<code>~*</code>æ ‡å¿—ã€‚</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>ä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œè¦è¿è¡Œ nginx -s reload é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ã€‚</p></div><h3 id="locationåŒ¹é…æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#locationåŒ¹é…æ¡ˆä¾‹"><span>locationåŒ¹é…æ¡ˆä¾‹</span></a></h3><p>åŒ¹é…ä»¥<code>.html~.css</code>ä¸ºåç¼€çš„æ‰€æœ‰èµ„æºè¯·æ±‚ã€‚</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span>location ~ .*\.(html|htm|gif|jpg|jpeg|bmp|png|ico|txt|js|css)</span></span></code></pre></div><ul><li><code>~</code>è¡¨ç¤ºç”¨è¯¥ç¬¦å·åé¢çš„æ­£åˆ™å»åŒ¹é…è·¯å¾„ï¼ŒåŒºåˆ†å¤§å°å†™</li><li><code>.*</code>ä»£è¡¨ä»»æ„å­—ç¬¦éƒ½å¯ä»¥å‡ºç°é›¶æ¬¡æˆ–å¤šæ¬¡ï¼Œå³èµ„æºåä¸é™åˆ¶</li><li><code>\.</code>ä»£è¡¨åŒ¹é…åç¼€åˆ†éš”ç¬¦.</li><li><code>(html|...|css)</code>ä»£è¡¨åŒ¹é…æ‹¬å·é‡Œæ‰€æœ‰é™æ€èµ„æºç±»å‹</li></ul><p>åŒ¹é…ä»¥<code>.jsp</code>ç»“å°¾çš„è·¯å¾„ï¼Œå°†å…¶è½¬å‘è‡³ç«¯å£ä¸º 8080 çš„<code>tomcat</code>æœåŠ¡ã€‚</p><div class="language-nginx" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">server</span><span style="color:#F0F3F6;"> {</span></span>
<span class="line"><span style="color:#FF9492;">  listen </span><span style="color:#91CBFF;">81</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9492;">  location</span><span style="color:#FF9492;"> ~</span><span style="color:#ADDCFF;"> (.*)\.jsp </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">    proxy_pass </span><span style="color:#F0F3F6;">http://localhost:8080;</span></span>
<span class="line"><span style="color:#FF9492;">    proxy_set_header </span><span style="color:#F0F3F6;">HOST $host;</span></span>
<span class="line"><span style="color:#FF9492;">    proxy_http_version </span><span style="color:#91CBFF;">1.1</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">  }</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p><code>.</code>æ˜¯å•ä¸€å­—ç¬¦é€šé…ç¬¦ï¼Œæ‰€ä»¥è¦æ·»åŠ <code>\</code>åšè½¬ä¹‰ï¼Œæ‰èƒ½è¡¨ç¤ºæˆæœ¬èº«ç‚¹çš„å«ä¹‰ã€‚</p></div><p>ä¸‰å°ä¸åŒçš„<code>tomcat</code>ï¼Œç«¯å£åˆ†åˆ«ä¸º 8080ï¼Œ8081ï¼Œ8083ï¼Œåˆ†åˆ«æ‰¿æ‹…ä¸åŒçš„ä¸šåŠ¡ï¼Œå°†è·¯å¾„ä»¥<code>/user</code>å¼€å¤´çš„è¯·æ±‚è½¬å‘è‡³<code>tomcat 8080</code>ï¼Œä»¥<code>/order</code>å¼€å¤´çš„è½¬å‘è‡³<code>tomcat 8081</code>ï¼Œè·¯å¾„åŒ…å«<code>/product</code>è·³è½¬åˆ°<code>tomcat 8083</code>çš„é¦–é¡µã€‚</p><div class="language-nginx" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">server</span><span style="color:#F0F3F6;"> {</span></span>
<span class="line"><span style="color:#FF9492;">  listen </span><span style="color:#91CBFF;">81</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9492;">  location</span><span style="color:#FF9492;"> ^~</span><span style="color:#ADDCFF;"> /user </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">    proxy_pass </span><span style="color:#F0F3F6;">http://localhost:8080/;</span></span>
<span class="line"><span style="color:#FF9492;">    proxy_set_header </span><span style="color:#F0F3F6;">HOST $host;</span></span>
<span class="line"><span style="color:#FF9492;">    proxy_http_version </span><span style="color:#91CBFF;">1.1</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9492;">  location</span><span style="color:#FF9492;"> ^~</span><span style="color:#ADDCFF;"> /order </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">    proxy_pass </span><span style="color:#F0F3F6;">http://localhost:8081/;</span></span>
<span class="line"><span style="color:#FF9492;">    proxy_set_header </span><span style="color:#F0F3F6;">HOST $host;</span></span>
<span class="line"><span style="color:#FF9492;">    proxy_http_version </span><span style="color:#91CBFF;">1.1</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9492;">  location</span><span style="color:#FF9492;"> ~*</span><span style="color:#ADDCFF;"> /product </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">    return</span><span style="color:#F0F3F6;"> http://192.168.10.41:8083/index.jsp;</span></span>
<span class="line"><span style="color:#F0F3F6;">  }</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><h2 id="å…¨å±€å˜é‡" tabindex="-1"><a class="header-anchor" href="#å…¨å±€å˜é‡"><span>å…¨å±€å˜é‡</span></a></h2><p>Nginx æœ‰ä¸€äº›å¸¸ç”¨çš„å…¨å±€å˜é‡ï¼Œå¯ä»¥åœ¨é…ç½®çš„ä»»ä½•ä½ç½®ä½¿ç”¨å®ƒä»¬ï¼š</p><table><thead><tr><th style="text-align:center;">å…¨å±€å˜é‡å</th><th style="text-align:left;">è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:center;">$host</td><td style="text-align:left;">è¯·æ±‚ä¿¡æ¯ä¸­çš„ Hostï¼Œå¦‚æœè¯·æ±‚ä¸­æ²¡æœ‰ Host è¡Œï¼Œåˆ™ç­‰äºè®¾ç½®çš„æœåŠ¡å™¨åï¼Œä¸åŒ…å«ç«¯å£</td></tr><tr><td style="text-align:center;">$request_method</td><td style="text-align:left;">å®¢æˆ·ç«¯è¯·æ±‚ç±»å‹ï¼Œå¦‚ GETã€POST</td></tr><tr><td style="text-align:center;">$remote_addr</td><td style="text-align:left;">å®¢æˆ·ç«¯çš„ IP åœ°å€</td></tr><tr><td style="text-align:center;">$args</td><td style="text-align:left;">è¯·æ±‚ä¸­çš„å‚æ•°</td></tr><tr><td style="text-align:center;">$arg_PARAMETER</td><td style="text-align:left;">GET è¯·æ±‚ä¸­å˜é‡å PARAMETER å‚æ•°çš„å€¼ï¼Œä¾‹å¦‚ï¼š$http_user_agent(Uaer-Agent å€¼), $http_referer...</td></tr><tr><td style="text-align:center;">$content_length</td><td style="text-align:left;">è¯·æ±‚å¤´ä¸­çš„ Content-length å­—æ®µ</td></tr><tr><td style="text-align:center;">$http_user_agent</td><td style="text-align:left;">å®¢æˆ·ç«¯agentä¿¡æ¯</td></tr><tr><td style="text-align:center;">$http_cookie</td><td style="text-align:left;">æˆ·ç«¯cookieä¿¡æ¯</td></tr><tr><td style="text-align:center;">$remote_addr</td><td style="text-align:left;">å®¢æˆ·ç«¯çš„IPåœ°å€</td></tr><tr><td style="text-align:center;">$remote_port</td><td style="text-align:left;">å®¢æˆ·ç«¯çš„ç«¯å£</td></tr><tr><td style="text-align:center;">$http_user_agent</td><td style="text-align:left;">å®¢æˆ·ç«¯agentä¿¡æ¯</td></tr><tr><td style="text-align:center;">$server_protocol</td><td style="text-align:left;">è¯·æ±‚ä½¿ç”¨çš„åè®®ï¼Œå¦‚ HTTP/1.0ã€HTTP/1.1</td></tr><tr><td style="text-align:center;">$server_addr</td><td style="text-align:left;">æœåŠ¡å™¨åœ°å€</td></tr><tr><td style="text-align:center;">$server_name</td><td style="text-align:left;">æœåŠ¡å™¨åç§°</td></tr><tr><td style="text-align:center;">$server_port</td><td style="text-align:left;">æœåŠ¡å™¨çš„ç«¯å£å·</td></tr><tr><td style="text-align:center;">$scheme</td><td style="text-align:left;">HTTP æ–¹æ³•ï¼ˆå¦‚httpï¼Œhttpsï¼‰</td></tr></tbody></table><h2 id="proxy-passé…ç½®åå‘ä»£ç†" tabindex="-1"><a class="header-anchor" href="#proxy-passé…ç½®åå‘ä»£ç†"><span>proxy_passé…ç½®åå‘ä»£ç†</span></a></h2><p>è½¬å‘åœ°å€<code>url</code>åˆ†ä¸ºå¸¦<code>/</code>å’Œä¸å¸¦<code>/</code>ï¼Œå¸¦æ çš„ä¸ºç»å¯¹æ ¹è·¯å¾„ï¼Œä¼šç›´æ¥åœ¨è·¯å¾„åæ‹¼æ¥ä¸Šä¸å¸¦åŒ¹é…è·¯å¾„çš„è½¬å‘åœ°å€ï¼›å¦‚æœæ²¡æœ‰æ è¡¨ç¤ºç›¸å¯¹è·¯å¾„ï¼Œåˆ™ä¼šå°†åŒ¹é…è·¯å¾„ä¹Ÿå¸¦ä¸Šè¿›è¡Œè½¬å‘ï¼Œä¸¾ä¾‹è¯´æ˜ï¼š</p><div class="language-nginx" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">location</span><span style="color:#FFB757;"> /user/ </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">  proxy_pass </span><span style="color:#F0F3F6;">url;</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><p>è®¿é—®è·¯å¾„å›ºå®šä¸ºï¼š<code>http://192.168.10.21/user/index.html</code>ã€‚</p><ol><li>å½“<code>proxy_pass http://192.168.10.21:8080/</code>æ—¶<br> ä¼šè·³è½¬è‡³<code>http://192.168.10.21:8080/index.html</code>ï¼Œå¸¦<code>/</code>è¡¨ç¤ºç»å¯¹è·¯å¾„ï¼ŒåŒ¹é…è·¯å¾„<code>/user/</code>ä¼šè¢«æ¶ˆé™¤</li><li>å½“<code>proxy_pass http://192.168.10.21:8080</code>æ—¶<br> ä¼šè·³è½¬è‡³<code>http://192.168.10.21:8080/user/index.html</code>ï¼Œç›¸å¯¹è·¯å¾„ï¼ŒåŒ¹é…è·¯å¾„<code>/user/</code>ä¸ä¼šè¢«æ¶ˆé™¤</li><li>å½“<code>proxy_pass http://192.168.10.21:8080/admin/</code>æ—¶<br> ä¼šè·³è½¬è‡³<code>http://192.168.10.21:8080/admin/index.html</code>ï¼ŒåŒ¹é…è·¯å¾„<code>/user/</code>è¢«æ¶ˆé™¤ï¼Œå¹¶ä¸”ä¿ç•™è½¬å‘è·¯å¾„é‡Œçš„<code>/admin/</code></li><li>å½“<code>proxy_pass http://192.168.10.21:8080/admin</code>æ—¶<br> ä¼šè·³è½¬è‡³<code>http://192.168.10.21:8080/admin/index.html</code>ï¼Œå› ä¸º<code>proxy_pass</code>ä¸­ä¹ŸåŒ…å«äº†<code>/</code>äº†ï¼Œè¡¨ç¤ºç»å¯¹è·¯å¾„ï¼Œæ‰€ä»¥<code>/user/</code>ä¼šè¢«æ¶ˆé™¤</li></ol><p>æ€»è¨€ä¹‹è®°ä½ä¸€ç‚¹ï¼Œå¸¦<code>/</code>è¡¨ç¤ºç»å¯¹è·¯å¾„ï¼Œè¯·æ±‚è·¯å¾„ä¸­çš„åŒ¹é…è·¯å¾„ï¼ˆ<code>location</code>ï¼‰è½¬å‘æ—¶ä¼šè¢«æ¶ˆé™¤ã€‚</p><h3 id="serverå’Œlocationæ¨¡å—ä¸­proxy-passçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#serverå’Œlocationæ¨¡å—ä¸­proxy-passçš„åŒºåˆ«"><span>serverå’Œlocationæ¨¡å—ä¸­proxy_passçš„åŒºåˆ«</span></a></h3><p>åœ¨<code>server</code>æ¨¡å—ä¸­çš„<code>proxy_pass</code>åªéœ€è¦é…ç½®<code>ip</code>ï¼ˆæˆ–åŸŸåï¼‰å’Œç«¯å£ï¼Œç›¸å½“äºç«¯å£è½¬å‘ï¼›è€Œåœ¨<code>location</code>ä¸­çš„<code>proxy_pass</code>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æ›´åŠ å¸¸ç”¨çš„ï¼Œå¯ä»¥é…ç½®åŸŸåã€<code>ip</code>ã€ç«¯å£ã€<code>uri</code>ï¼Œæ­¤å¤–è¿˜éœ€è¦æä¾›åè®®ï¼š<code>http</code>æˆ–<code>https</code>ï¼Œç›¸å½“äºåœ°å€è½¬å‘ã€‚</p><div class="language-conf" data-highlighter="shiki" data-ext="conf" data-title="conf" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span>server {</span></span>
<span class="line"><span>  listen 80;</span></span>
<span class="line"><span>  proxy_responses 1;</span></span>
<span class="line"><span>  proxy_timeout 20s;</span></span>
<span class="line"><span>  proxy_pass xxx.com:8080;</span></span>
<span class="line"><span>  # proxy_pass 192.168.244.21:8080;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  location /user/ {</span></span>
<span class="line"><span>    proxy_pass http://192.168.244.21:8081;</span></span>
<span class="line"><span>  }</span></span>
<span class="line"><span>}</span></span></code></pre></div><h2 id="å¼€å¯gzipå‹ç¼©" tabindex="-1"><a class="header-anchor" href="#å¼€å¯gzipå‹ç¼©"><span>å¼€å¯gzipå‹ç¼©</span></a></h2><p>ä½¿ç”¨<code>gzip</code>ä¸ä»…éœ€è¦ Nginx é…ç½®ï¼Œæµè§ˆå™¨ç«¯ä¹Ÿéœ€è¦é…åˆï¼Œéœ€è¦åœ¨è¯·æ±‚æ¶ˆæ¯å¤´ä¸­åŒ…å«<code>Accept-Encoding: gzip</code>ã€‚ä¸€èˆ¬åœ¨è¯·æ±‚ html å’Œ css ç­‰é™æ€èµ„æºçš„æ—¶å€™ï¼Œæ”¯æŒçš„æµè§ˆå™¨åœ¨<code>request</code>è¯·æ±‚é™æ€èµ„æºçš„æ—¶å€™ï¼Œä¼šåŠ ä¸Š<code>Accept-Encoding: gzip</code>è¿™ä¸ª<code>header</code>ï¼Œè¡¨ç¤ºè‡ªå·±æ”¯æŒ<code>gzip</code>çš„å‹ç¼©æ–¹å¼ï¼ŒNginx åœ¨æ‹¿åˆ°è¿™ä¸ªè¯·æ±‚çš„æ—¶å€™ï¼Œå¦‚æœæœ‰ç›¸åº”é…ç½®ï¼Œå°±ä¼šè¿”å›ç»è¿‡<code>gzip</code>å‹ç¼©è¿‡çš„æ–‡ä»¶ç»™æµè§ˆå™¨ï¼Œå¹¶åœ¨<code>response</code>ç›¸åº”çš„æ—¶å€™åŠ ä¸Š<code>content-encoding: gzip</code>æ¥å‘Šè¯‰æµè§ˆå™¨è‡ªå·±é‡‡ç”¨çš„å‹ç¼©æ–¹å¼ï¼ˆå› ä¸ºæµè§ˆå™¨åœ¨ä¼ ç»™æœåŠ¡å™¨çš„æ—¶å€™ä¸€èˆ¬è¿˜å‘Šè¯‰æœåŠ¡å™¨è‡ªå·±æ”¯æŒå¥½å‡ ç§å‹ç¼©æ–¹å¼ï¼‰ï¼Œæµè§ˆå™¨æ‹¿åˆ°å‹ç¼©çš„æ–‡ä»¶åï¼Œæ ¹æ®è‡ªå·±çš„è§£å‹æ–¹å¼è¿›è¡Œè§£æã€‚</p><div class="language-nginx" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">http</span><span style="color:#F0F3F6;"> {</span></span>
<span class="line"><span style="color:#BDC4CC;">  # å¼€å¯å‹ç¼©æœºåˆ¶</span></span>
<span class="line"><span style="color:#FF9492;">  gzip </span><span style="color:#91CBFF;">on</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">  # æŒ‡å®šä¼šè¢«å‹ç¼©çš„æ–‡ä»¶ç±»å‹(ä¹Ÿå¯è‡ªå·±é…ç½®å…¶ä»–ç±»å‹)</span></span>
<span class="line"><span style="color:#FF9492;">  gzip_types </span><span style="color:#F0F3F6;">text/plain application/javascript text/css application/xml text/javascript image/jpeg image/gif image/png;</span></span>
<span class="line"><span style="color:#BDC4CC;">  # æ£€æŸ¥æ˜¯å¦å­˜åœ¨è¯·æ±‚é™æ€æ–‡ä»¶çš„ gz ç»“å°¾çš„æ–‡ä»¶ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥è¿”å›è¯¥ .gz æ–‡ä»¶å†…å®¹</span></span>
<span class="line"><span style="color:#FF9492;">  gzip_static </span><span style="color:#91CBFF;">on</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">  # è®¾ç½®å‹ç¼©çº§åˆ«ï¼Œè¶Šé«˜èµ„æºæ¶ˆè€—è¶Šå¤§ï¼Œä½†å‹ç¼©æ•ˆæœè¶Šå¥½</span></span>
<span class="line"><span style="color:#FF9492;">  gzip_comp_level </span><span style="color:#91CBFF;">5</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">  # åœ¨å¤´éƒ¨ä¸­æ·»åŠ Vary: Accept-Encodingï¼ˆå»ºè®®å¼€å¯ï¼‰</span></span>
<span class="line"><span style="color:#FF9492;">  gzip_vary </span><span style="color:#91CBFF;">on</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">  # å¤„ç†å‹ç¼©è¯·æ±‚çš„ç¼“å†²åŒºæ•°é‡å’Œå¤§å°</span></span>
<span class="line"><span style="color:#FF9492;">  gzip_buffers </span><span style="color:#91CBFF;">16</span><span style="color:#91CBFF;"> 8k</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">  # å¯¹äºä¸æ”¯æŒå‹ç¼©åŠŸèƒ½çš„å®¢æˆ·ç«¯è¯·æ±‚ä¸å¼€å¯å‹ç¼©æœºåˆ¶</span></span>
<span class="line"><span style="color:#FF9492;">  gzip_disable </span><span style="color:#ADDCFF;">&quot;MSIE [1-6]\.&quot;</span><span style="color:#F0F3F6;">; </span><span style="color:#BDC4CC;"># ä½ç‰ˆæœ¬çš„IEæµè§ˆå™¨ä¸æ”¯æŒå‹ç¼©</span></span>
<span class="line"><span style="color:#BDC4CC;">  # è®¾ç½®å‹ç¼©å“åº”æ‰€æ”¯æŒçš„HTTPæœ€ä½ç‰ˆæœ¬</span></span>
<span class="line"><span style="color:#FF9492;">  gzip_http_version </span><span style="color:#91CBFF;">1.1</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">  # è®¾ç½®è§¦å‘å‹ç¼©çš„æœ€å°é˜ˆå€¼</span></span>
<span class="line"><span style="color:#FF9492;">  gzip_min_length </span><span style="color:#91CBFF;">2k</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">  # å…³é—­å¯¹åç«¯æœåŠ¡å™¨çš„å“åº”ç»“æœè¿›è¡Œå‹ç¼©</span></span>
<span class="line"><span style="color:#FF9492;">  gzip_proxied </span><span style="color:#91CBFF;">off</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><table><thead><tr><th style="text-align:center;">å‚æ•°é¡¹</th><th style="text-align:left;">é‡Šä¹‰</th></tr></thead><tbody><tr><td style="text-align:center;">gzip</td><td style="text-align:left;">å¼€å¯æˆ–å…³é—­å‹ç¼©æœºåˆ¶</td></tr><tr><td style="text-align:center;">gzip_types</td><td style="text-align:left;">è¦é‡‡ç”¨ gzip å‹ç¼©çš„ MIME æ–‡ä»¶ç±»å‹ï¼Œå…¶ä¸­ text/html è¢«ç³»ç»Ÿå¼ºåˆ¶å¯ç”¨</td></tr><tr><td style="text-align:center;">gzip_static</td><td style="text-align:left;">é»˜è®¤ offï¼Œè¯¥æ¨¡å—å¯ç”¨åï¼ŒNginx é¦–å…ˆæ£€æŸ¥æ˜¯å¦å­˜åœ¨è¯·æ±‚é™æ€æ–‡ä»¶çš„ gz ç»“å°¾çš„æ–‡ä»¶ï¼Œå¦‚æœæœ‰åˆ™ç›´æ¥è¿”å›è¯¥ .gz æ–‡ä»¶å†…å®¹</td></tr><tr><td style="text-align:center;">gzip_comp_level</td><td style="text-align:left;">gzip å‹ç¼©æ¯”ï¼Œå‹ç¼©çº§åˆ«æ˜¯ 1-9ï¼Œ1 å‹ç¼©çº§åˆ«æœ€ä½ï¼Œ9 æœ€é«˜ï¼Œçº§åˆ«è¶Šé«˜å‹ç¼©ç‡è¶Šå¤§ï¼Œå‹ç¼©æ—¶é—´è¶Šé•¿ï¼Œå»ºè®® 4-6</td></tr><tr><td style="text-align:center;">gzip_vary</td><td style="text-align:left;">ç”¨äºåœ¨å“åº”æ¶ˆæ¯å¤´ä¸­æ·»åŠ  Varyï¼šAccept-Encodingï¼Œä½¿ä»£ç†æœåŠ¡å™¨æ ¹æ®è¯·æ±‚å¤´ä¸­çš„ Accept-Encoding è¯†åˆ«æ˜¯å¦å¯ç”¨ gzip å‹ç¼©</td></tr><tr><td style="text-align:center;">gzip_buffers</td><td style="text-align:left;">è·å–å¤šå°‘å†…å­˜ç”¨äºç¼“å­˜å‹ç¼©ç»“æœï¼Œ16 8k è¡¨ç¤ºä»¥ 8k*16 ä¸ºå•ä½è·å¾—</td></tr><tr><td style="text-align:center;">gzip_disable</td><td style="text-align:left;">é’ˆå¯¹ä¸åŒå®¢æˆ·ç«¯çš„è¯·æ±‚æ¥è®¾ç½®æ˜¯å¦å¼€å¯å‹ç¼©</td></tr><tr><td style="text-align:center;">gzip_http_version</td><td style="text-align:left;">é»˜è®¤ 1.1ï¼Œå¯ç”¨ gzip æ‰€éœ€çš„ HTTP æœ€ä½ç‰ˆæœ¬</td></tr><tr><td style="text-align:center;">gzip_min_length</td><td style="text-align:left;">å…è®¸å‹ç¼©çš„é¡µé¢æœ€å°å­—èŠ‚æ•°ï¼Œé¡µé¢å­—èŠ‚æ•°ä»headerå¤´ä¸­çš„ Content-Length ä¸­è¿›è¡Œè·å–ã€‚é»˜è®¤å€¼æ˜¯ 0ï¼Œä¸ç®¡é¡µé¢å¤šå¤§éƒ½å‹ç¼©ã€‚å»ºè®®è®¾ç½®æˆå¤§äº 1k çš„å­—èŠ‚æ•°ï¼Œå°äº 1k å¯èƒ½ä¼šè¶Šå‹è¶Šå¤§</td></tr><tr><td style="text-align:center;">gzip_proxied</td><td style="text-align:left;">å¯¹äºåç«¯æœåŠ¡å™¨çš„å“åº”ç»“æœæ˜¯å¦å¼€å¯å‹ç¼©</td></tr></tbody></table><p>åœ¨ä¸Šè¿°çš„å‹ç¼©é…ç½®ä¸­ï¼Œæœ€åä¸€ä¸ª<code>gzip_proxied</code>é€‰é¡¹ï¼Œå¯ä»¥æ ¹æ®ç³»ç»Ÿçš„å®é™…æƒ…å†µå†³å®šï¼Œæ€»å…±å­˜åœ¨å¤šç§é€‰é¡¹ï¼š</p><ul><li><code>off</code>ï¼šå…³é—­ Nginx å¯¹åå°æœåŠ¡å™¨çš„å“åº”ç»“æœè¿›è¡Œå‹ç¼©ã€‚</li><li><code>expired</code>ï¼šå¦‚æœå“åº”å¤´ä¸­åŒ…å«<code>Expires</code>ä¿¡æ¯ï¼Œåˆ™å¼€å¯å‹ç¼©</li><li><code>no-cache</code>ï¼šå¦‚æœå“åº”å¤´ä¸­åŒ…å«<code>Cache-Control:no-cache</code>ä¿¡æ¯ï¼Œåˆ™å¼€å¯å‹ç¼©</li><li><code>no-store</code>ï¼šå¦‚æœå“åº”å¤´ä¸­åŒ…å«<code>Cache-Control:no-store</code>ä¿¡æ¯ï¼Œåˆ™å¼€å¯å‹ç¼©</li><li><code>private</code>ï¼šå¦‚æœå“åº”å¤´ä¸­åŒ…å«<code>Cache-Control:private</code>ä¿¡æ¯ï¼Œåˆ™å¼€å¯å‹ç¼©</li><li><code>no_last_modified</code>ï¼šå¦‚æœå“åº”å¤´ä¸­ä¸åŒ…å«<code>Last-Modified</code>ä¿¡æ¯ï¼Œåˆ™å¼€å¯å‹ç¼©</li><li><code>no_etag</code>ï¼šå¦‚æœå“åº”å¤´ä¸­ä¸åŒ…å«<code>ETag</code>ä¿¡æ¯ï¼Œåˆ™å¼€å¯å‹ç¼©</li><li><code>auth</code>ï¼šå¦‚æœå“åº”å¤´ä¸­åŒ…å«<code>Authorization</code>ä¿¡æ¯ï¼Œåˆ™å¼€å¯å‹ç¼©</li><li><code>any</code>ï¼šæ— æ¡ä»¶å¯¹åç«¯çš„å“åº”ç»“æœå¼€å¯å‹ç¼©æœºåˆ¶</li></ul><div class="hint-container info"><p class="hint-container-title">ç›¸å…³ä¿¡æ¯</p><p>é‚£ä¹ˆä¸ºå•¥ Nginx å·²ç»æœ‰äº† gzip å‹ç¼©ï¼ŒWebpack/Vite åˆæ•´äº†ä¸ª gzip å‘¢ï¼Ÿ</p><p>å› ä¸ºå¦‚æœå…¨éƒ½æ˜¯ä½¿ç”¨ Nginx æ¥å‹ç¼©æ–‡ä»¶ï¼Œä¼šè€—è´¹æœåŠ¡å™¨çš„è®¡ç®—èµ„æºï¼Œå¦‚æœæœåŠ¡å™¨çš„ gzip_comp_level é…ç½®çš„æ¯”è¾ƒé«˜ï¼Œå°±æ›´å¢åŠ æœåŠ¡å™¨çš„å¼€é”€ï¼Œç›¸åº”å¢åŠ å®¢æˆ·ç«¯çš„è¯·æ±‚æ—¶é—´ï¼Œå¾—ä¸å¿å¤±ã€‚</p><p>å¦‚æœå‹ç¼©çš„åŠ¨ä½œåœ¨å‰ç«¯æ‰“åŒ…çš„æ—¶å€™å°±åšäº†ï¼ŒæŠŠæ‰“åŒ…ä¹‹åçš„é«˜å‹ç¼©ç­‰çº§æ–‡ä»¶ä½œä¸ºé™æ€èµ„æºæ”¾åœ¨æœåŠ¡å™¨ä¸Šï¼ŒNginx ä¼šä¼˜å…ˆæŸ¥æ‰¾è¿™äº›å‹ç¼©ä¹‹åçš„æ–‡ä»¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼Œç›¸å½“äºæŠŠå‹ç¼©æ–‡ä»¶çš„åŠ¨ä½œä» Nginx æå‰ç»™ Webpack æ‰“åŒ…çš„æ—¶å€™å®Œæˆï¼ŒèŠ‚çº¦äº†æœåŠ¡å™¨èµ„æºï¼Œæ‰€ä»¥ä¸€èˆ¬æ¨ä»‹åœ¨ç”Ÿäº§ç¯å¢ƒåº”ç”¨ Webpack é…ç½® gzip å‹ç¼©ã€‚</p></div><h2 id="é…ç½®åŠ¨é™åˆ†ç¦»" tabindex="-1"><a class="header-anchor" href="#é…ç½®åŠ¨é™åˆ†ç¦»"><span>é…ç½®åŠ¨é™åˆ†ç¦»</span></a></h2><p>é€šè¿‡<code>location</code>æŒ‡å®šä¸åŒçš„åç¼€åå®ç°ä¸åŒçš„è¯·æ±‚è½¬å‘ã€‚é€šè¿‡<code>expires</code>å‚æ•°è®¾ç½®ï¼Œå¯ä»¥è®¾ç½®æµè§ˆå™¨ç¼“å­˜è¿‡æœŸæ—¶é—´ï¼Œå‡å°‘ä¸æœåŠ¡å™¨ä¹‹å‰çš„è¯·æ±‚å’Œæµé‡ã€‚</p><p>å…·ä½“<code>expires</code>å®šä¹‰ï¼šæ˜¯ç»™ä¸€ä¸ªèµ„æºè®¾å®šä¸€ä¸ªè¿‡æœŸæ—¶é—´ï¼Œä¹Ÿå°±æ˜¯è¯´æ— éœ€å»æœåŠ¡ç«¯éªŒè¯ï¼Œç›´æ¥é€šè¿‡æµè§ˆå™¨è‡ªèº«ç¡®è®¤æ˜¯å¦è¿‡æœŸå³å¯ï¼Œæ‰€ä»¥ä¸ä¼šäº§ç”Ÿé¢å¤–çš„æµé‡ã€‚æ­¤ç§æ–¹æ³•éå¸¸é€‚åˆä¸ç»å¸¸å˜åŠ¨çš„èµ„æºã€‚è®¾ç½®<code>3d</code>ï¼Œè¡¨ç¤ºåœ¨è¿™ 3 å¤©ä¹‹å†…è®¿é—®è¿™ä¸ªURLï¼Œå‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæ¯”å¯¹æœåŠ¡å™¨è¯¥æ–‡ä»¶æœ€åæ›´æ–°æ—¶é—´æ²¡æœ‰å˜åŒ–ã€‚åˆ™ä¸ä¼šä»æœåŠ¡å™¨æŠ“å–ï¼Œè¿”å›çŠ¶æ€ç  304ï¼Œå¦‚æœæœ‰ä¿®æ”¹ï¼Œåˆ™ç›´æ¥ä»æœåŠ¡å™¨é‡æ–°ä¸‹è½½ï¼Œè¿”å›çŠ¶æ€ç  200ã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">server</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#FFB757;">  location</span><span style="color:#ADDCFF;"> /www/</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#FFB757;">  	root</span><span style="color:#ADDCFF;"> /data/</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">    index</span><span style="color:#ADDCFF;"> index.html</span><span style="color:#ADDCFF;"> index.htm</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">  }</span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#FFB757;">  location</span><span style="color:#ADDCFF;"> /image/</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#FFB757;">  	root</span><span style="color:#ADDCFF;"> /data/</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">  	expires</span><span style="color:#ADDCFF;"> 3d</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">  	# å¼€å¯é™æ€èµ„æºåˆ—ç›®å½•</span></span>
<span class="line"><span style="color:#FFB757;">    autoindex</span><span style="color:#ADDCFF;"> on</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">  }</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><h2 id="é…ç½®è´Ÿè½½å‡è¡¡" tabindex="-1"><a class="header-anchor" href="#é…ç½®è´Ÿè½½å‡è¡¡"><span>é…ç½®è´Ÿè½½å‡è¡¡</span></a></h2><div class="language-nginx" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">http</span><span style="color:#F0F3F6;"> {</span></span>
<span class="line"><span style="color:#FF9492;">  upstream</span><span style="color:#FFB757;"> myserver </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">    server</span><span style="color:#F0F3F6;"> http://127.0.0.1:8081;  </span><span style="color:#BDC4CC;"># è´Ÿè½½å‡è¡¡ç›®çš„æœåŠ¡åœ°å€</span></span>
<span class="line"><span style="color:#FF9492;">    server</span><span style="color:#F0F3F6;"> http://127.0.0.1:8080;</span></span>
<span class="line"><span style="color:#FF9492;">    server</span><span style="color:#F0F3F6;"> http://127.0.0.1:8082 </span><span style="color:#FFB757;">weight</span><span style="color:#FF9492;">=</span><span style="color:#91CBFF;">10</span><span style="color:#F0F3F6;">;  </span><span style="color:#BDC4CC;"># weight æ–¹å¼ï¼Œä¸å†™é»˜è®¤ä¸º 1</span></span>
<span class="line"><span style="color:#F0F3F6;">  }</span></span>
<span class="line"><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#F0F3F6;">  server {</span></span>
<span class="line"><span style="color:#F0F3F6;">    listen      </span><span style="color:#91CBFF;">9000</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FF9492;">    server_name </span><span style="color:#F0F3F6;">test.com;</span></span>
<span class="line"><span style="color:#FF9492;">    location</span><span style="color:#FFB757;"> / </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">      proxy_pass </span><span style="color:#F0F3F6;">      myserver;</span></span>
<span class="line"><span style="color:#FF9492;">      proxy_set_header </span><span style="color:#F0F3F6;">Host $proxy_host;</span></span>
<span class="line"><span style="color:#FF9492;">      proxy_set_header </span><span style="color:#F0F3F6;">X-Real-IP $remote_addr;</span></span>
<span class="line"><span style="color:#FF9492;">      proxy_set_header </span><span style="color:#F0F3F6;">X-Forwarded-For $proxy_add_x_forwarded_for;</span></span>
<span class="line"><span style="color:#F0F3F6;">    }</span></span>
<span class="line"><span style="color:#F0F3F6;">  }</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><p>Nginx æä¾›äº†å¥½å‡ ç§åˆ†é…æ–¹å¼ï¼Œé»˜è®¤ä¸ºè½®è¯¢ï¼Œå°±æ˜¯è½®æµæ¥ã€‚æœ‰ä»¥ä¸‹å‡ ç§åˆ†é…æ–¹å¼ï¼š</p><ul><li>è½®è¯¢ï¼Œé»˜è®¤æ–¹å¼ï¼Œæ¯ä¸ªè¯·æ±‚æŒ‰æ—¶é—´é¡ºåºé€ä¸€åˆ†é…åˆ°ä¸åŒçš„åç«¯æœåŠ¡å™¨ï¼Œå¦‚æœåç«¯æœåŠ¡æŒ‚äº†ï¼Œèƒ½è‡ªåŠ¨å‰”é™¤</li><li><code>weight</code>ï¼Œæƒé‡åˆ†é…ï¼ŒæŒ‡å®šè½®è¯¢å‡ ç‡ï¼Œæƒé‡è¶Šé«˜ï¼Œåœ¨è¢«è®¿é—®çš„æ¦‚ç‡è¶Šå¤§ï¼Œç”¨äºåç«¯æœåŠ¡å™¨æ€§èƒ½ä¸å‡çš„æƒ…å†µ</li><li><code>ip_hash</code>ï¼Œæ¯ä¸ªè¯·æ±‚æŒ‰è®¿é—® IP çš„<code>hash</code>ç»“æœåˆ†é…ï¼Œè¿™æ ·æ¯ä¸ªè®¿å®¢å›ºå®šè®¿é—®ä¸€ä¸ªåç«¯æœåŠ¡å™¨ï¼Œå¯ä»¥è§£å†³åŠ¨æ€ç½‘é¡µ<code>session</code>å…±äº«é—®é¢˜ã€‚è´Ÿè½½å‡è¡¡æ¯æ¬¡è¯·æ±‚éƒ½ä¼šé‡æ–°å®šä½åˆ°æœåŠ¡å™¨é›†ç¾¤ä¸­çš„æŸä¸€ä¸ªï¼Œé‚£ä¹ˆå·²ç»ç™»å½•æŸä¸€ä¸ªæœåŠ¡å™¨çš„ç”¨æˆ·å†é‡æ–°å®šä½åˆ°å¦ä¸€ä¸ªæœåŠ¡å™¨ï¼Œå…¶ç™»å½•ä¿¡æ¯å°†ä¼šä¸¢å¤±ï¼Œè¿™æ ·æ˜¾ç„¶æ˜¯ä¸å¦¥çš„</li><li><code>fair</code>ï¼ˆç¬¬ä¸‰æ–¹ï¼‰ï¼ŒæŒ‰åç«¯æœåŠ¡å™¨çš„å“åº”æ—¶é—´åˆ†é…ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ï¼Œä¾èµ–ç¬¬ä¸‰æ–¹æ’ä»¶<code>nginx-upstream-fair</code>ï¼Œéœ€è¦å…ˆå®‰è£…</li></ul><h2 id="é…ç½®https" tabindex="-1"><a class="header-anchor" href="#é…ç½®https"><span>é…ç½®HTTPS</span></a></h2><p>SSL è¯ä¹¦é…ç½®è¿‡ç¨‹ï¼š</p><ol><li>å…ˆå» CA æœºæ„æˆ–äº‘æ§åˆ¶å°ä¸­ç”³è¯· SSL è¯ä¹¦ï¼Œå®¡æ ¸é€šè¿‡åä¸‹è½½ Nginx ç‰ˆæœ¬çš„è¯ä¹¦</li><li>ä¸‹è½½æ•°å­—è¯ä¹¦åï¼Œå®Œæ•´çš„æ–‡ä»¶æ€»å…±æœ‰ä¸‰ä¸ªï¼š<code>.crtã€.keyã€.pem</code>ï¼š <ul><li><code>.crt</code>ï¼šæ•°å­—è¯ä¹¦æ–‡ä»¶ï¼Œ<code>.crt</code>æ˜¯<code>.pem</code>çš„æ‹“å±•æ–‡ä»¶</li><li><code>.key</code>ï¼šæœåŠ¡å™¨çš„ç§é’¥æ–‡ä»¶ï¼ŒåŠéå¯¹ç§°åŠ å¯†çš„ç§é’¥ï¼Œç”¨äºè§£å¯†å…¬é’¥ä¼ è¾“çš„æ•°æ®</li><li><code>.pem</code>ï¼š<code>Base64-encoded</code>ç¼–ç æ ¼å¼çš„æºè¯ä¹¦æ–‡æœ¬æ–‡ä»¶ï¼Œå¯è‡ªè¡Œæ ¹éœ€æ±‚ä¿®æ”¹æ‹“å±•å</li></ul></li><li>åœ¨ Nginx ç›®å½•ä¸‹æ–°å»º<code>certificate</code>ç›®å½•ï¼Œå¹¶å°†ä¸‹è½½å¥½çš„è¯ä¹¦/ç§é’¥ç­‰æ–‡ä»¶ä¸Šä¼ è‡³è¯¥ç›®å½•</li><li>æœ€åä¿®æ”¹ä¸€ä¸‹<code>nginx.conf</code>ï¼š</li></ol><div class="language-nginx" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;"># ----------HTTPSé…ç½®-----------</span></span>
<span class="line"><span style="color:#FF9492;">server</span><span style="color:#F0F3F6;"> {</span></span>
<span class="line"><span style="color:#BDC4CC;">    # ç›‘å¬HTTPSé»˜è®¤çš„443ç«¯å£,æ‰“å¼€SSLåŠ å¯†ä¼ è¾“</span></span>
<span class="line"><span style="color:#FF9492;">    listen </span><span style="color:#91CBFF;">443</span><span style="color:#F0F3F6;"> ssl http2 </span><span style="color:#91CBFF;">default_server</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">    # é…ç½®è‡ªå·±é¡¹ç›®çš„åŸŸå</span></span>
<span class="line"><span style="color:#FF9492;">    server_name </span><span style="color:#F0F3F6;">www.xxx.com;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;">    # é…ç½®è‡ªå·±ä¸‹è½½çš„æ•°å­—è¯ä¹¦</span></span>
<span class="line"><span style="color:#FF9492;">    ssl_certificate </span><span style="color:#F0F3F6;"> /etc/nginx/certificate/xxx.pem;</span></span>
<span class="line"><span style="color:#BDC4CC;">    # é…ç½®è‡ªå·±ä¸‹è½½çš„æœåŠ¡å™¨ç§é’¥</span></span>
<span class="line"><span style="color:#FF9492;">    ssl_certificate_key </span><span style="color:#F0F3F6;">/etc/nginx/certificate/xxx.key;</span></span>
<span class="line"><span style="color:#BDC4CC;">    # åœæ­¢é€šä¿¡æ—¶ï¼ŒåŠ å¯†ä¼šè¯çš„æœ‰æ•ˆæœŸï¼Œåœ¨è¯¥æ—¶é—´æ®µå†…ä¸éœ€è¦é‡æ–°äº¤æ¢å¯†é’¥  </span></span>
<span class="line"><span style="color:#FF9492;">    ssl_session_timeout </span><span style="color:#91CBFF;">5m</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">    # TLSæ¡æ‰‹æ—¶ï¼ŒæœåŠ¡å™¨é‡‡ç”¨çš„å¯†ç å¥—ä»¶</span></span>
<span class="line"><span style="color:#FF9492;">    ssl_ciphers </span><span style="color:#F0F3F6;">ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;</span></span>
<span class="line"><span style="color:#BDC4CC;">    # æœåŠ¡å™¨æ”¯æŒçš„TLSç‰ˆæœ¬</span></span>
<span class="line"><span style="color:#FF9492;">    ssl_protocols </span><span style="color:#F0F3F6;">TLSv1 TLSv1.1 TLSv1.2;  </span></span>
<span class="line"><span style="color:#BDC4CC;">    # å¼€å¯ç”±æœåŠ¡å™¨å†³å®šé‡‡ç”¨çš„å¯†ç å¥—ä»¶</span></span>
<span class="line"><span style="color:#FF9492;">    ssl_prefer_server_ciphers </span><span style="color:#91CBFF;">on</span><span style="color:#F0F3F6;">;  </span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#FF9492;">    location</span><span style="color:#FFB757;"> / </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#BDC4CC;">        # è¾“å…¥åŸŸååï¼Œé¦–é¡µæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•</span></span>
<span class="line"><span style="color:#FF9492;">        root </span><span style="color:#F0F3F6;">/usr/share/nginx/html;</span></span>
<span class="line"><span style="color:#BDC4CC;">        # é…ç½®é¦–é¡µçš„æ–‡ä»¶å  </span></span>
<span class="line"><span style="color:#FF9492;">        index </span><span style="color:#F0F3F6;">index.html index.htm;</span></span>
<span class="line"><span style="color:#F0F3F6;">    }  </span></span>
<span class="line"><span style="color:#F0F3F6;">}  </span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#BDC4CC;"># ---------HTTPè¯·æ±‚è½¬HTTPS-------------  </span></span>
<span class="line"><span style="color:#FF9492;">server</span><span style="color:#F0F3F6;"> {</span></span>
<span class="line"><span style="color:#BDC4CC;">    # ç›‘å¬HTTPé»˜è®¤çš„80ç«¯å£</span></span>
<span class="line"><span style="color:#FF9492;">    listen </span><span style="color:#91CBFF;">80</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">    # å¦‚æœ80ç«¯å£å‡ºç°è®¿é—®è¯¥åŸŸåçš„è¯·æ±‚</span></span>
<span class="line"><span style="color:#FF9492;">    server_name </span><span style="color:#F0F3F6;">www.xxx.com;</span></span>
<span class="line"><span style="color:#BDC4CC;">    # å°†è¯·æ±‚æ”¹å†™ä¸ºHTTPSï¼ˆè¿™é‡Œå†™ä½ é…ç½®äº†HTTPSçš„åŸŸåï¼‰</span></span>
<span class="line"><span style="color:#FF9492;">    rewrite</span><span style="color:#ADDCFF;"> ^(.*)$</span><span style="color:#F0F3F6;"> https://www.xxx.com;  </span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><p>å†™å®Œ<code>nginx -t -q</code>æ ¡éªŒä¸€ä¸‹ï¼Œæ²¡é—®é¢˜å°±<code>nginx -s reload</code>ã€‚</p><h2 id="å›¾ç‰‡é˜²ç›—é“¾" tabindex="-1"><a class="header-anchor" href="#å›¾ç‰‡é˜²ç›—é“¾"><span>å›¾ç‰‡é˜²ç›—é“¾</span></a></h2><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">server</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#FFB757;">  listen</span><span style="color:#91CBFF;">       80</span><span style="color:#F0F3F6;">;        </span></span>
<span class="line"><span style="color:#FFB757;">  server_name</span><span style="color:#91CBFF;">  *</span><span style="color:#ADDCFF;">.sherlocked93.club</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#BDC4CC;">  # å›¾ç‰‡é˜²ç›—é“¾</span></span>
<span class="line"><span style="color:#FFB757;">  location</span><span style="color:#ADDCFF;"> ~</span><span style="color:#91CBFF;">*</span><span style="color:#FF9492;"> \.</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">gif</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">jpg</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">jpeg</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">png</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">bmp</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">swf</span><span style="color:#F0F3F6;">)$ </span><span style="color:#ADDCFF;">{</span></span>
<span class="line"><span style="color:#BDC4CC;">    # åªå…è®¸æœ¬æœº IP å¤–é“¾å¼•ç”¨ï¼Œå°†ç™¾åº¦å’Œqqä¹ŸåŠ å…¥ç™½åå•</span></span>
<span class="line"><span style="color:#FFB757;">    valid_referers</span><span style="color:#ADDCFF;"> none</span><span style="color:#ADDCFF;"> blocked</span><span style="color:#ADDCFF;"> server_names</span><span style="color:#ADDCFF;"> ~</span><span style="color:#FF9492;">\.</span><span style="color:#ADDCFF;">baidu</span><span style="color:#FF9492;">\.</span><span style="color:#91CBFF;"> *</span><span style="color:#ADDCFF;">.qq.com</span><span style="color:#F0F3F6;">;  </span></span>
<span class="line"><span style="color:#FF9492;">    if</span><span style="color:#F0F3F6;"> ($invalid_referer){</span></span>
<span class="line"><span style="color:#FF9492;">      return</span><span style="color:#91CBFF;"> 403</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">    }</span></span>
<span class="line"><span style="color:#F0F3F6;">  }</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><h2 id="é…ç½®é™æ€æ–‡ä»¶ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#é…ç½®é™æ€æ–‡ä»¶ç¼“å­˜"><span>é…ç½®é™æ€æ–‡ä»¶ç¼“å­˜</span></a></h2><p>ç”±äºå›¾ç‰‡ã€å­—ä½“ã€éŸ³é¢‘ã€è§†é¢‘ç­‰é™æ€æ–‡ä»¶åœ¨æ‰“åŒ…çš„æ—¶å€™é€šå¸¸ä¼šå¢åŠ äº†<code>hash</code>ï¼Œæ‰€ä»¥ç¼“å­˜å¯ä»¥è®¾ç½®çš„é•¿ä¸€ç‚¹ï¼Œå…ˆè®¾ç½®å¼ºåˆ¶ç¼“å­˜ï¼Œå†è®¾ç½®åå•†ç¼“å­˜ï¼›å¦‚æœå­˜åœ¨æ²¡æœ‰<code>hash</code>å€¼çš„é™æ€æ–‡ä»¶ï¼Œå»ºè®®ä¸è®¾ç½®å¼ºåˆ¶ç¼“å­˜ï¼Œä»…é€šè¿‡åå•†ç¼“å­˜åˆ¤æ–­æ˜¯å¦éœ€è¦ä½¿ç”¨ç¼“å­˜ã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;"># å›¾ç‰‡ç¼“å­˜æ—¶é—´è®¾ç½®</span></span>
<span class="line"><span style="color:#FFB757;">location</span><span style="color:#ADDCFF;"> ~</span><span style="color:#ADDCFF;"> .</span><span style="color:#91CBFF;">*</span><span style="color:#FF9492;">\.</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">css</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">js</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">jpg</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">png</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">gif</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">swf</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">woff</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">woff2</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">eot</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">svg</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">ttf</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">otf</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">mp3</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">m4a</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">aac</span><span style="color:#FF9492;">|</span><span style="color:#FFB757;">txt</span><span style="color:#F0F3F6;">)$ </span><span style="color:#ADDCFF;">{</span></span>
<span class="line"><span style="color:#FFB757;">	expires</span><span style="color:#ADDCFF;"> 10d</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;"># å¦‚æœä¸å¸Œæœ›ç¼“å­˜</span></span>
<span class="line"><span style="color:#FFB757;">expires</span><span style="color:#91CBFF;"> -1</span><span style="color:#F0F3F6;">;</span></span></code></pre></div><h2 id="æ”¯æŒwebsocket" tabindex="-1"><a class="header-anchor" href="#æ”¯æŒwebsocket"><span>æ”¯æŒwebsocket</span></a></h2><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">server</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#FFB757;">    listen</span><span style="color:#91CBFF;">       80</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">    server_name</span><span style="color:#ADDCFF;">  www.xxx.com</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">    location</span><span style="color:#ADDCFF;"> /</span><span style="color:#ADDCFF;"> {</span></span>
<span class="line"><span style="color:#FFB757;">        proxy_pass</span><span style="color:#ADDCFF;"> http://192.168.10.224:8080/</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">        proxy_read_timeout</span><span style="color:#91CBFF;"> 300</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FFB757;">        proxy_connect_timeout</span><span style="color:#91CBFF;"> 300</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#BDC4CC;">        # ä¸»è¦é…ç½®é¡¹</span></span>
<span class="line"><span style="color:#FFB757;">        proxy_set_header</span><span style="color:#ADDCFF;"> Upgrade</span><span style="color:#F0F3F6;"> $http_upgrade;</span></span>
<span class="line"><span style="color:#FFB757;">        proxy_set_header</span><span style="color:#ADDCFF;"> Connection</span><span style="color:#ADDCFF;"> &quot;upgrade&quot;</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">    }</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><h2 id="è®¾ç½®è¯·æ±‚bodyå¤§å°" tabindex="-1"><a class="header-anchor" href="#è®¾ç½®è¯·æ±‚bodyå¤§å°"><span>è®¾ç½®è¯·æ±‚bodyå¤§å°</span></a></h2><p>nginx bodyè¯·æ±‚ä½“é»˜è®¤æ˜¯ 1Mã€‚</p><div class="language-nginx" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">http</span><span style="color:#F0F3F6;"> {</span></span>
<span class="line"><span style="color:#FF9492;">  client_max_body_size </span><span style="color:#91CBFF;">100M</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><h2 id="rootå’Œaliasçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#rootå’Œaliasçš„åŒºåˆ«"><span>rootå’Œaliasçš„åŒºåˆ«</span></a></h2><div class="language-nginx" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">location</span><span style="color:#FFB757;"> /request_path/image/ </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">  root </span><span style="color:#F0F3F6;">/local_path/image/;</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><p>è¿™æ ·é…ç½®çš„ç»“æœå°±æ˜¯å½“å®¢æˆ·ç«¯è¯·æ±‚<code>/request_path/image/cat.png</code>çš„æ—¶å€™ï¼ŒNginx æŠŠè¯·æ±‚æ˜ å°„ä¸º<code>/local_path/image/request_path/image/cat.png</code>ã€‚</p><p>æ³¨æ„è¿™æ—¶å€™é™¤äº†<code>root</code>çš„è·¯å¾„ï¼Œè¿˜ä¼šå¸¦ä¸Šè¯·æ±‚è·¯å¾„ï¼ˆä¾‹å¦‚è¿™é‡Œï¼š<code>/request_path/image/</code>ï¼‰ã€‚</p><div class="language-nginx" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">location</span><span style="color:#FFB757;"> /request_path/image/ </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">    alias </span><span style="color:#F0F3F6;">/local_path/image/;</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div><p>è¿™æ—¶å€™ï¼Œå½“å®¢æˆ·ç«¯è¯·æ±‚<code>/request_path/image/cat.png</code>çš„æ—¶å€™ï¼Œ Nginx æŠŠè¯·æ±‚æ˜ å°„ä¸º<code>/local_path/image/cat.png</code>ã€‚</p><p>æ³¨æ„ï¼š<code>alias</code>ä¸­çš„è·¯å¾„æœ€åå¿…é¡»è·Ÿä¸Š<code>/</code>ï¼Œ<code>root</code>çš„è·¯å¾„æœ€åå¯è·Ÿå¯ä¸è·Ÿï¼Œ<code>alias</code>æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼è·¯å¾„ï¼Œ<code>root</code>ä¸æ”¯æŒã€‚</p><h2 id="å•é¡µé¢é¡¹ç›®-history-è·¯ç”±é…ç½®" tabindex="-1"><a class="header-anchor" href="#å•é¡µé¢é¡¹ç›®-history-è·¯ç”±é…ç½®"><span>å•é¡µé¢é¡¹ç›® history è·¯ç”±é…ç½®</span></a></h2><div class="language-nginx" data-highlighter="shiki" data-ext="nginx" data-title="nginx" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">server</span><span style="color:#F0F3F6;"> {</span></span>
<span class="line"><span style="color:#FF9492;">  listen </span><span style="color:#91CBFF;">      80</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#FF9492;">  server_name </span><span style="color:#F0F3F6;"> fe.sherlocked93.club;</span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#FF9492;">  location</span><span style="color:#FFB757;"> / </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">    root </span><span style="color:#F0F3F6;">      /usr/share/nginx/html/dist;  </span><span style="color:#BDC4CC;"># vue æ‰“åŒ…åçš„æ–‡ä»¶å¤¹</span></span>
<span class="line"><span style="color:#FF9492;">    index </span><span style="color:#F0F3F6;">     index.html index.htm;</span></span>
<span class="line"><span style="color:#FF9492;">    try_files </span><span style="color:#F0F3F6;"> $uri $uri/ /index.html @rewrites;  </span></span>
<span class="line"><span style="color:#F0F3F6;">    </span></span>
<span class="line"><span style="color:#FF9492;">    expires </span><span style="color:#F0F3F6;">-1;                          </span><span style="color:#BDC4CC;"># é¦–é¡µä¸€èˆ¬æ²¡æœ‰å¼ºåˆ¶ç¼“å­˜</span></span>
<span class="line"><span style="color:#FF9492;">    add_header </span><span style="color:#F0F3F6;">Cache-Control no-cache;</span></span>
<span class="line"><span style="color:#F0F3F6;">  }</span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#BDC4CC;">  # æ¥å£è½¬å‘ï¼Œå¦‚æœéœ€è¦çš„è¯</span></span>
<span class="line"><span style="color:#BDC4CC;">  #location ~ ^/api {</span></span>
<span class="line"><span style="color:#BDC4CC;">  #  proxy_pass http://be.sherlocked93.club;</span></span>
<span class="line"><span style="color:#BDC4CC;">  #}</span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#FF9492;">  location</span><span style="color:#FFB757;"> @rewrites </span><span style="color:#F0F3F6;">{</span></span>
<span class="line"><span style="color:#FF9492;">    rewrite</span><span style="color:#ADDCFF;"> ^(.+)$</span><span style="color:#F0F3F6;"> /index.html </span><span style="color:#FF9492;">break</span><span style="color:#F0F3F6;">;</span></span>
<span class="line"><span style="color:#F0F3F6;">  }</span></span>
<span class="line"><span style="color:#F0F3F6;">}</span></span></code></pre></div></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/4/23 09:49:11</span></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 592786982@qq.com">WSQ</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:none;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/wsq-blog/assets/app-ByvFWdWZ.js" defer></script>
  </body>
</html>
