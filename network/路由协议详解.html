<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://0oWSQo0.github.io/wsq-blog/network/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3.html"><meta property="og:title" content="路由协议详解"><meta property="og:description" content="路由的概念 在 TCP/IP 通信中，网络层的作用是实现终端的点对点通信。IP 协议通过 IP 地址将数据包发送给目的主机，能够让互联网上任何两台主机进行通信。IP 地址可以识别主机和路由器，路由器可以把全世界的网络连接起来。 网络层网络层 什么是路由器 路由器可以连接多个网络。它有多个端口，分别连接不同的网络区域。通过识别目的 IP 地址的网络号，再..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-05-14T10:35:45.000Z"><meta property="article:published_time" content="2025-04-25T00:00:00.000Z"><meta property="article:modified_time" content="2025-05-14T10:35:45.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"路由协议详解","image":[""],"datePublished":"2025-04-25T00:00:00.000Z","dateModified":"2025-05-14T10:35:45.000Z","author":[{"@type":"Person","name":"WSQ","url":"https://0oWSQo0.github.com"}]}</script><title>路由协议详解</title><meta name="description" content="路由的概念 在 TCP/IP 通信中，网络层的作用是实现终端的点对点通信。IP 协议通过 IP 地址将数据包发送给目的主机，能够让互联网上任何两台主机进行通信。IP 地址可以识别主机和路由器，路由器可以把全世界的网络连接起来。 网络层网络层 什么是路由器 路由器可以连接多个网络。它有多个端口，分别连接不同的网络区域。通过识别目的 IP 地址的网络号，再...">
    <link rel="preload" href="/wsq-blog/assets/style-B8iyyxn3.css" as="style"><link rel="stylesheet" href="/wsq-blog/assets/style-B8iyyxn3.css">
    <link rel="modulepreload" href="/wsq-blog/assets/app-CRBxQhNH.js"><link rel="modulepreload" href="/wsq-blog/assets/路由协议详解.html-BYzLfltP.js"><link rel="modulepreload" href="/wsq-blog/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/wsq-blog/assets/index.html-DuZDlXxB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/portfolio.html-BnZwi8Zw.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/进制.html-kbgcGqj2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ACL详解.html-CNjVhxb_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ARP安全管理.html-CnEiCvIp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ARP详解.html-CR-QGmWY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/BGP详解.html-koylLWrL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/DHCP详解.html-CUUSDoG2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/DNS详解.html-Bf8_Ry2N.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/HTTPS详解.html-BUj_AQbJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ICMP详解.html-DyN_Zl-V.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/IPv6详解.html-BA15d55S.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/IP详解.html-vnG_FPXG.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ISIS详解.html-Du1wm-PG.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/NAT详解.html-COn9TtJQ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPF-LSA.html-DOTusMNj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPF实战.html-Bv6DYwcE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPF特性.html-C1MJuJax.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPF详解.html-DWdpAYyC.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RIP详解.html-Cqfzr3oj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RSTP、MSTP详解.html-ClhDS86L.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/STP详解.html-Pve_l7Y1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/TCP和UDP详解.html-CEIMlKLn.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VLAN详解.html-B-cTm56i.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VPN详解.html-Bk_sH-9S.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VRRP详解.html-DJt98enp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Wireshark使用教程.html-kE9b3X0p.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/三层交换机.html-7aerr934.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/华为命令.html-D081wSwe.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/应用层协议详解.html-DN5n1QCd.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/数据链路层基础知识.html-B7Ze_CV8.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/无线网络详解.html-DKHW99tE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/校验码.html-CeNJBU8s.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/网络基础知识.html-Y1iy8AsG.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/路由器.html-C8lFcipJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/路由策略和策略路由.html-BMMAbJqh.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/路由高级特性.html-Z57TA4fx.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/链路聚合技术.html-cEzTygJj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/防火墙.html-B26XDgku.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/静态路由详解.html-C5A9QW3z.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/网站收藏.html-Bi_opIbV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python元组.html-Cjwbf3YD.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python函数.html-CtS9ao8D.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python列表.html-ieQhFNBv.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python变量.html-BpkjQ4ks.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python基础.html-Cj_PjNE-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python字典.html-CJ4KgsuH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python字符串常用方法.html-yoqJhinR.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python异常处理机制.html-CdWsafRI.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python文件操作.html-C2Y11mmM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python模块和包.html-DVl8B-R6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python流程控制.html-_MAD8DAW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python爬虫.html-fyhd-Mul.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python类和对象.html-9ggediKo.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python类特殊成员.html-BvpxcwCO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python运算符.html-DZBlk2WX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/python集合.html-vxrHEo8H.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-Ch24P33B.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/disable.html-u9jGo0Sc.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/encrypt.html-CGsdjVXy.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/layout.html-L6RTtmpB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/markdown.html-DxlKZYnY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/page.html-KAyLKsGH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPF.html-bk5kF91i.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/华为数通笔记.html-DbAV4ztJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/网络.html-CYqoJlv0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringJdbcTemplate.html-fQAwnBz6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Spring事务.html-TEvN-Rqs.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Spring的整体脉络.html-BL_djHIV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Spring详解—IOC实现原理之Bean实例化.html-JypW72Nl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Spring详解—IOC实现原理之IOC体系结构设计.html-9EBCYKRT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Spring详解—IOC实现原理之IOC初始化流程.html-DzSSIkSX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Spring详解—Spring和Spring框架组成.html-DMsLCrgE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Spring详解—控制反转IOC.html-MxjjADKu.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Spring详解—简单例子引入Spring要点.html-DpQUM8Az.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Spring详解—面向切面编程(AOP).html-1CYC7bOP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java 集合.html-DUEm-BGN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java修饰符和关键字.html-mvpASI3o.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java内置包装类.html-DrAAE3GZ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java内部类.html-Du6BXkpU.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java反射机制.html-BoshztbU.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java基础—SPI机制.html-B36hCa2O.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java基础—反射机制.html-BxzR_7KO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java基础—异常机制.html-BxQ89Hej.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java基础—泛型机制.html-BgIWrnE3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java基础—注解机制.html-JwvoHsg0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java字符串处理.html-D-0Xlu5f.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java序列化与反序列化.html-DhvkHcIT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java异常处理.html-CWXg7FSV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java数字处理.html-B6E6mflH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java数组.html-D5Tbkji7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java数组操作.html-DIB9nL6f.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java时间日期的处理.html-CVP3HhTs.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java泛型和枚举.html-exhTfeGd.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java类和对象.html-D_RpxFwe.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java输入输出流.html-B8l_V-bR.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/java继承封装和多态.html-A7wi46ET.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—Mapper映射文件配置.html-CJ5notao.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—sqlSession执行流程.html-DisfpXW6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—一级缓存实现机制.html-3Gx8nqIp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—事务管理机制.html-H0idJllT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—二级缓存实现机制.html-COVOYl2E.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—初始化基本流程.html-DtrqIXXQ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—动态SQL使用与原理.html-lypeK9Lu.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—总体框架设计.html-DlSgxcL6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—插件之分页机制.html-CS7t7u1c.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—插件机制.html-CQAFzV5f.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—数据源与连接池.html-BK9gqNmo.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—配置清单.html-CoDkuZma.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatis详解—配置解析过程.html-DlIyTRtB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Servlet Cookie和Session.html-DyRkznsD.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Servlet过滤器.html-Mhb1jION.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/servlet1.html-bhJJ7si4.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/servlet2.html-BXCvbeQF.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/servlet3.html-ByFK-ZsZ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBoot—devtools.html-WGYIYfj5.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBoot—常用注解.html-C3NZ70Gj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBoot—集成Druid连接池.html-DSNies26.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBoot—集成EasyExcel.html-DeLfpUB6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBoot—集成POI.html-DMgTlGlI.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBoot—集成actuator监控工具.html-Bt0493QQ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBoot—集成admin监控工具.html-GNmq3hn_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBoot集成MyBatis—XML方式.html-BV529Agl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBoot集成Mybatis—PageHelper分页.html-2d1ShpeY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBoot集成Mybatis—注解方式.html-DaowcJOE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVC入门.html-B3ACTTg7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVC域对象共享数据.html-B73E7Kx-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVC实现Restful.html-DNT-PHn3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVC获取请求参数.html-18folsK1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVC视图和视图解析器.html-Dm1SVPVP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/文字特效.html-BxaWwgJu.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 ArrayBuffer.html-BH54jXtr.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Class.html-giGqp2Zg.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Class的继承.html-B6nu5TTq.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Module的加载实现.html-DY0wqrg3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Module语法.html-CsYggNX-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Set和Map.html-IGOV80Vw.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 async函数.html-Byet_9FM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 let和const.html-BHz0_AXX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 proxy.html-CX_e5yHZ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6Iterator和forof循环.html-D_3PlcQt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6Promise对象.html-BwxekeMd.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6Symbol.html-BD_mB0L3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6函数.html-sWFlWBCv.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6字符串.html-SM3VTW1g.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6对象.html-DqgNtayT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6数值.html-D4UwH_I5.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6数组.html-DXnT7Ybw.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6结构赋值.html-BOU897sk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6运算符.html-q5BKB-AH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/d.ts类型声明文件.html-BgE626qb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ts三种特殊类型.html-z34vG_pT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ts函数类型.html-BzeBOAo1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ts对象类型.html-DNySNm-a.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ts数据类型.html-CbE3X8Ec.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ts数组和元组.html-AO81Wfwh.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ts泛型.html-BuEo8pzY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ts的Enum类型.html-6Xf-a-Q-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ts的interface接口.html-84sET-br.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ts类型断言.html-BjDn5EXY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-CanvasAPI.html-CTByFRsJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-ClipboardAPI.html-BFPibMK6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-FetchAPI.html-CcQaorpP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-File_FileList_FileReader.html-Goi4GOgb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-FormData.html-Ba-q3s0y.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-History.html-DXjXIzgf.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-SVG.html-H3e4KRS0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-URL.html-CAs0EzxS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-URLPatternAPI.html-Dgp6MmYM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-WebSocket.html-DWUgcFFU.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-window.html-BeG7Mzw8.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS实用代码片段.html-DSKhaccc.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Dockerfile定制镜像.html-Mswi7Wds.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Docker基础.html-DFbEYO7N.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Docker的数据卷.html-yefML68N.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Docker的网络.html-CHpCY5SE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/docker-compose.html-D7biz5Dj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/热门镜像安装.html-DZ2IUM8O.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/集成Docker实现一键部署.html-CxSmesDb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bash脚本—入门.html-C9uftpPR.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bash脚本—函数.html-BFMJ_aTV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bash脚本—变量.html-DqDDyR33.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bash脚本—字符串操作.html-CV2p7b1J.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bash脚本—常用命令.html-DQGKOpcd.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bash脚本—数组.html-CaxETGhd.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bash脚本—模式扩展.html-DESQcXhE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bash脚本—流程控制.html-CiPsZu1n.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bash脚本—算数运算.html-D23ZszxS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/LinuxSSH命令.html-3jY4UmnE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/LinuxVim.html-ByRYWzgX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux入门.html-DuPBN1iM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux常用软件安装.html-BbFAn8_A.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux打包压缩命令.html-B7cOF96_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux操作历史.html-dWdn5M77.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux文件目录相关命令.html-DATmMytS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux文件系统结构.html-WP2xxxYv.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux文本操作命令.html-BwFLC_lU.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux权限管理.html-DN-iYpve.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux用户和用户组管理.html-f2XpDcdY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux磁盘相关命令.html-SSK6lKDO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux系统服务管理.html-1fyrGzCt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux网络相关命令.html-C6KkEL1g.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux软件安装.html-C1RzEi17.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux进程相关命令.html-Dl3Dfvxs.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linux防火墙详解.html-BS7IfcCN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linx其它常用命令.html-CujUziie.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VMware安装linux.html-BRh8I2BB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/linux常用工具.html-BPzpd4OH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/安装脚本实例.html-C309cFJX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ansible-playbook.html-CgXVOiCZ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ansible.html-BkfSgrYV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ansible常用模块.html-B7oAY59d.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/nginx入门.html-PGsMYqfS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Requests基本用法.html-Cs50NBJy.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Scrapy爬虫框架.html-ZElnnRN2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/urllib包.html-C-QBF6LJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL事务.html-Cx1LMCFj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL入门.html-Cpv6_mQK.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL基础查询.html-BRkju_qS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL多表查询.html-NtMzktaT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL字符集和校对规则.html-BCJ7QLb-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL存储引擎.html-CKoRcDpw.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL存储过程.html-BarmQq8A.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL安装.html-CQooDLmL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL常用函数汇总.html-BZqZem7p.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL常见问题.html-CYv2KXx1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL执行流程.html-CEewo_fr.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL操作表中的数据.html-BAshjFkf.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL数据库备份恢复.html-D3ocyVrM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL数据库的基本操作.html-CYp9tUyn.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL数据类型.html-Fx-9dCav.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL数据表的基本操作.html-BNyFB2TO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL日志.html-B-H4MT1q.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL用户管理.html-CnuDaSvD.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL索引.html-ByXjwOBA.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL约束.html-Dw_Obq9W.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL视图.html-DxFRhiyk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL触发器.html-CI3-zvO7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL试题.html-DdAlN_g9.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL运算符.html-Pfv0Lw4J.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL锁机制.html-B4NT1Wro.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQL高级查询.html-Dpp-pkC0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redis Stream.html-C_7S3lkY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redis发布订阅模式.html-wFg-g-KS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redis基础入门.html-BGdAdK9m.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redis基础数据类型.html-hzVLX_3r.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redis特殊数据类型.html-DccFJFLt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redis的键.html-C-5K0xqt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redis配置文件.html-C9QuSYcw.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/404.html-B2Yctu22.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BSGDo_86.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-B8Da246j.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-DLoAljFa.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-0PHf2Axf.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-QKlfz-Wx.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BDG1CXhj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-c5skkMdm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BrA4IErc.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-p6PBJmi1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BCTKA26e.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BdyeWpG4.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-Ce9OEb10.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-D1ujxBC2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CFkOnDVt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CCj9tGw2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-Ci7QKZzP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-D-ih0Uk9.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CBXnnO7B.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CdX7QkyV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-Cj5LUDna.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CAKjOUum.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-D36eytX_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BSms1k8a.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-Cu-iWQG1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CWeoWg-p.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/giscus-BZxmVUME.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index-BYq9jyaM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index-DRWmbcXV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index-B9oRC6ej.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/mermaid.esm.min-D7uDlVSI.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/setupDevtools-7MC2TMWH-FOnnGLSh.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/wsq-blog/" aria-label="带我回家"><img class="vp-nav-logo" src="/wsq-blog/logo.png" alt><!----><!----></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/wsq-blog/" aria-label="主页"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:google-home" width="1em" height="1em"></iconify-icon><!--]-->主页<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="前端"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:javascript" width="1em" height="1em"></iconify-icon>前端<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/js/%E5%9F%BA%E7%A1%80/" aria-label="JS基础"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:javascript" width="1em" height="1em"></iconify-icon><!--]-->JS基础<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/js/es6/" aria-label="ES6"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:es6" width="1em" height="1em"></iconify-icon><!--]-->ES6<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/js/CSS/" aria-label="CSS"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:css3" width="1em" height="1em"></iconify-icon><!--]-->CSS<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Java"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon>Java<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/java%E5%9F%BA%E7%A1%80/" aria-label="Java基础"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon><!--]-->Java基础<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/mybatis/" aria-label="Mybatis"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Mybatis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/Spring/" aria-label="Spring"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Spring<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/springBoot/" aria-label="springBoot"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->springBoot<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="SQL"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:azuresqldatabase" width="1em" height="1em"></iconify-icon>SQL<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/sql/redis/" aria-label="Redis"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:redis" width="1em" height="1em"></iconify-icon><!--]-->Redis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/sql/mysql/" aria-label="MySQL"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql-wordmark" width="1em" height="1em"></iconify-icon><!--]-->MySQL<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="运维"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:centos" width="1em" height="1em"></iconify-icon>运维<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/linux/linux%E5%9F%BA%E7%A1%80/" aria-label="linux基础"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:linux" width="1em" height="1em"></iconify-icon><!--]-->linux基础<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/linux/docker/" aria-label="Docker"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:docker" width="1em" height="1em"></iconify-icon><!--]-->Docker<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/linux/tools/" aria-label="运维工具"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:linux" width="1em" height="1em"></iconify-icon><!--]-->运维工具<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="计算机基础"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:windows11" width="1em" height="1em"></iconify-icon>计算机基础<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/wsq-blog/network/" aria-label="网络"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:networkx" width="1em" height="1em"></iconify-icon><!--]-->网络<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/computer/" aria-label="其他"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:haskell" width="1em" height="1em"></iconify-icon><!--]-->其他<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://0oWSQo0.github.com" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" aria-label="网络基础知识"><!---->网络基础知识<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E6%A0%A1%E9%AA%8C%E7%A0%81.html" aria-label="校验码"><!---->校验码<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html" aria-label="数据链路层基础知识"><!---->数据链路层基础知识<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/ARP%E8%AF%A6%E8%A7%A3.html" aria-label="ARP详解"><!---->ARP详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/STP%E8%AF%A6%E8%A7%A3.html" aria-label="STP详解"><!---->STP详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/RSTP%E3%80%81MSTP%E8%AF%A6%E8%A7%A3.html" aria-label="RSTP、MSTP详解"><!---->RSTP、MSTP详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/VLAN%E8%AF%A6%E8%A7%A3.html" aria-label="VLAN详解"><!---->VLAN详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/IP%E8%AF%A6%E8%A7%A3.html" aria-label="IP详解"><!---->IP详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/IPv6%E8%AF%A6%E8%A7%A3.html" aria-label="IPv6详解"><!---->IPv6详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/DNS%E8%AF%A6%E8%A7%A3.html" aria-label="DNS详解"><!---->DNS详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/DHCP%E8%AF%A6%E8%A7%A3.html" aria-label="DHCP详解"><!---->DHCP详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/ICMP%E8%AF%A6%E8%A7%A3.html" aria-label="ICMP详解"><!---->ICMP详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/NAT%E8%AF%A6%E8%A7%A3.html" aria-label="NAT详解"><!---->NAT详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/TCP%E5%92%8CUDP%E8%AF%A6%E8%A7%A3.html" aria-label="TCP和UDP详解"><!---->TCP和UDP详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E5%BA%94%E7%94%A8%E5%B1%82%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3.html" aria-label="应用层协议详解"><!---->应用层协议详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/HTTPS%E8%AF%A6%E8%A7%A3.html" aria-label="HTTPS详解"><!---->HTTPS详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E6%97%A0%E7%BA%BF%E7%BD%91%E7%BB%9C%E8%AF%A6%E8%A7%A3.html" aria-label="无线网络详解"><!---->无线网络详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E4%B8%89%E5%B1%82%E4%BA%A4%E6%8D%A2%E6%9C%BA.html" aria-label="三层交换机"><!---->三层交换机<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E8%B7%AF%E7%94%B1%E5%99%A8.html" aria-label="路由器"><!---->路由器<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E9%98%B2%E7%81%AB%E5%A2%99.html" aria-label="防火墙"><!---->防火墙<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/ACL%E8%AF%A6%E8%A7%A3.html" aria-label="ACL详解"><!---->ACL详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/VPN%E8%AF%A6%E8%A7%A3.html" aria-label="VPN详解"><!---->VPN详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/Wireshark%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html" aria-label="Wireshark使用教程"><!---->Wireshark使用教程<!----></a></li><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/wsq-blog/network/%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3.html" aria-label="路由协议详解"><!---->路由协议详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/RIP%E8%AF%A6%E8%A7%A3.html" aria-label="RIP详解"><!---->RIP详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/OSPF%E8%AF%A6%E8%A7%A3.html" aria-label="OSPF详解"><!---->OSPF详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/OSPF-LSA.html" aria-label="OSPF-LSA"><!---->OSPF-LSA<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/OSPF%E7%89%B9%E6%80%A7.html" aria-label="OSPF特性"><!---->OSPF特性<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/OSPF%E5%AE%9E%E6%88%98.html" aria-label="OSPF实战"><!---->OSPF实战<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/ISIS%E8%AF%A6%E8%A7%A3.html" aria-label="IS-IS详解"><!---->IS-IS详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E9%9D%99%E6%80%81%E8%B7%AF%E7%94%B1%E8%AF%A6%E8%A7%A3.html" aria-label="静态路由详解"><!---->静态路由详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/VRRP%E8%AF%A6%E8%A7%A3.html" aria-label="VRRP 详解"><!---->VRRP 详解<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E8%B7%AF%E7%94%B1%E7%AD%96%E7%95%A5%E5%92%8C%E7%AD%96%E7%95%A5%E8%B7%AF%E7%94%B1.html" aria-label="路由策略和策略路由"><!---->路由策略和策略路由<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E9%93%BE%E8%B7%AF%E8%81%9A%E5%90%88%E6%8A%80%E6%9C%AF.html" aria-label="链路聚合技术"><!---->链路聚合技术<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/%E5%8D%8E%E4%B8%BA%E5%91%BD%E4%BB%A4.html" aria-label="华为命令"><!---->华为命令<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/network/ARP%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86.html" aria-label="/network/ARP%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86.html"><!---->/network/ARP%E5%AE%89%E5%85%A8%E7%AE%A1%E7%90%86.html<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->路由协议详解</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://0oWSQo0.github.com" target="_blank" rel="noopener noreferrer">WSQ</a></span><span property="author" content="WSQ"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025年4月25日</span><meta property="datePublished" content="2025-04-25T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 23 分钟</span><meta property="timeRequired" content="PT23M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon" name="category"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item color3" role>计算机网络</span><!--]--><meta property="articleSection" content="计算机网络"></span><span class="page-tag-info" aria-label="标签🏷" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon" name="tag"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item color5" role>network</span><!--]--><meta property="keywords" content="network"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#路由的概念">路由的概念</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#什么是路由器">什么是路由器</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#什么是路由">什么是路由</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#什么是路由表">什么是路由表</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#路由表来源">路由表来源</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#路由优先级">路由优先级</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#路由环路">路由环路</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#黑洞路由">黑洞路由</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#动态路由协议">动态路由协议</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#路由协议基本原理">路由协议基本原理</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#自治系统">自治系统</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#egp-和-igp">EGP 和 IGP</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#动态路由协议类型">动态路由协议类型</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#距离矢量路由协议">距离矢量路由协议</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#链路状态路由协议">链路状态路由协议</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#路由协议的性能指标">路由协议的性能指标</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#主要路由协议">主要路由协议</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#bgp">BGP</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#bgp-协议的特点">BGP 协议的特点</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h2 id="路由的概念" tabindex="-1"><a class="header-anchor" href="#路由的概念"><span>路由的概念</span></a></h2><p>在 TCP/IP 通信中，网络层的作用是实现终端的点对点通信。IP 协议通过 IP 地址将数据包发送给目的主机，能够让互联网上任何两台主机进行通信。IP 地址可以识别主机和路由器，路由器可以把全世界的网络连接起来。</p><figure><img src="/wsq-blog/assets/1-yfLZggZp.png" alt="网络层" tabindex="0" loading="lazy"><figcaption>网络层</figcaption></figure><h3 id="什么是路由器" tabindex="-1"><a class="header-anchor" href="#什么是路由器"><span>什么是路由器</span></a></h3><p>路由器可以连接多个网络。它有多个端口，分别连接不同的网络区域。通过识别目的 IP 地址的网络号，再根据路由表进行数据转发。路由器会维护一张路由表，通过路由表的信息，路由器才能正确的转发 IP 报文。</p><figure><img src="/wsq-blog/assets/2-BKpJHhx2.png" alt="路由器" tabindex="0" loading="lazy"><figcaption>路由器</figcaption></figure><h3 id="什么是路由" tabindex="-1"><a class="header-anchor" href="#什么是路由"><span>什么是路由</span></a></h3><p>路由是网络设备根据 IP 地址对数据进行转发的操作。当路由器收到一个数据包时，它根据数据包的目的 IP 地址查询路由表，如果有匹配的路由条目，就根据查询结果将数据包转发出去，如果没有任何匹配的路由条目，则将数据包丢弃，这个过程就是 IP 路由。除了路由器，三层交换机、防火墙、负载均衡设备甚至主机等设备都可以进行路由操作，只要这个设备支持路由功能。</p><figure><img src="/wsq-blog/assets/3-CjVK1FCi.png" alt="路由" tabindex="0" loading="lazy"><figcaption>路由</figcaption></figure><h3 id="什么是路由表" tabindex="-1"><a class="header-anchor" href="#什么是路由表"><span>什么是路由表</span></a></h3><p>为了将数据包发给目的节点，所有节点都维护着一张路由表。路由表是路由器通过各种途径获得的路由条目，每一个路由条目包含目的网段地址/子网掩码、路由协议、出接口、下一跳 IP 地址、路由优先级和度量值等信息。路由表记录 IP 包在下一跳应该发给哪个路由器。IP 包根据路由表在各个数据链路上传输。</p><figure><img src="/wsq-blog/assets/4-D--zZw1i.png" alt="路由表" tabindex="0" loading="lazy"><figcaption>路由表</figcaption></figure><h3 id="路由表来源" tabindex="-1"><a class="header-anchor" href="#路由表来源"><span>路由表来源</span></a></h3><p>一个实际的网络中，一台路由器通常包含多条路由条目，这些路由条目从不同的来源获取。路由表的来源可分为三类，分别是直连路由、静态路由和动态路由。</p><p>直连路由：路由器直接连接的路由条目，只要路由器接口配置了 IP 地址，接口状态正常，就会自动生成对应的直连路由。</p><figure><img src="/wsq-blog/assets/5-AtZmhKqy.png" alt="直连路由" tabindex="0" loading="lazy"><figcaption>直连路由</figcaption></figure><p>静态路由：通过命令手动添加的路由条目就是静态路由。</p><figure><img src="/wsq-blog/assets/6-D71CDndH.png" alt="静态路由" tabindex="0" loading="lazy"><figcaption>静态路由</figcaption></figure><p>动态路由：通过路由协议从相邻路由器动态学习到的路由条目。</p><figure><img src="/wsq-blog/assets/7-C4bG08aY.png" alt="动态路由" tabindex="0" loading="lazy"><figcaption>动态路由</figcaption></figure><h3 id="路由优先级" tabindex="-1"><a class="header-anchor" href="#路由优先级"><span>路由优先级</span></a></h3><p>不同来源的路由有不同的优先级，优先级的值越小，则路由的优先级就越高。当存在多条目的网段相同，但来源不同的路由时，具有最高优先级（数值越小优先级越高）的路由成为最优路由，将被加入到路由表中，而其它路由则处于未激活状态，不显示在路由表中。</p><p>路由优先级有内外之分，如果外部优先级相同则比较内部优先级。</p><p>缺省的外部路由优先级：</p><table><thead><tr><th style="text-align:center;">路由来源</th><th style="text-align:center;">优先级</th></tr></thead><tbody><tr><td style="text-align:center;">DIRECT</td><td style="text-align:center;">0</td></tr><tr><td style="text-align:center;">OSPF</td><td style="text-align:center;">10</td></tr><tr><td style="text-align:center;">IS-IS</td><td style="text-align:center;">15</td></tr><tr><td style="text-align:center;">STATIC</td><td style="text-align:center;">60</td></tr><tr><td style="text-align:center;">RIP</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">OSPF ASE</td><td style="text-align:center;">150</td></tr><tr><td style="text-align:center;">IBGP</td><td style="text-align:center;">255</td></tr><tr><td style="text-align:center;">EBGP</td><td style="text-align:center;">255</td></tr><tr><td style="text-align:center;">Untrustworthy</td><td style="text-align:center;">255</td></tr></tbody></table><p>内部路由优先级如下表：</p><table><thead><tr><th style="text-align:center;">路由协议</th><th style="text-align:center;">内部优先级</th></tr></thead><tbody><tr><td style="text-align:center;">DIRECT</td><td style="text-align:center;">0</td></tr><tr><td style="text-align:center;">OSPF</td><td style="text-align:center;">10</td></tr><tr><td style="text-align:center;">IS-IS</td><td style="text-align:center;">15</td></tr><tr><td style="text-align:center;">STATIC</td><td style="text-align:center;">18</td></tr><tr><td style="text-align:center;">RIP</td><td style="text-align:center;">60</td></tr><tr><td style="text-align:center;">OSPF ASE</td><td style="text-align:center;">100</td></tr><tr><td style="text-align:center;">IBGP</td><td style="text-align:center;">150</td></tr><tr><td style="text-align:center;">EBGP</td><td style="text-align:center;">150</td></tr><tr><td style="text-align:center;">Untrustworthy</td><td style="text-align:center;">200</td></tr></tbody></table><h3 id="路由环路" tabindex="-1"><a class="header-anchor" href="#路由环路"><span>路由环路</span></a></h3><p>路由环路是数据转发形成死循环，不能正确到达目的地。</p><figure><img src="/wsq-blog/assets/8-Dq14j_Fi.png" alt="路由环路" tabindex="0" loading="lazy"><figcaption>路由环路</figcaption></figure><p>路由环路的主要生成原因是配置错误的路由或网络规划错误导致。比如：在两台路由器上配置到相同目的地址的路由表项，下一跳互相指向对方，就会造成路由环路。另外某些动态路由协议配置不当，也有可能产生环路。</p><h3 id="黑洞路由" tabindex="-1"><a class="header-anchor" href="#黑洞路由"><span>黑洞路由</span></a></h3><p>一条路由条目，无论是静态的还是动态的，都需要关联到一个出接口，出接口指的是设备要到达目的网络是的出站接口。路由的出接口可以是这个设备的物理接口，如千兆网口，也可以是逻辑接口，如 VLAN 接口，或者是隧道接口等。其中有一种接口非常特殊，那就是<code>Null</code>接口，只有一个编号，那就是 0。<code>Null0</code>是一个系统保留的逻辑接口，当网络设备在转发数据包时，如果使用出接口<code>Null0</code>的路由，那么数据包将被丢弃，就像被扔进了一个黑洞里，因此出接口为<code>Null0</code>的路由条目又被称为黑洞路由。</p><figure><img src="/wsq-blog/assets/9-Dh9dl5i1.png" alt="黑洞路由" tabindex="0" loading="lazy"><figcaption>黑洞路由</figcaption></figure><p>黑洞路由是一种非常有用的路由条目，适用于如下场景：</p><ul><li>在网络使用中，按需将数据包指向黑洞路由，实现流量过滤。</li><li>在已经部署路由汇总的网络中，用于防止数据转发出现环路。</li><li>在部署了 NAT 的网络中，用于防止数据转发出现环路。</li><li>在 BGP 网络中，用于发布特定网段的路由。</li></ul><h2 id="动态路由协议" tabindex="-1"><a class="header-anchor" href="#动态路由协议"><span>动态路由协议</span></a></h2><p>静态路由是手动添加完成的。如果有 100 个网段，一个路由器就需要设置将近 100 条路由信息。网络使用过程中，不可避免的出现网段新增、删除、修改等情况，这些更新的路由信息需要在所有路由器上进行设置。还有一个不可忽视的问题，一旦某个路由器出现故障，数据传输无法自动绕过故障节点，只能通过手动设置才能恢复正常。</p><figure><img src="/wsq-blog/assets/10-8eUcW91D.png" alt="静态路由" tabindex="0" loading="lazy"><figcaption>静态路由</figcaption></figure><p>如果是使用动态路由，提前设置好路由协议，路由器之间会定期交换路由信息，路由器会知道网络中其它网段的信息，动态生成路由表。如果网络出现变化，网段需要增删改时，只需要在相应的路由器上配置动态路由即可。不需要像静态路由那样，在所有路由器上进行修改。对于大型网络，路由器个数较多时，主要使用动态路由协议。</p><figure><img src="/wsq-blog/assets/11-7nYa8aD9.png" alt="动态路由" tabindex="0" loading="lazy"><figcaption>动态路由</figcaption></figure><p>即使网络上的节点出现故障，只要有一个可绕行的其它路径，那么路由器的路由表会自动重新设置，数据包也会自动选择这个路径。</p><p>采用路由协议后，网络拓扑结果变化的响应速度会大大提升。无论网络正常的增删改，还是异常的网络故障，相邻的路由器都会检测到变化，会把拓扑的变化通知网络中其它的路由器，使它们的路由表产生相应的变化。这个过程比手动对路由表的修改要快很多，也准确很多。</p><p>对于少于 10 个路由器的小型网络，静态路由或许已经能够满足需求，但是在大中型网络中，通常会使用动态路由协议，或者动态路由与静态路由协议相结合的方式来建设这个网络。</p><h3 id="路由协议基本原理" tabindex="-1"><a class="header-anchor" href="#路由协议基本原理"><span>路由协议基本原理</span></a></h3><p>路由器之间需要运行相同的路由协议，才能相互交换路由信息。每种路由协议都有自己的语言，即相应的路由协议报文。如果两台路由器启动了相同的路由协议，那么就有了相互通信的基础。不同的路由协议，有相同的目的，就是计算和维护路由表。通常工作过程包含 4 个阶段：</p><ul><li>邻居发现阶段：运行了路由协议后，路由器会主动把自己的网段信息发送给相邻的路由器。既可以使用广播发送路由协议消息，也可以单播将路由协议消息发送给指定的邻居路由器。</li><li>交换路由信息阶段：发现邻居后，每台路由器都将自己的路由信息发送给相邻的路由器，相邻路由器又发送给下一个相邻的路由器。经过一段时间后，每台路由器都会收到网络中所有的路由信息。</li><li>计算路由阶段：每一台路由器都会运行某种算法，计算出最终的路由表来。</li><li>维护路由阶段：为了感知突然发送的网络故障，比如：设备故障或线路中断等，路由协议规定相邻两台路由器之间，应该周期性发送协议报文。如果路由器在一段时间内，没收到邻居发来的协议报文，就认为邻居路由器失效。</li></ul><figure><img src="/wsq-blog/assets/12-DIN0Xaos.png" alt="路由协议" tabindex="0" loading="lazy"><figcaption>路由协议</figcaption></figure><h3 id="自治系统" tabindex="-1"><a class="header-anchor" href="#自治系统"><span>自治系统</span></a></h3><p>随着 IP 网络的发展，网络规模已经很大了，无论哪种路由协议都不能完成全网的路由计算，因此网络分成了很多个自治系统（<code>AS, Autonomous System</code>）或路由选择域（<code>Routing Domain</code>）。自治系统可以制定自己的路由策略，并管理自治系统内进行具体路由控制的路由器集合。</p><figure><img src="/wsq-blog/assets/img1-BMHCVxdS.png" alt="自治系统和路由协议" tabindex="0" loading="lazy"><figcaption>自治系统和路由协议</figcaption></figure><p>每个自治系统都有一个唯一的自治系统编号，它的基本思路是希望通过不同的编号来区分不同的自治系统。通过路由协议和自治系统编号，路由器可以确定路由路径和路由信息的交换方式。某个自治系统缺乏足够的安全机制，就可以利用编号改变路径回避它。</p><p>自治系统的编号范围是<code>1~65535</code>，其中<code>1~64511</code>是注册的因特网编号，<code>64512~65535</code>是专用网络编号。</p><figure><img src="/wsq-blog/assets/13-BYEdCGsQ.png" alt="自治系统和路由协议" tabindex="0" loading="lazy"><figcaption>自治系统和路由协议</figcaption></figure><h3 id="egp-和-igp" tabindex="-1"><a class="header-anchor" href="#egp-和-igp"><span>EGP 和 IGP</span></a></h3><p>自治系统（路由选择域）内部动态路由使用的协议是域内路由协议，即 IGP(<code>Interior Gateway Protocol</code>)。而自治系统之间的路由控制使用的是域间路由协议，即 EGP(<code>External Gateway Protocol</code>)。</p><figure><img src="/wsq-blog/assets/img2-Cp6scbbH.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>IGP 和 EGP 的关系，跟 IP 地址网络号和主机号的关系类似。根据 IP 地址的网络号在网络中进行路由选择，根据主机号在网段内部进行主机识别一样。既可以根据 EGP 在区域网络之间进行路由选择，也可以根据 IGP 在区域网络内部进行主机识别。</p><p>路由协议被分为 EGP 和 IGP 两个层次。没有 EGP 就不可能有世界上各个不同机构网络之间的通信，没有 IGP 机构内部也就不可能进行通信。</p><p>IGP 是指在同一个自治系统内交换路由信息的路由协议。RIP 、RIP2 、OSPF 属于 IGP 。IGP 的主要目的是发现和计算自治系统内的路由信息。</p><p>EGP 与 IGP 不同，EGP 用于连接不同的自治系统，并在不同自治系统间交换路由信息。EGP 的主要目的是使用路由策略和路由过滤等手段，控制路由信息在自治系统间的传播。BGP 属于 EGP。</p><h2 id="动态路由协议类型" tabindex="-1"><a class="header-anchor" href="#动态路由协议类型"><span>动态路由协议类型</span></a></h2><p>按照路由的算法和路由信息的交换方式，路由协议可以分为距离矢量（<code>Distance-Vector，D-V</code>）路由协议和链路状态（<code>Link-State</code>）路由协议。其中典型的距离矢量协议是 RIP，典型的链路状态协议是 OSPF。</p><h3 id="距离矢量路由协议" tabindex="-1"><a class="header-anchor" href="#距离矢量路由协议"><span>距离矢量路由协议</span></a></h3><p>距离矢量路由协议指的是基于距离矢量的路由协议，RIP 是最具代表性的距离矢量路由协议。距离矢量这个概念包含两个关键的信息：距离和方向，其中距离是指到达目的网络的度量值（即所要经过路由器的个数），而方向指的是到达目的网络的下一跳设备。</p><figure><img src="/wsq-blog/assets/14-DqP8Sqr-.png" alt="距离矢量路由协议" tabindex="0" loading="lazy"><figcaption>距离矢量路由协议</figcaption></figure><p>每一台运行距离矢量路由协议的路由器会周期性的将自己的路由表通告出去，相邻的路由器收到路由信息并更新自己的路由表，再继续向其它直连的路由器通告路由信息，最终网络中的每台路由器都能知道各个网段的路由，这个过程称为路由的泛洪过程。</p><figure><img src="/wsq-blog/assets/15-CN0uP9F7.png" alt="路由宣告" tabindex="0" loading="lazy"><figcaption>路由宣告</figcaption></figure><p>路由器之间互换目的网络的方向和距离的信息，并以这些信息更新路由表。这种方法在处理上比较简单，不过由于只有距离和方向的信息，所以当网络构造变得复杂时，在获得稳定的路由信息之前需要消耗一定时间（即路由收敛时间长），也极易发生路由循环等问题。</p><figure><img src="/wsq-blog/assets/16-PApCTA_2.png" alt="路由收敛" tabindex="0" loading="lazy"><figcaption>路由收敛</figcaption></figure><h3 id="链路状态路由协议" tabindex="-1"><a class="header-anchor" href="#链路状态路由协议"><span>链路状态路由协议</span></a></h3><p>运行链路状态路由协议的路由器会使用一些特殊的信息描述网络的拓扑结构和 IP 网段，这些信息被称为链路状态信息（LSA），所有路由器都会产生自己直连接口的链路状态信息。</p><figure><img src="/wsq-blog/assets/17-DSplsr3T.png" alt="链路状态路由协议" tabindex="0" loading="lazy"><figcaption>链路状态路由协议</figcaption></figure><p>路由器将网络中泛洪的链路状态信息搜集起来，存入一个数据库中，这个数据库就是 LSDB（链路状态数据库），LSDB 是对整个网络的拓扑结构及 IP 网段的描述，路由器拥有相同的 LSDB。对于任何一台路由器，网络拓扑都完全一样。</p><figure><img src="/wsq-blog/assets/18-DzEqzRu_.png" alt="LSDB" tabindex="0" loading="lazy"><figcaption>LSDB</figcaption></figure><p>接下来所有的路由器都基于 LSDB 使用最短路由优先算法进行计算，得到一棵已自己为根的、无环路的最短路径树，并将得到的路由加载到路由表中。</p><figure><img src="/wsq-blog/assets/19-DQ_spW-b.png" alt="带权有向图" tabindex="0" loading="lazy"><figcaption>带权有向图</figcaption></figure><p>链路状态算法使用增量更新机制，只有当链路的状态发生变化时，才发送路由更新信息。</p><figure><img src="/wsq-blog/assets/20-BNWa2VsO.png" alt="最短路径树" tabindex="0" loading="lazy"><figcaption>最短路径树</figcaption></figure><p>相比距离矢量路由协议，链路状态路由协议具有更大的扩展性和更快的收敛速度，但是它的算法消耗更多的内存和 CPU 处理能力。</p><h3 id="路由协议的性能指标" tabindex="-1"><a class="header-anchor" href="#路由协议的性能指标"><span>路由协议的性能指标</span></a></h3><p>不同的路由协议，有不同的特点。各个路由协议的性能指标体现如下：</p><ul><li>协议计算的正确性：是指路由协议的算法会不会产生错误的路由导致网络环路。不同的路由协议使用的算法不同，因此路由正确性也不相同。链路状态路由协议（如 OSPF）在算法上杜绝了产生路由环路的可能性，比距离矢量路由协议更优。</li><li>路由收敛速度：路由收敛是指全网路由器的路由表达到一致状态。收敛速度快，意味着网络拓扑结构发生变化时，路由器能够更快的感知，并及时更新相应的路由信息。OSPF、BGP 等协议的收敛速度快于 RIP。</li><li>协议所占的系统开销：路由器在运行路由协议时，需要消耗的系统资源，比如：CPU、内存等。工作原理的不同，各个路由协议对系统资源的需求也不同。OSPF 路由技术的系统开销要大于 RIP 协议。</li><li>协议自身的安全性：是指协议设计时，有没有考虑防止网络攻击。OSPF、RIPv2 有相应的防止攻击的认证方法，而 RIPv1 没有。</li><li>协议适用网络规模：不同路由协议所适用的网络规模、拓扑结构不同。RIP 协议有 16 跳的限制，所以只能应用在较小规模的网络中；而 OSPF 可以应用在几百台路由器的大规模网络中；BGP 能够管理全世界所有的路由器，其所管理的网络规模大小只受系统资源的限制。</li></ul><h3 id="主要路由协议" tabindex="-1"><a class="header-anchor" href="#主要路由协议"><span>主要路由协议</span></a></h3><p>各种路由协议都需要使用 IP 来进行报文封装，但其细节有所不同。</p><p>RIP 协议是最早的路由协议，是为小型网络中提供简单易用的动态路由。RIP 协议报文采用 UDP 封装，端口号是 520。由于 UDP 是不可靠的传输层协议，所以 RIP 协议需要周期性的广播协议报文来确保邻居收到路由信息。</p><p>OSPF 是目前应用最广泛的路由协议，可为大中型网络提供分层的、可靠的路由服务。OSFP 直接采用 IP 进行封装，所有协议报文都由 IP 封装后进行传输，协议号是 89。IP 是尽力而为的网络层协议，本身是不可靠的，所以为了保证传输的可靠性，OSPF 采用了复杂的确认机制来保证传输可靠。</p><p>BGP 采用 TCP 来保证协议传输的可靠性，TCP 端口号是 179。BGP 不需要自己设计可靠传输机制，降低了协议报文的复杂度和开销。</p><figure><img src="/wsq-blog/assets/21-lJmHNg64.png" alt="路由协议的底层协议图" tabindex="0" loading="lazy"><figcaption>路由协议的底层协议图</figcaption></figure><p>几种主要的路由协议表如下：</p><table><thead><tr><th style="text-align:center;">路由协议名称</th><th style="text-align:center;">下一层协议</th><th style="text-align:center;">方式</th><th style="text-align:center;">适用范围</th><th style="text-align:center;">循环检测</th></tr></thead><tbody><tr><td style="text-align:center;">RIP</td><td style="text-align:center;">UDP</td><td style="text-align:center;">距离矢量</td><td style="text-align:center;">IGP</td><td style="text-align:center;">不可以</td></tr><tr><td style="text-align:center;">RIPv2</td><td style="text-align:center;">UDP</td><td style="text-align:center;">距离矢量</td><td style="text-align:center;">IGP</td><td style="text-align:center;">不可以</td></tr><tr><td style="text-align:center;">OSPF</td><td style="text-align:center;">IP</td><td style="text-align:center;">链路状态</td><td style="text-align:center;">IGP</td><td style="text-align:center;">可以</td></tr><tr><td style="text-align:center;">BGP</td><td style="text-align:center;">TCP</td><td style="text-align:center;">路径矢量</td><td style="text-align:center;">EGP</td><td style="text-align:center;">可以</td></tr></tbody></table><h2 id="bgp" tabindex="-1"><a class="header-anchor" href="#bgp"><span>BGP</span></a></h2><p>BGP 是不同自治系统的路由器之间交换路由信息的协议。</p><p>BGP 较新版本是BGP-4。可以将 BGP-4 简写为 BGP。</p><p>互联网的规模太大，使得自治系统之间路由选择非常困难。对于自治系统之间的路由选择，要寻找最佳路由是很不现实的。</p><p>当一条路径通过几个不同 AS 时，要想对这样的路径计算出有意义的代价是不太可能的。比较合理的做法是在 AS 之间交换“可达性”信息。</p><p>自治系统之间的路由选择必须考虑有关策略。由于相互连接的网络的性能相差很大，根据最短距离（即最少跳数）找出来的路径，可能并不合适。也有的路径的使用代价很高或很不安全。有一种情况，如自治系统 AS1 要发送数据报给自治系统 AS2，本来最好是经过自治系统 AS3。但 AS3 不愿意让这些数据报通过本自治系统的网络，因为&quot;这是他们的事情，和我们没有关系。&quot;但另一方面，自治系统 AS3 愿意让某些相邻自治系统的数据报通过自己的网络，特别是对那些付了服务费的某些自治系统更是如此。因此，自治系统之间的路由选择协议应当允许使用多种路由选择策略。这些策略包括政治、安全或经济方面的考虑。这些策略都是由网络管理人员对每一个路由器进行设置的，但这些策略并不是自治系统之间的路由选择协议本身。</p><p>因此，边界网关协议 BGP 只能是力求寻找一条能够到达目的网络且比较好的路由（不能兜圈子），而并非要寻找一条最佳路由。</p><p>BGP 采用了路径向量路由选择协议。</p><p>每一个自治系统的管理员要选择至少一个路由器作为该自治系统的“ BGP 发言人”。</p><p>一般说来，两个 BGP 发言人都是通过一个共享网络连接在一起的，而 BGP 发言人往往就是 BGP 边界路由器，但也可以不是 BGP 边界路由器。</p><p>一个 BGP 发言人与其他自治系统中的 BGP 发言人要交换路由信息，就要先建立 TCP 连接（端口号为 179），然后在此连接上交换 BGP 报文以建立 BGP 会话，利用 BGP 会话交换路由信息，如增加了新的路由，或撤销过时的路由，以及报告出差错的情况等等。</p><p>使用 TCP 连接能提供可靠的服务，也简化了路由选择协议。使用 TCP 连接交换路由信息的两个 BGP 发言人，彼此成为对方的邻站或对等站。</p><p>BGP 发言人和自治系统 AS 的关系：</p><figure><img src="/wsq-blog/assets/img17-Bphh0iKM.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>每一个 BGP 发言人除了必须运行 BGP 协议外，还必须运行该自治系统所使用的内部网关协议，如 OSPF 或 RIP。</p><p>BGP 所交换的网络可达性的信息就是要到达某个网络所要经过的一系列 AS。</p><p>当 BGP 发言人互相交换了网络可达性的信息后，各 BGP 发言人就根据所采用的策略从收到的路由信息中找出到达各 AS 的较好路由。</p><p><img src="/wsq-blog/assets/img18-DvlS5EVW.png" alt="" loading="lazy"><br><br><br><img src="/wsq-blog/assets/img19-CbkxBjNT.png" alt="" loading="lazy"></p><p>自治系统 AS2 的 BGP 发言人通知主干网 AS1 的 BGP 发言人：“要到达网络 N1、N2、N3 和 N4 可经过 AS2。” 主干网在收到这个通知后，就发出通知∶&quot;要到达网络N1、N2，N3 和 N4 可沿路径（AS1，AS2）。&quot;</p><p>主干网还可发出通知：“要到达网络 N5、N6 和 N7 可沿路径（AS1, AS3）。”</p><h3 id="bgp-协议的特点" tabindex="-1"><a class="header-anchor" href="#bgp-协议的特点"><span>BGP 协议的特点</span></a></h3><p>BGP 协议交换路由信息的结点数量级是自治系统数的量级，这要比这些自治系统中的网络数少很多。</p><p>每一个自治系统中 BGP 发言人（或边界路由器）的数目是很少的。这样就使得自治系统之间的路由选择不致过分复杂。</p><p>BGP 支持 CIDR，因此 BGP 的路由表也就应当包括目的网络前缀、下一跳路由器，以及到达该目的网络所要经过的各个自治系统序列。由于使用了路径向量的信息，就可以很容易地避免产生兜圈子的路由。如果一个BGP 发言人收到了其他 BGP 发言人发来的路径通知，它就要检查一下本自治系统是否在此通知的路径中。如果在这条路径中，就不能采用这条路径（因为会兜圈子）。</p><p>在 BGP 刚刚运行时，BGP 的邻站是交换整个的 BGP 路由表。但以后只需要在发生变化时更新有变化的部分。这样做对节省网络带宽和减少路由器的处理开销都有好处。</p><p>BGP-4 共使用四种报文：</p><ul><li>打开 (<code>OPEN</code>) 报文，用来与相邻的另一个 BGP 发言人建立关系。</li><li>更新 (<code>UPDATE</code>) 报文，用来发送某一路由的信息，以及列出要撤消的多条路由。</li><li>保活 (<code>KEEPALIVE</code>) 报文，用来确认打开报文和周期性地证实邻站关系。</li><li>通知 (<code>NOTIFICATION</code>) 报文，用来发送检测到的差错。</li></ul><p>若两个邻站属于两个不同 AS，而其中一个邻站打算和另一个邻站定期地交换路由信息，这就应当有一个商谈的过程（因为很可能对方路由器的负荷已很重因而不愿意再加重负担）。因此，一开始向邻站进行商谈时就必须发送<code>OPEN</code>报文。如果邻站接受这种邻站关系，就用<code>KEEPALIVE</code>报文响应。这样，两个 BGP 发言人的邻站关系就建立了。</p><p>一旦邻站关系建立了，就要继续维持这种关系。双方中的每一方都需要确信对方是存在的，且一直在保持这种邻站关系。为此，这两个 BGP 发言人彼此要周期性地交换<code>KEEPALIVE</code>报文（一般每隔30秒）。<code>KEEPALIVE</code>报文只有 19 字节长（只用 BGP 报文的通用首部），因此不会造成网络上太大的开销。</p><p><code>UPDATE</code>报文是 BGP 协议的核心内容。BGP 发言人可以用<code>UPDATE</code>报文撤销它以前曾经通知过的路由，也可以宣布增加新的路由。撤销路由可以一次撤销许多条，但增加新路由时，每个更新报文只能增加一条。BGP 可以很容易地解决距离向量路由选择算法中的&quot;坏消息传播得慢&quot;这一问题。当某个路由器或链路出故障时，由于 BGP 发言人可以从不止一个邻站获得路由信息，因此很容易选择出新的路由。距离向量算法往往不能给出正确的选择，是因为这些算法不能指出哪些邻站到目的站的路由是独立的。</p><p>BGP 报文具有通用首部，其长度为 19 字节。通用首部分为三个字段。标记字段为 16 字节长，用来鉴别收到的 BGP 报文（这是假定将来有人会发明出合理的鉴别方案）。当不使用鉴别时，标记字段要置为全 1。长度字段指出包括通用首部在内的整个 BGP 报文以字节为单位的长度，最小值是 19，最大值是 4096。类型字段的值为 1 到 4，分别对应于四种 BGP 报文中的一种。</p><figure><img src="/wsq-blog/assets/img20-BQpLuSUM.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p><code>OPEN</code>报文共有 6 个字段，即</p><ul><li>版本（1 字节，现在的值是 4）</li><li>本自治系统号（2 字节，使用全球唯一的 16 位自治系统号，由 ICANN 地区登记机构分配）</li><li>保持时间（2 字节，以秒计算的保持为邻站关系的时间）</li><li>BGP 标识符（4 字节，通常就是该路由器的 IP 地址）</li><li>可选参数长度（1 字节）</li><li>可选参数。</li></ul><p><code>UPDATE</code>报文共有 5 个字段，即</p><ul><li>不可行路由长度（2 字节，指明下一个字段的长度）</li><li>撤销的路由（列出所有要撤销的路由）</li><li>路径属性总长度（2 字节，指明下一个字段的长度）</li><li>路径属性（定义在这个报文中增加的路径的属性）</li><li>网络层可达性信息 NLRI （<code>Network Layer Reachability Information</code>）。</li></ul><p>最后这个字段定义发出此报文的网络，包括网络前缀的位数、IP 地址前缀。</p><p><code>KEEPALIVE</code>报文只有 BGP 的 19 字节长的通用首部。</p><p><code>NOTIFICATION</code>报文有3个字段，即差错代码（1 字节）、差错子代码（1 字节）和差错数据（给出有关差错的诊断信息）。</p></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">上次编辑于: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/5/14 10:35:45</span></div><div class="contributors"><span class="vp-meta-label">贡献者: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 592786982@qq.com">WSQ-LK</span>,<!--]--><!--[--><span class="vp-meta-info" title="email: 592786982@qq.com">WSQ</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link auto-link prev" href="/wsq-blog/network/Wireshark%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B.html" aria-label="Wireshark使用教程"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->Wireshark使用教程</div></a><a class="route-link auto-link next" href="/wsq-blog/network/RIP%E8%AF%A6%E8%A7%A3.html" aria-label="RIP详解"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">RIP详解<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:none;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/wsq-blog/assets/app-CRBxQhNH.js" defer></script>
  </body>
</html>
