<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://0oWSQo0.github.io/wsq-blog/%E7%AC%94%E8%AE%B0/%E5%8D%8E%E4%B8%BA%E6%95%B0%E9%80%9A%E7%AC%94%E8%AE%B0.html"><meta property="og:description" content="VRPå‘½ä»¤è¡Œè§†å›¾VRPå‘½ä»¤è¡Œè§†å›¾ å‘½ä»¤è¡Œåœ¨çº¿å¸®åŠ©å‘½ä»¤è¡Œåœ¨çº¿å¸®åŠ© ç³»ç»Ÿæ—¶é’Ÿæ˜¯è®¾å¤‡ä¸Šçš„ç³»ç»Ÿæ—¶é—´æˆ³ã€‚ç”±äºåœ°åŸŸçš„ä¸åŒï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®å½“åœ°è§„å®šè®¾ç½®ç³»ç»Ÿæ—¶é’Ÿã€‚ç”¨æˆ·å¿…é¡»æ­£ç¡®è®¾ç½®ç³»ç»Ÿæ—¶é’Ÿä»¥ç¡®ä¿å…¶ä¸å…¶ä»–è®¾å¤‡ä¿æŒåŒæ­¥ã€‚ è®¾ç½®ç³»ç»Ÿæ—¶é’Ÿçš„å…¬å¼ä¸ºï¼šUTC+æ—¶åŒºåç§»é‡+å¤æ—¶åˆ¶æ—¶é—´åç§»é‡ã€‚clock datetimeå‘½ä»¤è®¾ç½®HH:MM:SS YYYY-MM-DDæ ¼å¼çš„ç³»ç»Ÿæ—¶é’Ÿã€‚ä½†æ˜¯éœ€..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2025-05-07T05:36:04.000Z"><meta property="article:modified_time" content="2025-05-07T05:36:04.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"","image":[""],"dateModified":"2025-05-07T05:36:04.000Z","author":[{"@type":"Person","name":"WSQ","url":"https://0oWSQo0.github.com"}]}</script><title></title><meta name="description" content="VRPå‘½ä»¤è¡Œè§†å›¾VRPå‘½ä»¤è¡Œè§†å›¾ å‘½ä»¤è¡Œåœ¨çº¿å¸®åŠ©å‘½ä»¤è¡Œåœ¨çº¿å¸®åŠ© ç³»ç»Ÿæ—¶é’Ÿæ˜¯è®¾å¤‡ä¸Šçš„ç³»ç»Ÿæ—¶é—´æˆ³ã€‚ç”±äºåœ°åŸŸçš„ä¸åŒï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®å½“åœ°è§„å®šè®¾ç½®ç³»ç»Ÿæ—¶é’Ÿã€‚ç”¨æˆ·å¿…é¡»æ­£ç¡®è®¾ç½®ç³»ç»Ÿæ—¶é’Ÿä»¥ç¡®ä¿å…¶ä¸å…¶ä»–è®¾å¤‡ä¿æŒåŒæ­¥ã€‚ è®¾ç½®ç³»ç»Ÿæ—¶é’Ÿçš„å…¬å¼ä¸ºï¼šUTC+æ—¶åŒºåç§»é‡+å¤æ—¶åˆ¶æ—¶é—´åç§»é‡ã€‚clock datetimeå‘½ä»¤è®¾ç½®HH:MM:SS YYYY-MM-DDæ ¼å¼çš„ç³»ç»Ÿæ—¶é’Ÿã€‚ä½†æ˜¯éœ€...">
    <link rel="preload" href="/wsq-blog/assets/style-B8iyyxn3.css" as="style"><link rel="stylesheet" href="/wsq-blog/assets/style-B8iyyxn3.css">
    <link rel="modulepreload" href="/wsq-blog/assets/app-BAoNGAQX.js"><link rel="modulepreload" href="/wsq-blog/assets/åä¸ºæ•°é€šç¬”è®°.html-CFn1KnHB.js"><link rel="modulepreload" href="/wsq-blog/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/wsq-blog/assets/index.html-y9hjWg4H.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/portfolio.html-BXkm2R9O.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/è¿›åˆ¶.html-D8SGjDfR.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ACLè¯¦è§£.html-BloX_IeT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ARPè¯¦è§£.html-cBNfZDN_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/BGPè¯¦è§£.html-H-6DMP-Q.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/DHCPè¯¦è§£.html-5OsfIqif.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/DNSè¯¦è§£.html-9f9jSQ6z.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/HTTPSè¯¦è§£.html-B1MNeeCC.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ICMPè¯¦è§£.html-rOsq0YlX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/IPv6è¯¦è§£.html-mcuWo4Lm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/IPè¯¦è§£.html-Cn_WOg-x.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ISISè¯¦è§£.html-CKYYamtd.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/NATè¯¦è§£.html-9GTOa7EI.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPF-LSA.html-DeRnGEZO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPFå®æˆ˜.html-DP7X6rhm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPFç‰¹æ€§.html-CHIr3PPJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPFè¯¦è§£.html-CbPtE_bm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RIPè¯¦è§£.html-QgpY6GUV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RSTPã€MSTPè¯¦è§£.html-BXEuGz-T.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/STPè¯¦è§£.html-C1DTR0aY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/TCPå’ŒUDPè¯¦è§£.html-BZu5cSVW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VLANè¯¦è§£.html-D6hv5wdt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VPNè¯¦è§£.html-BhwoQ2eB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VRRPè¯¦è§£.html-DVENiYOQ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Wiresharkä½¿ç”¨æ•™ç¨‹.html-nr1YJCIH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ä¸‰å±‚äº¤æ¢æœº.html-DfJEb5tX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/åä¸ºå‘½ä»¤.html-CLrOQfhN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/åº”ç”¨å±‚åè®®è¯¦è§£.html-DVr0k4nr.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/æ•°æ®é“¾è·¯å±‚åŸºç¡€çŸ¥è¯†.html-BXryfrXx.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/æ— çº¿ç½‘ç»œè¯¦è§£.html-QsHhSR6H.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/æ ¡éªŒç .html-CMZ1aKIy.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ç½‘ç»œåŸºç¡€çŸ¥è¯†.html-lq4pXFoN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/è·¯ç”±åè®®è¯¦è§£.html-DIdwYcdD.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/è·¯ç”±å™¨.html-C9VJQbwh.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/è·¯ç”±ç­–ç•¥å’Œç­–ç•¥è·¯ç”±.html-CxTk51aa.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/è·¯ç”±é«˜çº§ç‰¹æ€§.html-BLZaIDsP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/é“¾è·¯èšåˆæŠ€æœ¯.html-BBLX_r7x.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/é˜²ç«å¢™.html-xIL0MxFq.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/é™æ€è·¯ç”±è¯¦è§£.html-Cn79_8_w.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ç½‘ç«™æ”¶è—.html-wtWtedCA.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå…ƒç»„.html-C35VawoP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå‡½æ•°.html-D6Qhr5G1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonåˆ—è¡¨.html-CLPZErQH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå˜é‡.html-YJzPA_R6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonåŸºç¡€.html-BZCQtRn2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå­—å…¸.html-qcjF8v7r.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå­—ç¬¦ä¸²å¸¸ç”¨æ–¹æ³•.html-DYzfZrjm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonå¼‚å¸¸å¤„ç†æœºåˆ¶.html-CjgoKvUP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonæ–‡ä»¶æ“ä½œ.html-B0iP2xCS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonæ¨¡å—å’ŒåŒ….html-CResYCBN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonæµç¨‹æ§åˆ¶.html-C3ZzWANj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonçˆ¬è™«.html-CQqaavzW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonç±»å’Œå¯¹è±¡.html-DYK3lmTC.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonç±»ç‰¹æ®Šæˆå‘˜.html-DxW-zaVC.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythonè¿ç®—ç¬¦.html-Am9I9ipn.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/pythoné›†åˆ.html-Dp4fBRSz.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-GtLqceJP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/disable.html-DhwD98pb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/encrypt.html-BmguXeXU.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/layout.html-Ccbzvy5y.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/markdown.html-b_YalApo.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/page.html-M98jd5pQ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/OSPF.html-cztG_FLD.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ç½‘ç»œ.html-BbtEGDZP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/æ–‡å­—ç‰¹æ•ˆ.html-CDNfMzpk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 ArrayBuffer.html-Cl4VZg1r.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Class.html-CaeH-519.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Classçš„ç»§æ‰¿.html-D1Gdrm4I.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Moduleçš„åŠ è½½å®ç°.html-n59X0Nwm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Moduleè¯­æ³•.html-CUrdTY80.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 Setå’ŒMap.html-DKX3dnZP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 asyncå‡½æ•°.html-D1WNxO1H.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 letå’Œconst.html-8HvK1j46.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6 proxy.html-3homrOiA.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6Iteratorå’Œforofå¾ªç¯.html-4EZTMvYn.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6Promiseå¯¹è±¡.html-BPigeBNB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6Symbol.html-CtdsFENt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6å‡½æ•°.html-BcPSTM_5.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6å­—ç¬¦ä¸².html-D0qEo11d.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6å¯¹è±¡.html-CJWUhs9N.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6æ•°å€¼.html-BlBM_CBu.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6æ•°ç»„.html-DrjqHESM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6ç»“æ„èµ‹å€¼.html-DIY-p22Z.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ES6è¿ç®—ç¬¦.html-C8BDY9Rl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/d.tsç±»å‹å£°æ˜æ–‡ä»¶.html-CDZ4uJ25.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsä¸‰ç§ç‰¹æ®Šç±»å‹.html-CUjOdOBa.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tså‡½æ•°ç±»å‹.html-j8m-EAgP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tså¯¹è±¡ç±»å‹.html-DPXW-ga3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsæ•°æ®ç±»å‹.html-BpaHf3ds.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsæ•°ç»„å’Œå…ƒç»„.html-BAaRqN14.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsæ³›å‹.html-Buw5j75J.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsçš„Enumç±»å‹.html-Byl3l3qW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsçš„interfaceæ¥å£.html-FPr7UtEK.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/tsç±»å‹æ–­è¨€.html-B-iBe9DT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-CanvasAPI.html-C4EL_HZd.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-ClipboardAPI.html-CwrWQ7PN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-FetchAPI.html-TI0HPebM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-File_FileList_FileReader.html-BAlNMKUb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-FormData.html-D9ULMjGG.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-History.html-BR4tGLRY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-SVG.html-L7Ds9vcL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-URL.html-C6Za9YIY.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-URLPatternAPI.html-BdJeGXZm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-WebSocket.html-DIFx7koR.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JS-window.html-Bz0eWajB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JSå®ç”¨ä»£ç ç‰‡æ®µ.html-CSVtMNuW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringJdbcTemplate.html-B0ZT7oaZ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springäº‹åŠ¡.html-KeGQ7jKA.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springçš„æ•´ä½“è„‰ç»œ.html-BhMb13xM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”IOCå®ç°åŸç†ä¹‹Beanå®ä¾‹åŒ–.html-755XRiKp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”IOCå®ç°åŸç†ä¹‹IOCä½“ç³»ç»“æ„è®¾è®¡.html-BU12GVal.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”IOCå®ç°åŸç†ä¹‹IOCåˆå§‹åŒ–æµç¨‹.html-Bcdh-3-8.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”Springå’ŒSpringæ¡†æ¶ç»„æˆ.html-DhEpbrji.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”æ§åˆ¶åè½¬IOC.html-1HXdthO7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”ç®€å•ä¾‹å­å¼•å…¥Springè¦ç‚¹.html-pbJC4jBI.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Springè¯¦è§£â€”é¢å‘åˆ‡é¢ç¼–ç¨‹(AOP).html-2uhc-qFV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Java é›†åˆ.html-CI_1se6U.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaä¿®é¥°ç¬¦å’Œå…³é”®å­—.html-Bds7WBkl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaå†…ç½®åŒ…è£…ç±».html-WRzUyaot.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaå†…éƒ¨ç±».html-D-hpb9YN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaåå°„æœºåˆ¶.html-B0u-aZMm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JavaåŸºç¡€â€”SPIæœºåˆ¶.html--PjTaDC-.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JavaåŸºç¡€â€”åå°„æœºåˆ¶.html-Di7zg_-6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JavaåŸºç¡€â€”å¼‚å¸¸æœºåˆ¶.html-C9Jltuxw.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JavaåŸºç¡€â€”æ³›å‹æœºåˆ¶.html-DMd2pwVR.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/JavaåŸºç¡€â€”æ³¨è§£æœºåˆ¶.html-B9USVSlN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaå­—ç¬¦ä¸²å¤„ç†.html-D_rrovfs.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaåºåˆ—åŒ–ä¸ååºåˆ—åŒ–.html-BOs0fCXy.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaå¼‚å¸¸å¤„ç†.html-CiErb1jn.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaæ•°å­—å¤„ç†.html-DmexAmZG.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaæ•°ç»„.html-BP5Yfe2s.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaæ•°ç»„æ“ä½œ.html-BArfyCs_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaæ—¶é—´æ—¥æœŸçš„å¤„ç†.html-BZJD8Yo2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaæ³›å‹å’Œæšä¸¾.html-BI24_Lh7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaç±»å’Œå¯¹è±¡.html-CPUY67Fk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Javaè¾“å…¥è¾“å‡ºæµ.html-BWPJfW4h.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/javaç»§æ‰¿å°è£…å’Œå¤šæ€.html-CSpnGKJ4.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”Mapperæ˜ å°„æ–‡ä»¶é…ç½®.html-BNmW_Z06.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”sqlSessionæ‰§è¡Œæµç¨‹.html-DBTVa2OW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”ä¸€çº§ç¼“å­˜å®ç°æœºåˆ¶.html-Cb435cgF.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”äº‹åŠ¡ç®¡ç†æœºåˆ¶.html-DIHpVRBV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”äºŒçº§ç¼“å­˜å®ç°æœºåˆ¶.html-8q3bkMC0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”åˆå§‹åŒ–åŸºæœ¬æµç¨‹.html-d1Vr3b-S.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”åŠ¨æ€SQLä½¿ç”¨ä¸åŸç†.html-DBuN--r0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”æ€»ä½“æ¡†æ¶è®¾è®¡.html-BspOqrrx.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”æ’ä»¶ä¹‹åˆ†é¡µæœºåˆ¶.html-CVfnE8LX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”æ’ä»¶æœºåˆ¶.html-CqsrZDcp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”æ•°æ®æºä¸è¿æ¥æ± .html-Czq24GfH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”é…ç½®æ¸…å•.html-DF3yeIZ0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MyBatisè¯¦è§£â€”é…ç½®è§£æè¿‡ç¨‹.html-CEJH1pu7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Servlet Cookieå’ŒSession.html-CWWdORcy.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Servletè¿‡æ»¤å™¨.html-C-xLWyJr.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/servlet1.html-Coup9vOB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/servlet2.html-ihS4wAZT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/servlet3.html-BWeFNNxS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”devtools.html-xEXVpFBb.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”å¸¸ç”¨æ³¨è§£.html-_HVb37q8.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”é›†æˆDruidè¿æ¥æ± .html-CfYGmu2g.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”é›†æˆEasyExcel.html-tq0SN1Ft.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”é›†æˆPOI.html-KhW9FXwO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”é›†æˆactuatorç›‘æ§å·¥å…·.html-BXbyLj_m.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBootâ€”é›†æˆadminç›‘æ§å·¥å…·.html-D9p-UOPX.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBooté›†æˆMyBatisâ€”XMLæ–¹å¼.html-DTuQ-eoR.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBooté›†æˆMybatisâ€”PageHelperåˆ†é¡µ.html-CfUITTDW.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/springBooté›†æˆMybatisâ€”æ³¨è§£æ–¹å¼.html-BZ1OLpXO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVCå…¥é—¨.html-DYUPumLp.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVCåŸŸå¯¹è±¡å…±äº«æ•°æ®.html-ChLAabt7.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVCå®ç°Restful.html-CGsAaTLD.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVCè·å–è¯·æ±‚å‚æ•°.html-vMl99Hg6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/SpringMVCè§†å›¾å’Œè§†å›¾è§£æå™¨.html-BiLG-6j8.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Dockerfileå®šåˆ¶é•œåƒ.html-G2sxyKio.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/DockeråŸºç¡€.html-DVo1b4T6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Dockerçš„æ•°æ®å·.html-CUaR897X.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Dockerçš„ç½‘ç»œ.html-D_zThKFh.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/docker-compose.html-UGr3yfF8.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/çƒ­é—¨é•œåƒå®‰è£….html-_u7TFfrM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/é›†æˆDockerå®ç°ä¸€é”®éƒ¨ç½².html-BhlW0_gg.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”å…¥é—¨.html-BhtxRtVN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”å‡½æ•°.html-DktAR5MO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”å˜é‡.html-CDD3IwzV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”å­—ç¬¦ä¸²æ“ä½œ.html-CQcvhH9K.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”å¸¸ç”¨å‘½ä»¤.html-_akWuHlJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”æ•°ç»„.html-vTJEhlPQ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”æ¨¡å¼æ‰©å±•.html-CI7-g1hm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”æµç¨‹æ§åˆ¶.html-BFyG9TLx.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Bashè„šæœ¬â€”ç®—æ•°è¿ç®—.html-DBrCwfx3.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/LinuxSSHå‘½ä»¤.html-Bpxk7XTt.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/LinuxVim.html-DGPh-mEF.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxå…¥é—¨.html-ZAKFcDi2.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxå¸¸ç”¨è½¯ä»¶å®‰è£….html-CJz7CUK1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæ‰“åŒ…å‹ç¼©å‘½ä»¤.html-oVn9T6yl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæ“ä½œå†å².html-BEZVZdks.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæ–‡ä»¶ç›®å½•ç›¸å…³å‘½ä»¤.html-CT8cuya0.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæ–‡ä»¶ç³»ç»Ÿç»“æ„.html-BCYXQfGo.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæ–‡æœ¬æ“ä½œå‘½ä»¤.html-C1qx5bj6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxæƒé™ç®¡ç†.html-BrzQFM_6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxç”¨æˆ·å’Œç”¨æˆ·ç»„ç®¡ç†.html-cHqLXYUS.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxç£ç›˜ç›¸å…³å‘½ä»¤.html-Bk1vWp_s.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxç³»ç»ŸæœåŠ¡ç®¡ç†.html-DQVl65aa.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxç½‘ç»œç›¸å…³å‘½ä»¤.html-BCrparGN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxè½¯ä»¶å®‰è£….html-BdsrJqcj.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxè¿›ç¨‹ç›¸å…³å‘½ä»¤.html-DkriE6C4.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linuxé˜²ç«å¢™è¯¦è§£.html-BfE8j8Co.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Linxå…¶å®ƒå¸¸ç”¨å‘½ä»¤.html-DbIEYSRH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/VMwareå®‰è£…linux.html-DF9azwZa.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/linuxå¸¸ç”¨å·¥å…·.html-CGtPjFAM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/å®‰è£…è„šæœ¬å®ä¾‹.html-0kRVZri1.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ansible-playbook.html-CDcGrj1_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ansible.html-CehcSPGK.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/ansibleå¸¸ç”¨æ¨¡å—.html-KBDB5y_K.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/nginxå…¥é—¨.html-D0xAoW9D.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RequestsåŸºæœ¬ç”¨æ³•.html-DhBsfgOV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Scrapyçˆ¬è™«æ¡†æ¶.html-B3M5MZow.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/urllibåŒ….html-B4r7Fmqq.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLäº‹åŠ¡.html-dWAPSxdl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå…¥é—¨.html-Bm_oWoBE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLåŸºç¡€æŸ¥è¯¢.html-B-emxQ5X.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå¤šè¡¨æŸ¥è¯¢.html-BrwxgCv6.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå­—ç¬¦é›†å’Œæ ¡å¯¹è§„åˆ™.html-ozeyPJdP.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå­˜å‚¨å¼•æ“.html-3zjiFhFD.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå­˜å‚¨è¿‡ç¨‹.html-KbabVN6z.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå®‰è£….html-Cos3L3tR.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå¸¸ç”¨å‡½æ•°æ±‡æ€».html-BxaA0aHv.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLå¸¸è§é—®é¢˜.html-CXFDHjlk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ‰§è¡Œæµç¨‹.html-BAXJ078x.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ“ä½œè¡¨ä¸­çš„æ•°æ®.html-BSFFJgYT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ•°æ®åº“å¤‡ä»½æ¢å¤.html-D1o3_rhN.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ•°æ®åº“çš„åŸºæœ¬æ“ä½œ.html-CdzWAGDm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ•°æ®ç±»å‹.html-kVOe4_gy.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ•°æ®è¡¨çš„åŸºæœ¬æ“ä½œ.html-BKQeQ9rK.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLæ—¥å¿—.html-B8qVLOIE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLç”¨æˆ·ç®¡ç†.html-DY5mkBHL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLç´¢å¼•.html-Y5-Wn-Ns.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLçº¦æŸ.html-tqcKxnNB.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLè§†å›¾.html-Dvlg6sc5.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLè§¦å‘å™¨.html-DrUUb4sH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLè¯•é¢˜.html-CrD4I06p.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLè¿ç®—ç¬¦.html-Cuyt0x-G.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLé”æœºåˆ¶.html-CEXSfDOm.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/MySQLé«˜çº§æŸ¥è¯¢.html-MYzC4-LQ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redis Stream.html-DRkKy_fr.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Rediså‘å¸ƒè®¢é˜…æ¨¡å¼.html-8ovmHjic.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RedisåŸºç¡€å…¥é—¨.html-CnPzPUcO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/RedisåŸºç¡€æ•°æ®ç±»å‹.html-CclhSKaQ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redisç‰¹æ®Šæ•°æ®ç±»å‹.html-BVv9ijlq.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redisçš„é”®.html-CvQ3kMQg.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/Redisé…ç½®æ–‡ä»¶.html-D2SsHd1F.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/404.html-BlieSuoI.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CZ6tDm5n.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-DDe4C4By.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BzfxMV2E.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CGR1uTaO.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-C8i93F1_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-DMZ4MO3h.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-D4-erai_.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-7v6dhxuF.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-DW2tbR-f.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CJiqu4_o.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BPuFGnBK.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-Czqdcg4u.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-OvYZXapl.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-C61Yv5KG.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BTU9BpIn.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-e_1t2G6T.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-CI6fbVHE.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BTxrdDkL.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-Ddp4aLQU.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-O0sx69kH.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BVGzpYeT.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BmmsHO8n.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-B7mYeUT8.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-BFacqWRe.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index.html-B5DDXp-M.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/giscus-BZxmVUME.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/flowchart-CTwbLKUk.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index-BYq9jyaM.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index-DRWmbcXV.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/index-B9oRC6ej.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/mermaid.esm.min-CATR3y-q.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/wsq-blog/assets/setupDevtools-7MC2TMWH-DtIpLJvU.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/wsq-blog/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="/wsq-blog/logo.png" alt><!----><!----></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/wsq-blog/" aria-label="ä¸»é¡µ"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:google-home" width="1em" height="1em"></iconify-icon><!--]-->ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å‰ç«¯"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:javascript" width="1em" height="1em"></iconify-icon>å‰ç«¯<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/js/%E5%9F%BA%E7%A1%80/" aria-label="JSåŸºç¡€"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:javascript" width="1em" height="1em"></iconify-icon><!--]-->JSåŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/js/es6/" aria-label="ES6"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:es6" width="1em" height="1em"></iconify-icon><!--]-->ES6<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/js/CSS/" aria-label="CSS"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:css3" width="1em" height="1em"></iconify-icon><!--]-->CSS<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Java"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon>Java<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/java%E5%9F%BA%E7%A1%80/" aria-label="JavaåŸºç¡€"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:java" width="1em" height="1em"></iconify-icon><!--]-->JavaåŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/mybatis/" aria-label="Mybatis"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Mybatis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/Spring/" aria-label="Spring"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->Spring<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/java/springBoot/" aria-label="springBoot"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:spring" width="1em" height="1em"></iconify-icon><!--]-->springBoot<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="SQL"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:azuresqldatabase" width="1em" height="1em"></iconify-icon>SQL<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/sql/redis/" aria-label="Redis"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:redis" width="1em" height="1em"></iconify-icon><!--]-->Redis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/sql/mysql/" aria-label="MySQL"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:mysql-wordmark" width="1em" height="1em"></iconify-icon><!--]-->MySQL<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="è¿ç»´"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:centos" width="1em" height="1em"></iconify-icon>è¿ç»´<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/linux/linux%E5%9F%BA%E7%A1%80/" aria-label="linuxåŸºç¡€"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:linux" width="1em" height="1em"></iconify-icon><!--]-->linuxåŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/linux/docker/" aria-label="Docker"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="mdi:docker" width="1em" height="1em"></iconify-icon><!--]-->Docker<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/linux/tools/" aria-label="è¿ç»´å·¥å…·"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:linux" width="1em" height="1em"></iconify-icon><!--]-->è¿ç»´å·¥å…·<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="è®¡ç®—æœºåŸºç¡€"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:windows11" width="1em" height="1em"></iconify-icon>è®¡ç®—æœºåŸºç¡€<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/network/" aria-label="ç½‘ç»œ"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:networkx" width="1em" height="1em"></iconify-icon><!--]-->ç½‘ç»œ<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/wsq-blog/computer/" aria-label="å…¶ä»–"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="devicon:haskell" width="1em" height="1em"></iconify-icon><!--]-->å…¶ä»–<!----></a></li></ul></button></div></div></nav><!--]--><!----></div><div class="vp-navbar-end"><!----><!--[--><!----><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://0oWSQo0.github.com" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-color-mode-switch" id="color-mode-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" name="auto" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" name="dark" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" name="light" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/wsq-blog/" aria-label="ä¸»é¡µ"><!--[--><iconify-icon class="font-icon icon" style="" mode="style" inline icon="logos:google-home" width="1em" height="1em"></iconify-icon><!--]-->ä¸»é¡µ<!----></a></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!----></h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://0oWSQo0.github.com" target="_blank" rel="noopener noreferrer">WSQ</a></span><span property="author" content="WSQ"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2025å¹´4æœˆ23æ—¥</span><meta property="datePublished" content="2025-04-23T09:49:11.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 56 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT56M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#å‘½ä»¤ç­‰çº§">å‘½ä»¤ç­‰çº§</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ç”¨æˆ·ç•Œé¢">ç”¨æˆ·ç•Œé¢</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é…ç½®ç”¨æˆ·ç•Œé¢å‘½ä»¤">é…ç½®ç”¨æˆ·ç•Œé¢å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é…ç½®ç™»é™†æƒé™">é…ç½®ç™»é™†æƒé™</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é…ç½®æ¥å£ipåœ°å€">é…ç½®æ¥å£IPåœ°å€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é™æ€è·¯ç”±">é™æ€è·¯ç”±</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#è·¯ç”±çš„åº¦é‡å€¼-metric">è·¯ç”±çš„åº¦é‡å€¼ï¼ˆmetricï¼‰</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è·¯ç”±æ¡ç›®ä¼˜é€‰è¿›è·¯ç”±è¡¨">è·¯ç”±æ¡ç›®ä¼˜é€‰è¿›è·¯ç”±è¡¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#è·¯ç”±çš„é€‰è·¯è§„åˆ™">è·¯ç”±çš„é€‰è·¯è§„åˆ™</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æœ€é•¿åŒ¹é…åŸåˆ™">æœ€é•¿åŒ¹é…åŸåˆ™</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é™æ€è·¯ç”±çš„ä¸‹ä¸€è·³">é™æ€è·¯ç”±çš„ä¸‹ä¸€è·³</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç¼ºçœè·¯ç”±">ç¼ºçœè·¯ç”±</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#è´Ÿè½½åˆ†æ‹…">è´Ÿè½½åˆ†æ‹…</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#æµ®åŠ¨è·¯ç”±">æµ®åŠ¨è·¯ç”±</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#ipv6">IPv6</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ipv6åŸºæœ¬æŠ¥å¤´">IPv6åŸºæœ¬æŠ¥å¤´</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ipv6æ‰©å±•æŠ¥å¤´">IPv6æ‰©å±•æŠ¥å¤´</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ipv6åœ°å€æ ¼å¼">IPv6åœ°å€æ ¼å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ipv6åœ°å€å‹ç¼©æ ¼å¼">IPv6åœ°å€å‹ç¼©æ ¼å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ipv6åœ°å€åˆ†ç±»">IPv6åœ°å€åˆ†ç±»</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ipv6å•æ’­åœ°å€">IPv6å•æ’­åœ°å€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ipv6ç»„æ’­åœ°å€">IPv6ç»„æ’­åœ°å€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ipv6ä»»æ’­åœ°å€">IPv6ä»»æ’­åœ°å€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ipv6æ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®">IPv6æ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#eui-64è§„èŒƒ">EUI-64è§„èŒƒ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ipv6æ— çŠ¶æ€åœ°å€dadæ£€æŸ¥">IPv6æ— çŠ¶æ€åœ°å€DADæ£€æŸ¥</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#åŸºæœ¬aclä»‹ç»">åŸºæœ¬ACLä»‹ç»</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#aclçš„åŒ¹é…é¡ºåº">ACLçš„åŒ¹é…é¡ºåº</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŸºæœ¬ipv4-aclçš„-æ·±åº¦ä¼˜å…ˆ-åŸåˆ™">åŸºæœ¬IPv4 ACLçš„â€œæ·±åº¦ä¼˜å…ˆâ€åŸåˆ™</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é…ç½®acl">é…ç½®ACL</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é€šé…ç¬¦æ©ç -wildcard-mask">é€šé…ç¬¦æ©ç  ï¼ˆWildCard Maskï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŸºæœ¬aclåº”ç”¨">åŸºæœ¬ACLåº”ç”¨</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä»€ä¹ˆæ˜¯in-ä»€ä¹ˆæ˜¯out">ä»€ä¹ˆæ˜¯INï¼Œä»€ä¹ˆæ˜¯OUT</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å‘½åacl">å‘½åacl</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#time-range">time-range</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŸºæœ¬ipv4-aclçš„-æ·±åº¦ä¼˜å…ˆ-åŸåˆ™-1">åŸºæœ¬IPv4 ACLçš„â€œæ·±åº¦ä¼˜å…ˆâ€åŸåˆ™</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#aclåº”ç”¨å®ä¾‹">ACLåº”ç”¨å®ä¾‹</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#é™æ€natã€åŠ¨æ€nat">é™æ€NATã€åŠ¨æ€NAT</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é™æ€nat">é™æ€NAT</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŠ¨æ€nat">åŠ¨æ€NAT</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é™æ€naté…ç½®">é™æ€NATé…ç½®</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åŠ¨æ€naté…ç½®">åŠ¨æ€NATé…ç½®</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#vlanåŸç†å’Œé…ç½®">VLANåŸç†å’Œé…ç½®</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä¼ ç»Ÿä»¥å¤ªç½‘">ä¼ ç»Ÿä»¥å¤ªç½‘</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vlanæŠ€æœ¯">VLANæŠ€æœ¯</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#é“¾è·¯ç±»å‹">é“¾è·¯ç±»å‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vlanå¸§æ ¼å¼">VLANå¸§æ ¼å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#pvid">PVID</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç«¯å£ç±»å‹â€“-access">ç«¯å£ç±»å‹â€“ Access</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç«¯å£ç±»å‹â€“trunk">ç«¯å£ç±»å‹â€“Trunk</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ç«¯å£ç±»å‹-hybrid">ç«¯å£ç±»å‹-Hybrid</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vlanç«¯å£ç±»å‹æ€»ç»“">VLANç«¯å£ç±»å‹æ€»ç»“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vlanåˆ’åˆ†æ–¹æ³•">VLANåˆ’åˆ†æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#vlané…ç½®">VLANé…ç½®</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><figure><img src="/wsq-blog/assets/1-B4H2Rcpu.png" alt="VRPå‘½ä»¤è¡Œè§†å›¾" tabindex="0" loading="lazy"><figcaption>VRPå‘½ä»¤è¡Œè§†å›¾</figcaption></figure><figure><img src="/wsq-blog/assets/2-Az5gJU-E.png" alt="å‘½ä»¤è¡Œåœ¨çº¿å¸®åŠ©" tabindex="0" loading="lazy"><figcaption>å‘½ä»¤è¡Œåœ¨çº¿å¸®åŠ©</figcaption></figure><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span>[Huawei]d?</span></span>
<span class="line"><span>  ddns                                    dhcp</span></span>
<span class="line"><span>  dhcpv6                                  diagnose</span></span>
<span class="line"><span>  display                                 dns</span></span>
<span class="line"><span>  domain                                  dot1x</span></span></code></pre></div><table><thead><tr><th style="text-align:center;">å‘½ä»¤</th><th style="text-align:center;">åŠŸèƒ½</th></tr></thead><tbody><tr><td style="text-align:center;">sysname</td><td style="text-align:center;">é…ç½®è®¾å¤‡åç§°</td></tr><tr><td style="text-align:center;">clock timezone</td><td style="text-align:center;">è®¾ç½®è®¾å¤‡æ—¶åŒº</td></tr><tr><td style="text-align:center;">clock datetime</td><td style="text-align:center;">è®¾ç½®å½“å‰æ—¥æœŸå’Œæ—¶é—´</td></tr><tr><td style="text-align:center;">clock daylight-saving-time</td><td style="text-align:center;">è®¾ç½®é‡‡ç”¨å¤ä»¤æ—¶åˆ¶</td></tr><tr><td style="text-align:center;">header login</td><td style="text-align:center;">é…ç½®åœ¨ç”¨æˆ·ç™»é™†å‰æ˜¾ç¤ºçš„æ ‡é¢˜æ¶ˆæ¯</td></tr><tr><td style="text-align:center;">header shell</td><td style="text-align:center;">é…ç½®åœ¨ç”¨æˆ·ç™»é™†åæ˜¾ç¤ºçš„æ ‡é¢˜æ¶ˆæ¯</td></tr></tbody></table><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">&lt;</span><span style="color:#F0F3F6;">Huawei</span><span style="color:#FF9492;">&gt;</span><span style="color:#F0F3F6;">system-view </span></span>
<span class="line"><span style="color:#FFB757;">Enter</span><span style="color:#ADDCFF;"> system</span><span style="color:#ADDCFF;"> view,</span><span style="color:#ADDCFF;"> return</span><span style="color:#ADDCFF;"> user</span><span style="color:#ADDCFF;"> view</span><span style="color:#ADDCFF;"> with</span><span style="color:#ADDCFF;"> Ctrl+Z.</span></span>
<span class="line"><span style="color:#F0F3F6;">[Huawei]sysname RTA</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA]</span></span></code></pre></div><p>ç³»ç»Ÿæ—¶é’Ÿæ˜¯è®¾å¤‡ä¸Šçš„ç³»ç»Ÿæ—¶é—´æˆ³ã€‚ç”±äºåœ°åŸŸçš„ä¸åŒï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®å½“åœ°è§„å®šè®¾ç½®ç³»ç»Ÿæ—¶é’Ÿã€‚ç”¨æˆ·å¿…é¡»æ­£ç¡®è®¾ç½®ç³»ç»Ÿæ—¶é’Ÿä»¥ç¡®ä¿å…¶ä¸å…¶ä»–è®¾å¤‡ä¿æŒåŒæ­¥ã€‚</p><p>è®¾ç½®ç³»ç»Ÿæ—¶é’Ÿçš„å…¬å¼ä¸ºï¼šUTC+æ—¶åŒºåç§»é‡+å¤æ—¶åˆ¶æ—¶é—´åç§»é‡ã€‚clock datetimeå‘½ä»¤è®¾ç½®HH:MM:SS YYYY-MM-DDæ ¼å¼çš„ç³»ç»Ÿæ—¶é’Ÿã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ²¡æœ‰è®¾å®šæ—¶åŒºï¼Œæˆ–è€…æ—¶åŒºè®¾å®šä¸ºé›¶ï¼Œé‚£ä¹ˆè®¾å®šçš„æ—¥æœŸå’Œæ—¶é—´å°†è¢«è®¤ä¸ºæ˜¯UTCæ—¶é—´ï¼Œæ‰€ä»¥å»ºè®®åœ¨å¯¹ç³»ç»Ÿæ—¶é—´å’Œæ—¥æœŸè¿›è¡Œé…ç½®å‰å…ˆè®¾ç½®æ—¶åŒºã€‚</p><p>clock timezoneå‘½ä»¤ç”¨æ¥å¯¹æœ¬åœ°æ—¶åŒºä¿¡æ¯è¿›è¡Œè®¾ç½®ï¼Œå…·ä½“çš„å‘½ä»¤å‚æ•°ä¸ºtime-zone-name { add | minus } offsetã€‚å…¶ä¸­å‚æ•°addè¡¨ç¤ºä¸UTCæ—¶é—´ç›¸æ¯”ï¼Œtime-zone-nameå¢åŠ çš„æ—¶é—´åç§»é‡ã€‚å³ï¼Œåœ¨ç³»ç»Ÿé»˜è®¤çš„UTCæ—¶åŒºçš„åŸºç¡€ä¸Šï¼ŒåŠ ä¸Šoffsetï¼Œå°±å¯ä»¥å¾—åˆ°time-zone-nameæ‰€æ ‡è¯†çš„æ—¶åŒºæ—¶é—´ï¼›å‚æ•°minusæŒ‡çš„æ˜¯ä¸UTCæ—¶é—´ç›¸æ¯”ï¼Œtime-zone-nameå‡å°‘çš„æ—¶é—´åç§»é‡ã€‚å³ï¼Œåœ¨ç³»ç»Ÿé»˜è®¤çš„UTCæ—¶åŒºçš„åŸºç¡€ä¸Šï¼Œå‡å»offsetï¼Œå°±å¯ä»¥å¾—åˆ°time-zone-nameæ‰€æ ‡è¯†çš„æ—¶åŒºæ—¶é—´ã€‚</p><p>æœ‰çš„åœ°åŒºå®è¡Œå¤ä»¤æ—¶åˆ¶ï¼Œå› æ­¤å½“è¿›å…¥å¤ä»¤æ—¶å®æ–½åŒºé—´çš„ä¸€åˆ»ï¼Œç³»ç»Ÿæ—¶é—´è¦æ ¹æ®ç”¨æˆ·çš„è®¾å®šè¿›è¡Œå¤ä»¤æ—¶æ—¶é—´çš„è°ƒæ•´ã€‚VRPæ”¯æŒå¤ä»¤æ—¶åŠŸèƒ½ã€‚æ¯”å¦‚ï¼Œåœ¨è‹±å›½ï¼Œä»ä¸‰æœˆçš„æœ€åä¸€ä¸ªæ˜ŸæœŸå¤©åˆ°åæœˆæœ€åä¸€ä¸ªæ˜ŸæœŸå¤©æ˜¯å¤ä»¤æ—¶åŒºé—´ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡æ‰§è¡Œå‘½ä»¤æŒ‡å®šå¤ä»¤æ—¶çš„å¼€å§‹å’Œç»“æŸæ—¶é—´ã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FF9492;">&lt;</span><span style="color:#F0F3F6;">Huawei</span><span style="color:#FF9492;">&gt;</span><span style="color:#F0F3F6;">clock timezone BJ add 08:00:00</span></span>
<span class="line"><span style="color:#FF9492;">&lt;</span><span style="color:#F0F3F6;">Huawei</span><span style="color:#FF9492;">&gt;</span><span style="color:#F0F3F6;">clock datetime 10:20:29 2013-04-11</span></span>
<span class="line"><span style="color:#FF9492;">&lt;</span><span style="color:#F0F3F6;">Huawei</span><span style="color:#FF9492;">&gt;</span><span style="color:#F0F3F6;">display clock </span></span>
<span class="line"><span style="color:#FFB757;">2013-04-11</span><span style="color:#ADDCFF;"> 10:20:48</span></span>
<span class="line"><span style="color:#FFB757;">Thursday</span></span>
<span class="line"><span style="color:#FFB757;">Time</span><span style="color:#ADDCFF;"> Zone</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">BJ</span><span style="color:#F0F3F6;">) </span><span style="color:#ADDCFF;">:</span><span style="color:#ADDCFF;"> UTC+08:00</span></span></code></pre></div><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[Huawei]header login information </span><span style="color:#ADDCFF;">&quot;welcome to huawei certification!&quot;</span></span>
<span class="line"><span style="color:#F0F3F6;">[Huawei]header shell information </span><span style="color:#ADDCFF;">&quot;Please don&#39;t reboot the device!&quot;</span></span>
<span class="line"><span style="color:#FFB757;">â€¦â€¦</span></span>
<span class="line"><span style="color:#FFB757;">welcome</span><span style="color:#ADDCFF;"> to</span><span style="color:#ADDCFF;"> huawei</span><span style="color:#ADDCFF;"> certification!</span></span>
<span class="line"><span style="color:#FFB757;">Login</span><span style="color:#ADDCFF;"> authentication</span></span>
<span class="line"><span style="color:#FFB757;">Password:</span></span>
<span class="line"><span style="color:#FFB757;">Please</span><span style="color:#ADDCFF;"> don&#39;t reboot the device!</span></span>
<span class="line"><span style="color:#ADDCFF;">&lt;Huawei&gt;</span></span></code></pre></div><h2 id="å‘½ä»¤ç­‰çº§" tabindex="-1"><a class="header-anchor" href="#å‘½ä»¤ç­‰çº§"><span>å‘½ä»¤ç­‰çº§</span></a></h2><table><thead><tr><th style="text-align:center;">ç”¨æˆ·ç­‰çº§</th><th style="text-align:center;">å‘½ä»¤ç­‰çº§</th><th style="text-align:center;">åç§°</th></tr></thead><tbody><tr><td style="text-align:center;">0</td><td style="text-align:center;">0</td><td style="text-align:center;">è®¿é—®çº§</td></tr><tr><td style="text-align:center;">1</td><td style="text-align:center;">0 and 1</td><td style="text-align:center;">ç›‘æ§çº§</td></tr><tr><td style="text-align:center;">2</td><td style="text-align:center;">0, 1 and 2</td><td style="text-align:center;">é…ç½®çº§</td></tr><tr><td style="text-align:center;">3-15</td><td style="text-align:center;">0, 1, 2 and 3</td><td style="text-align:center;">ç®¡ç†çº§</td></tr></tbody></table><p>ç³»ç»Ÿå°†å‘½ä»¤è¿›è¡Œåˆ†çº§ç®¡ç†ï¼Œä»¥å¢åŠ è®¾å¤‡çš„å®‰å…¨æ€§ã€‚è®¾å¤‡ç®¡ç†å‘˜å¯ä»¥è®¾ç½®ç”¨æˆ·çº§åˆ«ï¼Œä¸€å®šçº§åˆ«çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨å¯¹åº”çº§åˆ«çš„å‘½ä»¤è¡Œã€‚ç¼ºçœæƒ…å†µä¸‹å‘½ä»¤çº§åˆ«åˆ†ä¸º0ï½3çº§ï¼Œç”¨æˆ·çº§åˆ«åˆ†ä¸º0ï½15çº§ã€‚ç”¨æˆ·0çº§ä¸ºè®¿é—®çº§åˆ«ï¼Œå¯¹åº”ç½‘ç»œè¯Šæ–­å·¥å…·å‘½ä»¤ï¼ˆpingã€tracertï¼‰ã€ä»æœ¬è®¾å¤‡å‡ºå‘è®¿é—®å¤–éƒ¨è®¾å¤‡çš„å‘½ä»¤ï¼ˆTelnetå®¢æˆ·ç«¯ï¼‰ã€éƒ¨åˆ†displayå‘½ä»¤ç­‰ã€‚ç”¨æˆ·1çº§ä¸ºç›‘æ§çº§åˆ«ï¼Œå¯¹åº”å‘½ä»¤çº§0ã€1çº§ï¼ŒåŒ…æ‹¬ç”¨äºç³»ç»Ÿç»´æŠ¤çš„å‘½ä»¤ä»¥åŠdisplayç­‰å‘½ä»¤ã€‚ç”¨æˆ·2çº§æ˜¯é…ç½®çº§åˆ«ï¼ŒåŒ…æ‹¬å‘ç”¨æˆ·æä¾›ç›´æ¥ç½‘ç»œæœåŠ¡ï¼ŒåŒ…æ‹¬è·¯ç”±ã€å„ä¸ªç½‘ç»œå±‚æ¬¡çš„å‘½ä»¤ã€‚ç”¨æˆ·3-15çº§æ˜¯ç®¡ç†çº§åˆ«ï¼Œå¯¹åº”å‘½ä»¤3çº§ï¼Œè¯¥çº§åˆ«ä¸»è¦æ˜¯ç”¨äºç³»ç»Ÿè¿è¡Œçš„å‘½ä»¤ï¼Œå¯¹ä¸šåŠ¡æä¾›æ”¯æ’‘ä½œç”¨ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç³»ç»Ÿã€FTPã€TFTPä¸‹è½½ã€æ–‡ä»¶äº¤æ¢é…ç½®ã€ç”µæºä¾›åº”æ§åˆ¶ï¼Œå¤‡ä»½æ¿æ§åˆ¶ã€ç”¨æˆ·ç®¡ç†ã€å‘½ä»¤çº§åˆ«è®¾ç½®ã€ç³»ç»Ÿå†…éƒ¨å‚æ•°è®¾ç½®ã€ä»¥åŠç”¨äºä¸šåŠ¡æ•…éšœè¯Šæ–­çš„debuggingå‘½ä»¤ã€‚æœ¬ä¾‹å±•ç¤ºäº†å¦‚ä½•ä¿®æ”¹å‘½ä»¤çº§åˆ«ï¼Œåœ¨ç”¨æˆ·è§†å›¾ä¸‹æ‰§è¡Œsaveå‘½ä»¤éœ€è¦3çº§çš„æƒé™ã€‚</p><p>åœ¨å…·ä½“ä½¿ç”¨ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ªç®¡ç†å‘˜å¸å·ï¼Œä½†åªå…è®¸æŸä¸€ä¸ªç®¡ç†å‘˜ä¿å­˜ç³»ç»Ÿé…ç½®ï¼Œåˆ™å¯ä»¥å°†saveå‘½ä»¤çš„çº§åˆ«æé«˜åˆ°4çº§ï¼Œå¹¶å®šä¹‰åªæœ‰è¯¥ç®¡ç†å‘˜æœ‰4çº§æƒé™ã€‚è¿™æ ·ï¼Œåœ¨ä¸å½±å“å…¶ä»–ç”¨æˆ·çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥å®ç°å¯¹å‘½ä»¤çš„ä½¿ç”¨æ§åˆ¶ã€‚</p><h2 id="ç”¨æˆ·ç•Œé¢" tabindex="-1"><a class="header-anchor" href="#ç”¨æˆ·ç•Œé¢"><span>ç”¨æˆ·ç•Œé¢</span></a></h2><table><thead><tr><th style="text-align:center;">ç”¨æˆ·ç•Œé¢ç±»å‹</th><th style="text-align:center;">ç¼–å·</th></tr></thead><tbody><tr><td style="text-align:center;">Console</td><td style="text-align:center;">0</td></tr><tr><td style="text-align:center;">VTY</td><td style="text-align:center;">0-4</td></tr></tbody></table><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span>&lt;Huawei&gt;system-view</span></span>
<span class="line"><span>[Huawei]user-interface vty 0 4</span></span>
<span class="line"><span>[Huawei-ui-vty0-4]</span></span></code></pre></div><p>VTY æ¥å£æœ€å¤§å¯é…èŒƒå›´ä¸º0-14ã€‚</p><p>æ¯ç±»ç”¨æˆ·ç•Œé¢éƒ½æœ‰å¯¹åº”çš„ç”¨æˆ·ç•Œé¢è§†å›¾ã€‚ç”¨æˆ·ç•Œé¢ï¼ˆUser-interfaceï¼‰è§†å›¾æ˜¯ç³»ç»Ÿæä¾›çš„ä¸€ç§å‘½ä»¤è¡Œè§†å›¾ï¼Œç”¨æ¥é…ç½®å’Œç®¡ç†æ‰€æœ‰å·¥ä½œåœ¨å¼‚æ­¥äº¤äº’æ–¹å¼ä¸‹çš„ç‰©ç†æ¥å£å’Œé€»è¾‘æ¥å£ï¼Œä»è€Œè¾¾åˆ°ç»Ÿä¸€ç®¡ç†å„ç§ç”¨æˆ·ç•Œé¢çš„ç›®çš„ã€‚</p><p>åœ¨è¿æ¥åˆ°è®¾å¤‡å‰ï¼Œç”¨æˆ·è¦è®¾ç½®ç”¨æˆ·ç•Œé¢å‚æ•°ã€‚ç³»ç»Ÿæ”¯æŒçš„ç”¨æˆ·ç•Œé¢åŒ…æ‹¬Consoleç”¨æˆ·ç•Œé¢å’ŒVTYç”¨æˆ·ç•Œé¢ã€‚æ§åˆ¶å£ï¼ˆConsole Portï¼‰æ˜¯ä¸€ç§é€šä¿¡ä¸²è¡Œç«¯å£ï¼Œç”±è®¾å¤‡çš„ä¸»æ§æ¿æä¾›ã€‚è™šæ‹Ÿç±»å‹ç»ˆç«¯ï¼ˆVirtual Type Terminalï¼‰æ˜¯ä¸€ç§è™šæ‹Ÿçº¿è·¯ç«¯å£ï¼Œç”¨æˆ·é€šè¿‡ç»ˆç«¯ä¸è®¾å¤‡å»ºç«‹Telnetæˆ–SSHè¿æ¥åï¼Œä¹Ÿå°±å»ºç«‹äº†ä¸€æ¡VTYï¼Œå³ç”¨æˆ·å¯ä»¥é€šè¿‡VTYæ–¹å¼ç™»å½•è®¾å¤‡ã€‚</p><p>è®¾å¤‡ä¸€èˆ¬æœ€å¤šæ”¯æŒ15ä¸ªç”¨æˆ·åŒæ—¶é€šè¿‡VTYæ–¹å¼è®¿é—®ã€‚æ‰§è¡Œuser-interface maximum-vty number å‘½ä»¤å¯ä»¥é…ç½®åŒæ—¶ç™»å½•åˆ°è®¾å¤‡çš„VTYç±»å‹ç”¨æˆ·ç•Œé¢çš„æœ€å¤§ä¸ªæ•°ã€‚å¦‚æœå°†æœ€å¤§ç™»å½•ç”¨æˆ·æ•°è®¾ä¸º0ï¼Œåˆ™ä»»ä½•ç”¨æˆ·éƒ½ä¸èƒ½é€šè¿‡Telnetæˆ–è€…SSHç™»å½•åˆ°è·¯ç”±å™¨ã€‚</p><p>display user-interface å‘½ä»¤ç”¨æ¥æŸ¥çœ‹ç”¨æˆ·ç•Œé¢ä¿¡æ¯ã€‚</p><p>ä¸åŒçš„è®¾å¤‡ï¼Œæˆ–ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„VRPè½¯ä»¶ç³»ç»Ÿï¼Œå…·ä½“å¯ä»¥è¢«ä½¿ç”¨çš„VTYæ¥å£çš„æœ€å¤§æ•°é‡å¯èƒ½ä¸åŒã€‚</p><h2 id="é…ç½®ç”¨æˆ·ç•Œé¢å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#é…ç½®ç”¨æˆ·ç•Œé¢å‘½ä»¤"><span>é…ç½®ç”¨æˆ·ç•Œé¢å‘½ä»¤</span></a></h2><table><thead><tr><th style="text-align:center;">å‘½ä»¤</th><th style="text-align:center;">åŠŸèƒ½</th></tr></thead><tbody><tr><td style="text-align:center;">idle-timeout</td><td style="text-align:center;">è®¾ç½®è¶…æ—¶æ—¶é—´</td></tr><tr><td style="text-align:center;">screen-length</td><td style="text-align:center;">è®¾ç½®æŒ‡å®šç»ˆç«¯å±å¹•çš„ä¸´æ—¶æ˜¾ç¤ºè¡Œæ•°</td></tr><tr><td style="text-align:center;">history-command max-size</td><td style="text-align:center;">è®¾ç½®å†å²å‘½ä»¤ç¼“å†²åŒºçš„å¤§å°</td></tr></tbody></table><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span># Set the size of the history command buffer to 20. </span></span>
<span class="line"><span>&lt;Huawei&gt;system-view</span></span>
<span class="line"><span>[Huawei]user-interface console 0</span></span>
<span class="line"><span>[Huawei-ui-console0]history-command max-size 20 </span></span>
<span class="line"><span># Set the timeout duration to 1 minute and 30 seconds.</span></span>
<span class="line"><span>[Huawei-ui-console0]idle-timeout 1 30</span></span></code></pre></div><p>ç”¨æˆ·å¯ä»¥è®¾ç½®Consoleç•Œé¢å’ŒVTYç•Œé¢çš„å±æ€§ï¼Œä»¥æé«˜ç³»ç»Ÿå®‰å…¨æ€§ã€‚å¦‚æœä¸€ä¸ªè¿æ¥ä¸Šè®¾å¤‡çš„ç”¨æˆ·ä¸€ç›´å¤„äºç©ºé—²çŠ¶æ€è€Œä¸æ–­å¼€ï¼Œå¯èƒ½ä¼šç»™ç³»ç»Ÿå¸¦æ¥å¾ˆå¤§é£é™©ï¼Œæ‰€ä»¥åœ¨ç­‰å¾…ä¸€ä¸ªè¶…æ—¶æ—¶é—´åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä¸­æ–­è¿æ¥ã€‚è¿™ä¸ªé—²ç½®åˆ‡æ–­æ—¶é—´åˆç§°è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤ä¸º10åˆ†é’Ÿã€‚</p><p>å½“displayå‘½ä»¤è¾“å‡ºçš„ä¿¡æ¯è¶…è¿‡ä¸€é¡µæ—¶ï¼Œç³»ç»Ÿä¼šå¯¹è¾“å‡ºå†…å®¹è¿›è¡Œåˆ†é¡µï¼Œä½¿ç”¨ç©ºæ ¼é”®åˆ‡æ¢ä¸‹ä¸€é¡µã€‚</p><p>å¦‚æœä¸€é¡µè¾“å‡ºçš„ä¿¡æ¯è¿‡å°‘æˆ–è¿‡å¤šæ—¶ï¼Œç”¨æˆ·å¯ä»¥æ‰§è¡Œscreen-lengthå‘½ä»¤ä¿®æ”¹ä¿¡æ¯è¾“å‡ºæ—¶ä¸€é¡µçš„è¡Œæ•°ã€‚é»˜è®¤è¡Œæ•°ä¸º24ï¼Œæœ€å¤§æ”¯æŒ512è¡Œã€‚ä¸å»ºè®®å°†è¡Œæ•°è®¾ç½®ä¸º0ï¼Œå› ä¸ºé‚£æ ·å°†ä¸ä¼šæ˜¾ç¤ºä»»ä½•è¾“å‡ºå†…å®¹äº†ã€‚</p><p>æ¯æ¡å‘½ä»¤æ‰§è¡Œè¿‡åï¼Œæ‰§è¡Œçš„è®°å½•éƒ½ä¿å­˜åœ¨å†å²å‘½ä»¤ç¼“å­˜åŒºã€‚ç”¨æˆ·å¯ä»¥åˆ©ç”¨(â†‘)ï¼Œ(â†“) ï¼ŒCTRL+Pï¼ŒCtrl+Nè¿™äº›å¿«æ·é”®è°ƒç”¨è¿™äº›å‘½ä»¤ã€‚å†å²å‘½ä»¤ç¼“å­˜åŒºä¸­é»˜è®¤èƒ½å­˜å‚¨10æ¡å‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡è¿è¡Œhistory-command max-sizeæ”¹å˜å¯å­˜å‚¨çš„å‘½ä»¤æ•°ï¼Œæœ€å¤šå¯å­˜å‚¨256æ¡ã€‚</p><h2 id="é…ç½®ç™»é™†æƒé™" tabindex="-1"><a class="header-anchor" href="#é…ç½®ç™»é™†æƒé™"><span>é…ç½®ç™»é™†æƒé™</span></a></h2><table><thead><tr><th style="text-align:center;">å‘½ä»¤</th><th style="text-align:center;">åŠŸèƒ½</th></tr></thead><tbody><tr><td style="text-align:center;">user privilege</td><td style="text-align:center;">é…ç½®æŒ‡å®šç”¨æˆ·ç•Œé¢ä¸‹çš„ç”¨æˆ·çº§åˆ«</td></tr><tr><td style="text-align:center;">set authentication password</td><td style="text-align:center;">é…ç½®æœ¬åœ°è®¤è¯å¯†ç </td></tr></tbody></table><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;"># Set the user level on the VTY0 user interface to 2.</span></span>
<span class="line"><span style="color:#FF9492;">&lt;</span><span style="color:#F0F3F6;">Huawei</span><span style="color:#FF9492;">&gt;</span><span style="color:#F0F3F6;">system-view</span></span>
<span class="line"><span style="color:#F0F3F6;">[Huawei]user-interface vty 0</span></span>
<span class="line"><span style="color:#F0F3F6;">[Huawei-ui-vty0]user privilege level 2 </span></span>
<span class="line"><span style="color:#F0F3F6;">[Huawei-ui-vty0-4]set authentication password cipher huawei</span></span></code></pre></div><p>åªä½¿ç”¨å¯†ç ç™»é™†çš„æƒ…å†µä¸‹ï¼Œç™»é™†æƒé™çš„å¯†ç é…ç½®æ–¹å¼ã€‚</p><p>å¦‚æœæ²¡æœ‰æƒé™é™åˆ¶ï¼Œæœªæˆæƒçš„ç”¨æˆ·å°±å¯ä»¥ä½¿ç”¨è®¾å¤‡è·å–ä¿¡æ¯å¹¶æ›´æ”¹é…ç½®ã€‚ä»è®¾å¤‡å®‰å…¨çš„è§’åº¦è€ƒè™‘ï¼Œé™åˆ¶ç”¨æˆ·çš„è®¿é—®å’Œæ“ä½œæƒé™æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ç”¨æˆ·æƒé™å’Œç”¨æˆ·è®¤è¯æ˜¯æå‡ç»ˆç«¯å®‰å…¨çš„ä¸¤ç§æ–¹å¼ã€‚ç”¨æˆ·æƒé™è¦æ±‚è§„å®šç”¨æˆ·çš„çº§åˆ«ï¼Œä¸€å®šçº§åˆ«çš„ç”¨æˆ·åªèƒ½æ‰§è¡Œç‰¹å®šçº§åˆ«çš„å‘½ä»¤ã€‚</p><p>é…ç½®ç”¨æˆ·ç•Œé¢çš„ç”¨æˆ·è®¤è¯æ–¹å¼åï¼Œç”¨æˆ·ç™»å½•è®¾å¤‡æ—¶ï¼Œéœ€è¦è¾“å…¥å¯†ç è¿›è¡Œè®¤è¯ï¼Œè¿™æ ·å°±é™åˆ¶äº†ç”¨æˆ·è®¿é—®è®¾å¤‡çš„æƒé™ã€‚åœ¨é€šè¿‡VTYè¿›è¡ŒTelnetè¿æ¥æ—¶ï¼Œæ‰€æœ‰æ¥å…¥è®¾å¤‡çš„ç”¨æˆ·éƒ½å¿…é¡»è¦ç»è¿‡è®¤è¯ã€‚</p><p>è®¾å¤‡æä¾›ä¸‰ç§è®¤è¯æ¨¡å¼ï¼ŒAAAæ¨¡å¼ã€å¯†ç è®¤è¯æ¨¡å¼å’Œä¸è®¤è¯æ¨¡å¼ã€‚AAAè®¤è¯æ¨¡å¼å…·æœ‰å¾ˆé«˜çš„å®‰å…¨æ€§ï¼Œå› ä¸ºç™»å½•æ—¶å¿…é¡»è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚å¯†ç è®¤è¯åªéœ€è¦è¾“å…¥ç™»å½•å¯†ç å³å¯ï¼Œæ‰€ä»¥æ‰€æœ‰çš„ç”¨æˆ·ä½¿ç”¨çš„éƒ½æ˜¯åŒä¸€ä¸ªå¯†ç ã€‚ä½¿ç”¨ä¸è®¤è¯æ¨¡å¼å°±æ˜¯ä¸éœ€è¦å¯¹ç”¨æˆ·è®¤è¯ç›´æ¥ç™»é™†åˆ°è®¾å¤‡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒConsoleç•Œé¢é»˜è®¤ä½¿ç”¨ä¸è®¤è¯æ¨¡å¼ã€‚</p><p>å¯¹äºTelnetç™»å½•ç”¨æˆ·ï¼Œæˆæƒæ˜¯éå¸¸å¿…è¦çš„ï¼Œæœ€å¥½è®¾ç½®ç”¨æˆ·åã€å¯†ç å’ŒæŒ‡å®šå’Œå¸å·ç›¸å…³è”çš„æƒé™ã€‚</p><h2 id="é…ç½®æ¥å£ipåœ°å€" tabindex="-1"><a class="header-anchor" href="#é…ç½®æ¥å£ipåœ°å€"><span>é…ç½®æ¥å£IPåœ°å€</span></a></h2><figure><img src="/wsq-blog/assets/3-BM-05SxB.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span># Configure an IP address 10.0.12.1/24 and an IP address 1.1.1.1/32 for LoopBack0.</span></span>
<span class="line"><span>&lt;Huawei&gt;system-view </span></span>
<span class="line"><span>[Huawei]interface gigabitethernet 0/0/0 </span></span>
<span class="line"><span>[Huawei-GigabitEthernet0/0/0]ip address 10.0.12.1 255.255.255.0</span></span>
<span class="line"><span>[Huawei-GigabitEthernet0/0/0]interface loopback 0</span></span>
<span class="line"><span>[Huawei-LoopBack0]ip address 1.1.1.1 32</span></span></code></pre></div><p>è¦åœ¨æ¥å£è¿è¡ŒIPæœåŠ¡ï¼Œå¿…é¡»ä¸ºæ¥å£é…ç½®ä¸€ä¸ªIPåœ°å€ã€‚ä¸€ä¸ªæ¥å£ä¸€èˆ¬åªéœ€è¦ä¸€ä¸ªIPåœ°å€ã€‚åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œä¹Ÿæœ‰å¯èƒ½ä¸ºæ¥å£é…ç½®ä¸€ä¸ªæ¬¡è¦IPåœ°å€ã€‚ä¾‹å¦‚ï¼Œå½“è·¯ç”±å™¨AR2200çš„æ¥å£è¿æ¥åˆ°ä¸€ä¸ªç‰©ç†ç½‘ç»œæ—¶ï¼Œè¯¥ç‰©ç†ç½‘ç»œä¸­çš„ä¸»æœºå±äºä¸¤ä¸ªç½‘æ®µã€‚ä¸ºäº†è®©ä¸¤ä¸ªç½‘æ®µçš„ä¸»æœºéƒ½å¯ä»¥é€šè¿‡è·¯ç”±å™¨AR2200è®¿é—®å…¶å®ƒç½‘ç»œï¼Œå¯ä»¥é…ç½®ä¸€ä¸ªä¸»IPåœ°å€å’Œä¸€ä¸ªæ¬¡è¦IPåœ°å€ã€‚ä¸€ä¸ªæ¥å£åªèƒ½æœ‰ä¸€ä¸ªä¸»IPåœ°å€ï¼Œå¦‚æœæ¥å£é…ç½®äº†æ–°çš„ä¸»IPåœ°å€ï¼Œé‚£ä¹ˆæ–°çš„ä¸»IPåœ°å€å°±æ›¿ä»£äº†åŸæ¥çš„ä¸»IPåœ°å€ã€‚</p><p>ç”¨æˆ·å¯ä»¥åˆ©ç”¨<code>ip address &lt;ip-address &gt; { mask | mask-length }</code>å‘½ä»¤ä¸ºæ¥å£é…ç½®IPåœ°å€ï¼Œè¿™ä¸ªå‘½ä»¤ä¸­ï¼Œmaskä»£è¡¨çš„æ˜¯ 32 æ¯”ç‰¹çš„å­ç½‘æ©ç ï¼Œå¦‚<code>255.255.255.0</code>ï¼Œmask-length ä»£è¡¨çš„æ˜¯å¯æ›¿æ¢çš„æ©ç é•¿åº¦å€¼ï¼Œå¦‚ 24ï¼Œè¿™ä¸¤è€…å¯ä»¥äº¤æ¢ä½¿ç”¨ã€‚</p><p>Loopbackæ¥å£æ˜¯ä¸€ä¸ªé€»è¾‘æ¥å£ï¼Œå¯ç”¨æ¥è™šæ‹Ÿä¸€ä¸ªç½‘ç»œæˆ–è€…ä¸€ä¸ªIPä¸»æœºã€‚åœ¨è¿è¡Œå¤šç§åè®®çš„æ—¶å€™ï¼Œç”±äºLoopbackæ¥å£ç¨³å®šå¯é ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨æ¥åšç®¡ç†æ¥å£ã€‚</p><p>åœ¨ç»™ç‰©ç†æ¥å£é…ç½®IPåœ°å€æ—¶ï¼Œéœ€è¦å…³æ³¨è¯¥æ¥å£çš„ç‰©ç†çŠ¶æ€ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåä¸ºè·¯ç”±å™¨å’Œäº¤æ¢æœºçš„æ¥å£çŠ¶æ€ä¸ºupï¼›å¦‚æœè¯¥æ¥å£æ›¾è¢«æ‰‹åŠ¨å…³é—­ï¼Œåˆ™åœ¨é…ç½®å®ŒIPåœ°å€åï¼Œåº”ä½¿ç”¨undo shutdownæ‰“å¼€è¯¥æ¥å£ã€‚</p><p>åä¸ºç½‘ç»œè®¾å¤‡åŒæ—¶åªèƒ½æœ‰ä¸€ä¸ªç”¨æˆ·ç™»å½•Consoleç•Œé¢ï¼Œå› æ­¤Consoleç”¨æˆ·çš„ç¼–å·å›ºå®šä¸º0ã€‚<br> Loopbackæ¥å£æ˜¯ä¸€ç§é€»è¾‘æ¥å£ï¼Œåœ¨æœªåˆ›å»ºä¹‹å‰ï¼ŒLoopbackæ¥å£å¹¶ä¸å­˜åœ¨ã€‚ä»åˆ›å»ºå¼€å§‹ï¼ŒLoopbackæ¥å£å°±ä¸€ç›´å­˜åœ¨ï¼Œå¹¶ä¸€ç›´ä¿æŒUpçŠ¶æ€ï¼Œé™¤éè¢«æ‰‹åŠ¨å…³é—­ã€‚</p><table><thead><tr><th style="text-align:center;">å‘½ä»¤</th><th style="text-align:center;">åŠŸèƒ½</th></tr></thead><tbody><tr><td style="text-align:center;">display version</td><td style="text-align:center;">æŸ¥çœ‹è·¯ç”±å™¨åŸºæœ¬ä¿¡æ¯</td></tr><tr><td style="text-align:center;">display interface GigabitEthernet 0/0/0</td><td style="text-align:center;">æŸ¥çœ‹æ¥å£çŠ¶æ€ä¿¡æ¯</td></tr><tr><td style="text-align:center;">display ip interface brief</td><td style="text-align:center;">æŸ¥çœ‹å…¨éƒ¨æ¥å£çš„IPç®€è¦ä¿¡æ¯ï¼Œå«IPåœ°å€</td></tr><tr><td style="text-align:center;">display ip routing-table</td><td style="text-align:center;">æŸ¥çœ‹è·¯ç”±è¡¨</td></tr><tr><td style="text-align:center;">display current-configuration</td><td style="text-align:center;">æŸ¥çœ‹å½“å‰çš„é…ç½®ï¼ˆå†…å­˜ä¸­ï¼‰</td></tr><tr><td style="text-align:center;">display saved-configuration</td><td style="text-align:center;">æŸ¥çœ‹ä¿å­˜çš„é…ç½®ï¼ˆFlashä¸­ï¼‰</td></tr><tr><td style="text-align:center;">dir flash</td><td style="text-align:center;">æŸ¥çœ‹Flashä¸­çš„æ–‡ä»¶</td></tr><tr><td style="text-align:center;">save</td><td style="text-align:center;">ä¿å­˜é…ç½®æ–‡ä»¶</td></tr><tr><td style="text-align:center;">reboot</td><td style="text-align:center;">é‡å¯è®¾å¤‡</td></tr></tbody></table><p>è·¯ç”±çš„æ¥æºï¼š</p><ul><li>é“¾è·¯å±‚å‘ç°çš„è·¯ç”±</li><li>é™æ€è·¯ç”±</li><li>åŠ¨æ€è·¯ç”±åè®®å‘ç°çš„è·¯ç”±</li></ul><h2 id="é™æ€è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#é™æ€è·¯ç”±"><span>é™æ€è·¯ç”±</span></a></h2><p>é™æ€è·¯ç”±æ˜¯ç”±ç®¡ç†å‘˜æ‰‹å·¥é…ç½®è€Œç”Ÿæˆçš„è·¯ç”±ã€‚</p><table><thead><tr><th style="text-align:center;">å‘½ä»¤</th><th style="text-align:center;">è§†å›¾</th><th style="text-align:center;">ä½œç”¨</th></tr></thead><tbody><tr><td style="text-align:center;"><code>ip route-static ip-address {mask| mask-length} {nexthop-address|interface-type interface-number [nexthop-address]} [preference preference |tag tag]</code></td><td style="text-align:center;">ç³»ç»Ÿ</td><td style="text-align:center;">é…ç½®å•æ’­é™æ€è·¯ç”±</td></tr><tr><td style="text-align:center;"><code>display ip interface [brief] [interface-type interface-number]</code></td><td style="text-align:center;">æ‰€æœ‰</td><td style="text-align:center;">æŸ¥çœ‹æ¥å£ä¸IPç›¸å…³çš„é…ç½®å’Œç»Ÿè®¡ä¿¡æ¯æˆ–è€…ç®€è¦ä¿¡æ¯</td></tr><tr><td style="text-align:center;">display ip routing-table</td><td style="text-align:center;">æ‰€æœ‰</td><td style="text-align:center;">æŸ¥çœ‹è·¯ç”±è¡¨</td></tr></tbody></table><h2 id="è·¯ç”±çš„åº¦é‡å€¼-metric" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±çš„åº¦é‡å€¼-metric"><span>è·¯ç”±çš„åº¦é‡å€¼ï¼ˆmetricï¼‰</span></a></h2><p>è·¯ç”±åº¦é‡å€¼è¡¨ç¤ºåˆ°è¾¾è¿™æ¡è·¯ç”±æ‰€æŒ‡å®šçš„è·¯å¾„çš„ä»£ä»·æˆ–è€…å¼€é”€ï¼Œä¹Ÿç§°ä¸ºè·¯ç”±æƒå€¼ã€‚<br> è·¯ç”±å™¨Aåˆ°è·¯ç”±å™¨Dæœ‰ä¸¤æ¡è·¯ç”±ï¼š<br> Path1ï¼š Aâ†’Bâ†’Câ†’D ï¼Œæ€»å¼€é”€æ˜¯9<br> Path2ï¼š Aâ†’Eâ†’Fâ†’Câ†’D ï¼Œæ€»å¼€é”€æ˜¯12<br> è·¯ç”±å™¨ä¼˜é€‰è¾ƒå°ä»£ä»·å€¼çš„è·¯ç”±ï¼Œå¹¶åŠ å…¥åˆ°è·¯ç”±è¡¨ä¸­</p><figure><img src="/wsq-blog/assets/4-Bz3pzaSn.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>é€šå¸¸ä¼šè€ƒè™‘ä»¥ä¸‹å› ç´ ä½œä¸ºæˆ–è€…ç”¨æ¥è®¡ç®—è·¯ç”±çš„åº¦é‡å€¼</p><ul><li>è·³æ•°</li><li>é“¾è·¯å¸¦å®½</li><li>é“¾è·¯å»¶è¿Ÿ</li><li>é“¾è·¯è´Ÿè½½</li><li>é“¾è·¯å¯é åº¦</li><li>é“¾è·¯MTU</li><li>ä»£ä»·</li></ul><h3 id="è·¯ç”±æ¡ç›®ä¼˜é€‰è¿›è·¯ç”±è¡¨" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±æ¡ç›®ä¼˜é€‰è¿›è·¯ç”±è¡¨"><span>è·¯ç”±æ¡ç›®ä¼˜é€‰è¿›è·¯ç”±è¡¨</span></a></h3><figure><img src="/wsq-blog/assets/5-B1J6I0VG.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="è·¯ç”±çš„é€‰è·¯è§„åˆ™" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±çš„é€‰è·¯è§„åˆ™"><span>è·¯ç”±çš„é€‰è·¯è§„åˆ™</span></a></h2><h3 id="æœ€é•¿åŒ¹é…åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#æœ€é•¿åŒ¹é…åŸåˆ™"><span>æœ€é•¿åŒ¹é…åŸåˆ™</span></a></h3><figure><img src="/wsq-blog/assets/6-JrVsESEK.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æœ€é•¿åŒ¹é…ä¸¾ä¾‹</p><p>ç›®çš„åœ°å€ä¸º9.1.2.1çš„æ•°æ®æŠ¥æ–‡ï¼Œå°†å‘½ä¸­9.1.0.0/16çš„è·¯ç”±</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span>[Quidway] display ip routing-table</span></span>
<span class="line"><span>Routing Tables:</span></span>
<span class="line"><span>Destination/Mask proto   pref  Metric Nexthop     Interface</span></span>
<span class="line"><span>0.0.0.0/0        Static  60    0      120.0.0.2   Serial0/0</span></span>
<span class="line"><span>8.0.0.0/8        RIP     100   3      120.0.0.2   Serial0/1</span></span>
<span class="line"><span>9.0.0.0/8        OSPF    10    50     20.0.0.2    Ethernet0/0</span></span>
<span class="line"><span>9.1.0.0/16       RIP     100   4      120.0.0.2   Serial0/0</span></span>
<span class="line"><span>11.0.0.0/8       Static  60    0      120.0.0.2   Serial0/1</span></span>
<span class="line"><span>20.0.0.0/8       Direct  0     0      20.0.0.1    Ethernet0/2</span></span>
<span class="line"><span>20.0.0.1/32      Direct  0     0      127.0.0.1   LoopBack0</span></span></code></pre></div><h3 id="é™æ€è·¯ç”±çš„ä¸‹ä¸€è·³" tabindex="-1"><a class="header-anchor" href="#é™æ€è·¯ç”±çš„ä¸‹ä¸€è·³"><span>é™æ€è·¯ç”±çš„ä¸‹ä¸€è·³</span></a></h3><p>ç‚¹å¯¹ç‚¹é“¾è·¯ï¼šè‡³å°‘å†™ä¸Šå‡ºæ¥å£ï¼›ä½†ä¹Ÿå¯ä»¥å†™ä¸Šä¸‹ä¸€è·³IPåœ°å€ã€‚<br> ä»¥å¤ªç½‘é“¾è·¯ï¼šè‡³å°‘å†™ä¸Šä¸‹ä¸€è·³IPåœ°å€ï¼›ä¹Ÿå¯ä»¥å†™ä¸Šå‡ºæ¥å£ã€‚</p><p>ä¸‹ä¸€è·³IPåœ°å€å¯ä»¥ä¸ç›´è¿ï¼Œä½†è¿™æ ·ä¼šå‘ç”Ÿé€’å½’ã€‚</p><h3 id="ç¼ºçœè·¯ç”±" tabindex="-1"><a class="header-anchor" href="#ç¼ºçœè·¯ç”±"><span>ç¼ºçœè·¯ç”±</span></a></h3><p>å½“è·¯ç”±è¡¨ä¸­æ²¡æœ‰ä¸æŠ¥æ–‡çš„ç›®çš„åœ°å€åŒ¹é…çš„è¡¨é¡¹æ—¶ï¼Œè®¾å¤‡å¯ä»¥é€‰æ‹©ç¼ºçœè·¯ç”±ä½œä¸ºæŠ¥æ–‡çš„è½¬å‘è·¯å¾„ã€‚åœ¨è·¯ç”±è¡¨ä¸­ï¼Œç¼ºçœè·¯ç”±çš„ç›®çš„ç½‘ç»œåœ°å€ä¸º0.0.0.0ï¼Œæ©ç ä¹Ÿä¸º0.0.0.0ã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼ŒRTAä½¿ç”¨ç¼ºçœè·¯ç”±è½¬å‘åˆ°è¾¾æœªçŸ¥ç›®çš„åœ°å€çš„æŠ¥æ–‡ã€‚ç¼ºçœé™æ€è·¯ç”±çš„é»˜è®¤ä¼˜å…ˆçº§ä¹Ÿæ˜¯60ã€‚åœ¨è·¯ç”±é€‰æ‹©è¿‡ç¨‹ä¸­ï¼Œç¼ºçœè·¯ç”±ä¼šè¢«æœ€ååŒ¹é…ã€‚</p><figure><img src="/wsq-blog/assets/7-C_bEFzZg.png" alt="ç¼ºçœè·¯ç”±" tabindex="0" loading="lazy"><figcaption>ç¼ºçœè·¯ç”±</figcaption></figure><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span>[RTA]ip route-static 0.0.0.0 0.0.0.0 10.0.12.2 </span></span>
<span class="line"><span>[RTA]ip route-static 0.0.0.0 0 10.0.12.2 GigabitEthernet 0/0/0</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[RTA]display ip routing-table </span></span>
<span class="line"><span>Route Flags: R - relay, D - download to fib</span></span>
<span class="line"><span>--------------------------------------------------------------</span></span>
<span class="line"><span>Routing Tables: Public  Destinations : 13       Routes : 14       </span></span>
<span class="line"><span>Destination/Mask Proto Pre Cost Flags NextHop Interface</span></span>
<span class="line"><span>â€¦â€¦</span></span>
<span class="line"><span> 0.0.0.0/0      Static  60   0  RD   10.0.12.2 GigabitEthernet0/0/0</span></span></code></pre></div><p>ç¼ºçœè·¯ç”±æ˜¯ç›®çš„åœ°å€å’Œæ©ç éƒ½ä¸ºå…¨0çš„ç‰¹æ®Šè·¯ç”±ã€‚<br> å¦‚æœæŠ¥æ–‡çš„ç›®çš„åœ°å€æ— æ³•åŒ¹é…è·¯ç”±è¡¨ä¸­çš„ä»»ä½•ä¸€é¡¹ï¼Œè·¯ç”±å™¨å°†é€‰æ‹©ä¾ç…§ç¼ºçœè·¯ç”±æ¥è½¬å‘æŠ¥æ–‡ã€‚</p><p>é…ç½®ç¼ºçœè·¯ç”±åï¼Œå¯ä»¥ä½¿ç”¨<code>display ip routing-table</code>å‘½ä»¤æ¥æŸ¥çœ‹è¯¥è·¯ç”±çš„è¯¦ç»†ä¿¡æ¯ã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œç›®çš„åœ°å€åœ¨è·¯ç”±è¡¨ä¸­æ²¡èƒ½åŒ¹é…çš„æ‰€æœ‰æŠ¥æ–‡éƒ½å°†é€šè¿‡<code>GigabitEthernet 0/0/0</code>æ¥å£è½¬å‘åˆ°ä¸‹ä¸€è·³åœ°å€10.0.12.2ã€‚</p><h3 id="è´Ÿè½½åˆ†æ‹…" tabindex="-1"><a class="header-anchor" href="#è´Ÿè½½åˆ†æ‹…"><span>è´Ÿè½½åˆ†æ‹…</span></a></h3><p>é™æ€è·¯ç”±æ”¯æŒåˆ°è¾¾åŒä¸€ç›®çš„åœ°çš„ç­‰ä»·è´Ÿè½½åˆ†æ‹…ã€‚</p><p>å½“æºç½‘ç»œå’Œç›®çš„ç½‘ç»œä¹‹é—´å­˜åœ¨å¤šæ¡é“¾è·¯æ—¶ï¼Œå¯ä»¥é€šè¿‡ç­‰ä»·è·¯ç”±æ¥å®ç°æµé‡è´Ÿè½½åˆ†æ‹…ã€‚è¿™äº›ç­‰ä»·è·¯ç”±å…·æœ‰ç›¸åŒçš„ç›®çš„ç½‘ç»œå’Œæ©ç ã€ä¼˜å…ˆçº§å’Œåº¦é‡å€¼ã€‚</p><p>æœ¬ç¤ºä¾‹ä¸­RTAå’ŒRTBä¹‹é—´æœ‰ä¸¤æ¡é“¾è·¯ç›¸è¿ï¼Œé€šè¿‡ä½¿ç”¨ç­‰ä»·çš„é™æ€è·¯ç”±æ¥å®ç°æµé‡è´Ÿè½½åˆ†æ‹…ã€‚</p><p>åœ¨RTBä¸Šé…ç½®äº†ä¸¤æ¡é™æ€è·¯ç”±ï¼Œå®ƒä»¬å…·æœ‰ç›¸åŒçš„ç›®çš„IPåœ°å€å’Œå­ç½‘æ©ç ã€ä¼˜å…ˆçº§ï¼ˆéƒ½ä¸º60ï¼‰ã€è·¯ç”±å¼€é”€ï¼ˆéƒ½ä¸º0ï¼‰ï¼Œä½†ä¸‹ä¸€è·³ä¸åŒã€‚åœ¨RTBéœ€è¦è½¬å‘æ•°æ®ç»™RTAæ—¶ï¼Œå°±ä¼šä½¿ç”¨è¿™ä¸¤æ¡ç­‰ä»·é™æ€è·¯ç”±å°†æ•°æ®è¿›è¡Œè´Ÿè½½åˆ†æ‹…ã€‚</p><p>åœ¨RTAä¸Šä¹Ÿåº”è¯¥é…ç½®å¯¹åº”çš„ä¸¤æ¡ç­‰ä»·çš„é™æ€è·¯ç”±ã€‚</p><figure><img src="/wsq-blog/assets/8-B6mXEwfU.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span>[RTB]ip route-static 192.168.1.0 255.255.255.0 10.0.12.1 </span></span>
<span class="line"><span>[RTB]ip route-static 192.168.1.0 255.255.255.0 20.0.12.1 </span></span>
<span class="line"><span></span></span>
<span class="line"><span>[RTB]display ip routing-table </span></span>
<span class="line"><span>Route Flags: R - relay, D - download to fib</span></span>
<span class="line"><span>--------------------------------------------------------------</span></span>
<span class="line"><span>Routing Tables: Public  Destinations : 13       Routes : 14       </span></span>
<span class="line"><span>Destination/Mask  Proto Pre Cost Flags NextHop Interface</span></span>
<span class="line"><span>â€¦â€¦</span></span>
<span class="line"><span>192.168.1.0/24	Static 60  0   RD 10.0.12.1 GigabitEthernet 0/0/0</span></span>
<span class="line"><span>        		   	Static 60  0   RD 20.0.12.1 GigabitEthernet 0/0/1</span></span></code></pre></div><p>åœ¨é…ç½®å®Œé™æ€è·¯ç”±ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨display ip routing-tableå‘½ä»¤æ¥éªŒè¯é…ç½®ç»“æœã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œçº¢è‰²é«˜äº®éƒ¨åˆ†ä»£è¡¨è·¯ç”±è¡¨ä¸­çš„é™æ€è·¯ç”±ã€‚è¿™ä¸¤æ¡è·¯ç”±å…·æœ‰ç›¸åŒçš„ç›®çš„åœ°å€å’Œæ©ç ï¼Œå¹¶ä¸”æœ‰ç›¸åŒçš„ä¼˜å…ˆçº§å’Œåº¦é‡å€¼ï¼Œä½†æ˜¯å®ƒä»¬çš„ä¸‹ä¸€è·³åœ°å€å’Œå‡ºæ¥å£ä¸åŒã€‚æ­¤æ—¶ï¼ŒRTBå°±å¯ä»¥é€šè¿‡è¿™ä¸¤æ¡ç­‰ä»·è·¯ç”±å®ç°è´Ÿè½½åˆ†æ‹…ã€‚</p><h3 id="æµ®åŠ¨è·¯ç”±" tabindex="-1"><a class="header-anchor" href="#æµ®åŠ¨è·¯ç”±"><span>æµ®åŠ¨è·¯ç”±</span></a></h3><p>æµ®åŠ¨é™æ€è·¯ç”±åœ¨ç½‘ç»œä¸­ä¸»è·¯ç”±å¤±æ•ˆçš„æƒ…å†µä¸‹ï¼Œä¼šåŠ å…¥åˆ°è·¯ç”±è¡¨å¹¶æ‰¿æ‹…æ•°æ®è½¬å‘ä¸šåŠ¡ã€‚</p><p>åœ¨é…ç½®å¤šæ¡é™æ€è·¯ç”±æ—¶ï¼Œå¯ä»¥ä¿®æ”¹é™æ€è·¯ç”±çš„ä¼˜å…ˆçº§ï¼Œä½¿ä¸€æ¡é™æ€è·¯ç”±çš„ä¼˜å…ˆçº§é«˜äºå…¶ä»–é™æ€è·¯ç”±ï¼Œä»è€Œå®ç°é™æ€è·¯ç”±çš„å¤‡ä»½ï¼Œä¹Ÿå«æµ®åŠ¨é™æ€è·¯ç”±ã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼ŒRTBä¸Šé…ç½®äº†ä¸¤æ¡é™æ€è·¯ç”±ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¸¤æ¡é™æ€è·¯ç”±æ˜¯ç­‰ä»·çš„ã€‚é€šè¿‡é…ç½®preference 100ï¼Œä½¿ç¬¬äºŒæ¡é™æ€è·¯ç”±çš„ä¼˜å…ˆçº§è¦ä½äºç¬¬ä¸€æ¡ï¼ˆå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šä½ï¼‰ã€‚è·¯ç”±å™¨åªæŠŠä¼˜å…ˆçº§æœ€é«˜çš„é™æ€è·¯ç”±åŠ å…¥åˆ°è·¯ç”±è¡¨ä¸­ã€‚å½“åŠ å…¥åˆ°è·¯ç”±è¡¨ä¸­é™æ€è·¯ç”±å‡ºç°æ•…éšœæ—¶ï¼Œä¼˜å…ˆçº§ä½çš„é™æ€è·¯ç”±æ‰ä¼šåŠ å…¥åˆ°è·¯ç”±è¡¨å¹¶æ‰¿æ‹…æ•°æ®è½¬å‘ä¸šåŠ¡ã€‚</p><figure><img src="/wsq-blog/assets/8-B6mXEwfU.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span>[RTB]ip route-static 192.168.1.0 255.255.255.0 10.0.12.1 </span></span>
<span class="line"><span>[RTB]ip route-static 192.168.1.0 255.255.255.0 20.0.12.1 preference 100</span></span>
<span class="line"><span></span></span>
<span class="line"><span>[RTB]display ip routing-table </span></span>
<span class="line"><span>Route Flags: R - relay, D - download to fib</span></span>
<span class="line"><span>--------------------------------------------------------------</span></span>
<span class="line"><span>Routing Tables: Public  Destinations : 13       Routes : 14       </span></span>
<span class="line"><span>Destination/Mask Proto Pre Cost Flags NextHop Interface</span></span>
<span class="line"><span>â€¦â€¦</span></span>
<span class="line"><span>192.168.1.0/24  Static  60   0  RD  10.0.12.1 GigabitEthernet0/0/0</span></span></code></pre></div><p>åœ¨ä¸»é“¾è·¯æ­£å¸¸æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸»è·¯ç”±ä¼šå‡ºç°åœ¨è·¯ç”±è¡¨ä¸­ã€‚</p><p>ä»display ip routing-tableå‘½ä»¤çš„å›æ˜¾ä¿¡æ¯ä¸­å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡ä¿®æ”¹é™æ€è·¯ç”±ä¼˜å…ˆçº§å®ç°äº†æµ®åŠ¨é™æ€è·¯ç”±ã€‚æ­£å¸¸æƒ…å†µä¸‹ï¼Œè·¯ç”±è¡¨ä¸­åº”è¯¥æ˜¾ç¤ºä¸¤æ¡æœ‰ç›¸åŒç›®çš„åœ°ã€ä½†ä¸åŒä¸‹ä¸€è·³å’Œå‡ºæ¥å£çš„ç­‰ä»·è·¯ç”±ã€‚ç”±äºä¿®æ”¹äº†ä¼˜å…ˆçº§ï¼Œå›æ˜¾ä¸­åªæœ‰ä¸€æ¡é»˜è®¤ä¼˜å…ˆçº§ä¸º60çš„é™æ€è·¯ç”±ã€‚å¦ä¸€æ¡é™æ€è·¯ç”±çš„ä¼˜å…ˆçº§æ˜¯100ï¼Œè¯¥è·¯ç”±ä¼˜å…ˆçº§ä½ï¼Œæ‰€ä»¥ä¸ä¼šæ˜¾ç¤ºåœ¨è·¯ç”±è¡¨ä¸­ã€‚</p><p>åœ¨ä¸»é“¾è·¯å‡ºç°æ•…éšœæ—¶ï¼Œæµ®åŠ¨é™æ€è·¯ç”±ä¼šè¢«æ¿€æ´»å¹¶åŠ å…¥åˆ°è·¯ç”±è¡¨ä¸­ï¼Œæ‰¿æ‹…æ•°æ®è½¬å‘ä¸šåŠ¡ã€‚</p><p>å½“ä¸»ç”¨é™æ€è·¯ç”±å‡ºç°ç‰©ç†é“¾è·¯æ•…éšœæˆ–è€…æ¥å£æ•…éšœæ—¶ï¼Œè¯¥é™æ€è·¯ç”±ä¸èƒ½å†æä¾›åˆ°è¾¾ç›®çš„åœ°çš„è·¯å¾„ï¼Œæ‰€ä»¥åœ¨è·¯ç”±è¡¨ä¸­ä¼šè¢«åˆ é™¤ã€‚æ­¤æ—¶ï¼Œæµ®åŠ¨é™æ€è·¯ç”±ä¼šè¢«åŠ å…¥åˆ°è·¯ç”±è¡¨ï¼Œä»¥ä¿è¯æŠ¥æ–‡èƒ½å¤Ÿä»å¤‡ä»½é“¾è·¯æˆåŠŸè½¬å‘åˆ°ç›®çš„åœ°ã€‚åœ¨ä¸»ç”¨é™æ€è·¯ç”±çš„ç‰©ç†é“¾è·¯æ¢å¤æ­£å¸¸åï¼Œä¸»ç”¨é™æ€è·¯ç”±ä¼šé‡æ–°è¢«åŠ å…¥åˆ°è·¯ç”±è¡¨ï¼Œå¹¶ä¸”æ•°æ®è½¬å‘ä¸šåŠ¡ä¼šä»æµ®åŠ¨é™æ€è·¯ç”±åˆ‡æ¢åˆ°ä¸»ç”¨é™æ€è·¯ç”±ï¼Œè€Œæµ®åŠ¨é™æ€è·¯ç”±ä¼šåœ¨è·¯ç”±è¡¨ä¸­å†æ¬¡è¢«éšè—ã€‚</p><div class="language-" data-highlighter="shiki" data-ext="" data-title="" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span>[RTB]interface GigabitEthernet 0/0/0</span></span>
<span class="line"><span>[RTB-GigabitEthernet 0/0/0]shutdown </span></span>
<span class="line"><span>[RTB]display ip routing-table </span></span>
<span class="line"><span>Route Flags: R - relay, D - download to fib</span></span>
<span class="line"><span>--------------------------------------------------------------</span></span>
<span class="line"><span>Routing Tables: Public  Destinations : 13       Routes : 14       </span></span>
<span class="line"><span>Destination/Mask Proto Pre Cost Flags NextHop Interface</span></span>
<span class="line"><span>â€¦â€¦</span></span>
<span class="line"><span>192.168.1.0/24 Static  100  0  RD  20.0.12.1 GigabitEthernet 0/0/1</span></span></code></pre></div><h2 id="ipv6" tabindex="-1"><a class="header-anchor" href="#ipv6"><span>IPv6</span></a></h2><h3 id="ipv6åŸºæœ¬æŠ¥å¤´" tabindex="-1"><a class="header-anchor" href="#ipv6åŸºæœ¬æŠ¥å¤´"><span>IPv6åŸºæœ¬æŠ¥å¤´</span></a></h3><p>IPv6æŠ¥æ–‡ç”±IPv6åŸºæœ¬æŠ¥å¤´ã€IPv6æ‰©å±•æŠ¥å¤´ä»¥åŠä¸Šå±‚åè®®æ•°æ®å•å…ƒä¸‰éƒ¨åˆ†ç»„æˆã€‚<br> åŸºæœ¬æŠ¥å¤´ä¸­çš„å„å­—æ®µè§£é‡Šå¦‚ä¸‹ï¼š</p><ol><li>Versionï¼šç‰ˆæœ¬å·ï¼Œé•¿åº¦ä¸º4bitã€‚å¯¹äºIPv6ï¼Œè¯¥å€¼ä¸º6ã€‚</li><li>Traffic Classï¼šæµç±»åˆ«ï¼Œé•¿åº¦ä¸º8bitï¼Œå®ƒç­‰åŒäºIPv4æŠ¥å¤´ä¸­çš„TOSå­—æ®µï¼Œè¡¨ç¤ºIPv6æ•°æ®æŠ¥çš„ç±»æˆ–ä¼˜å…ˆçº§ï¼Œä¸»è¦åº”ç”¨äºQoSã€‚</li><li>Flow Labelï¼šæµæ ‡ç­¾ï¼Œé•¿åº¦ä¸º20bitï¼Œå®ƒç”¨äºåŒºåˆ†å®æ—¶æµé‡ã€‚æµå¯ä»¥ç†è§£ä¸ºç‰¹å®šåº”ç”¨æˆ–è¿›ç¨‹çš„æ¥è‡ªæŸä¸€æºåœ°å€å‘å¾€ä¸€ä¸ªæˆ–å¤šä¸ªç›®çš„åœ°å€çš„è¿ç»­å•æ’­ã€ç»„æ’­æˆ–ä»»æ’­æŠ¥æ–‡ã€‚IPv6ä¸­çš„æµæ ‡ç­¾å­—æ®µã€æºåœ°å€å­—æ®µå’Œç›®çš„åœ°å€å­—æ®µä¸€èµ·ä¸ºç‰¹å®šæ•°æ®æµæŒ‡å®šäº†ç½‘ç»œä¸­çš„è½¬å‘è·¯å¾„ã€‚è¿™æ ·ï¼ŒæŠ¥æ–‡åœ¨IPç½‘ç»œä¸­ä¼ è¾“æ—¶ä¼šä¿æŒåŸæœ‰çš„é¡ºåºï¼Œæé«˜äº†å¤„ç†æ•ˆç‡ã€‚éšç€ä¸‰ç½‘åˆä¸€çš„å‘å±•è¶‹åŠ¿ï¼ŒIPç½‘ç»œä¸ä»…è¦æ±‚èƒ½å¤Ÿä¼ è¾“ä¼ ç»Ÿçš„æ•°æ®æŠ¥æ–‡ï¼Œè¿˜éœ€è¦èƒ½å¤Ÿä¼ è¾“è¯­éŸ³ã€è§†é¢‘ç­‰æŠ¥æ–‡ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæµæ ‡ç­¾å­—æ®µçš„ä½œç”¨å°±æ˜¾å¾—æ›´åŠ é‡è¦ã€‚</li><li>Payload Lengthï¼šæœ‰æ•ˆè½½è·é•¿åº¦ï¼Œé•¿åº¦ä¸º16bitï¼Œå®ƒæ˜¯æŒ‡ç´§è·ŸIPv6æŠ¥å¤´çš„æ•°æ®æŠ¥çš„å…¶å®ƒéƒ¨åˆ†ã€‚</li><li>Next Headerï¼šä¸‹ä¸€ä¸ªæŠ¥å¤´ï¼Œé•¿åº¦ä¸º8bitã€‚è¯¥å­—æ®µå®šä¹‰äº†ç´§è·Ÿåœ¨IPv6æŠ¥å¤´åé¢çš„ç¬¬ä¸€ä¸ªæ‰©å±•æŠ¥å¤´ï¼ˆå¦‚æœå­˜åœ¨ï¼‰çš„ç±»å‹ã€‚<br> è·³æ•°é™åˆ¶ï¼ˆHop Limitï¼‰ï¼Œé•¿åº¦ä¸º8bitï¼Œè¯¥å­—æ®µç±»ä¼¼äºIPv4æŠ¥å¤´ä¸­çš„Time to Liveå­—æ®µï¼Œå®ƒå®šä¹‰äº†IPæ•°æ®æŠ¥æ‰€èƒ½ç»è¿‡çš„æœ€å¤§è·³æ•°ã€‚æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼Œè¯¥æ•°å€¼å‡å»1ï¼›å½“è¯¥å­—æ®µçš„å€¼ä¸º0æ—¶ï¼Œæ•°æ®æŠ¥å°†è¢«ä¸¢å¼ƒã€‚</li><li>Source Addressï¼šæºåœ°å€ï¼Œé•¿åº¦ä¸º128bitï¼Œè¡¨ç¤ºå‘é€æ–¹çš„åœ°å€ã€‚</li><li>Destination Addressï¼šç›®çš„åœ°å€ï¼Œé•¿åº¦ä¸º128bitï¼Œè¡¨ç¤ºæ¥æ”¶æ–¹çš„åœ°å€ã€‚</li></ol><p>ä¸IPv4ç›¸æ¯”ï¼ŒIPv6æŠ¥å¤´å»é™¤äº†IHLã€Identifierã€Flagsã€Fragment Offsetã€Header Checksumã€ Optionsã€PaddingåŸŸï¼Œåªå¢äº†æµæ ‡ç­¾åŸŸï¼Œå› æ­¤IPv6æŠ¥æ–‡å¤´çš„å¤„ç†è¾ƒIPv4å¤§å¤§ç®€åŒ–ï¼Œæé«˜äº†å¤„ç†æ•ˆç‡ã€‚å¦å¤–ï¼ŒIPv6ä¸ºäº†æ›´å¥½æ”¯æŒå„ç§é€‰é¡¹å¤„ç†ï¼Œæå‡ºäº†æ‰©å±•å¤´çš„æ¦‚å¿µã€‚</p><figure><img src="/wsq-blog/assets/5-1-B1M9RmPi.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="ipv6æ‰©å±•æŠ¥å¤´" tabindex="-1"><a class="header-anchor" href="#ipv6æ‰©å±•æŠ¥å¤´"><span>IPv6æ‰©å±•æŠ¥å¤´</span></a></h3><figure><img src="/wsq-blog/assets/5-2-B0-CA6pY.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Pv6å¢åŠ äº†æ‰©å±•æŠ¥å¤´ï¼Œä½¿å¾—IPv6æŠ¥å¤´æ›´åŠ ç®€åŒ–ã€‚ä¸€ä¸ªIPv6æŠ¥æ–‡å¯ä»¥åŒ…å«0ä¸ªã€1ä¸ªæˆ–å¤šä¸ªæ‰©å±•æŠ¥å¤´ï¼Œä»…å½“éœ€è¦è·¯ç”±å™¨æˆ–ç›®çš„èŠ‚ç‚¹åšæŸäº›ç‰¹æ®Šå¤„ç†æ—¶ï¼Œæ‰ç”±å‘é€æ–¹æ·»åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæ‰©å±•å¤´ã€‚IPv6æ”¯æŒå¤šä¸ªæ‰©å±•æŠ¥å¤´ï¼Œå„æ‰©å±•æŠ¥å¤´ä¸­éƒ½å«æœ‰ä¸€ä¸ªä¸‹ä¸€ä¸ªæŠ¥å¤´å­—æ®µï¼Œç”¨äºæŒ‡æ˜ä¸‹ä¸€ä¸ªæ‰©å±•æŠ¥å¤´çš„ç±»å‹ã€‚è¿™äº›æŠ¥å¤´å¿…é¡»æŒ‰ç…§ä»¥ä¸‹é¡ºåºå‡ºç°ï¼š<br> IPv6åŸºæœ¬æŠ¥å¤´<br> é€è·³é€‰é¡¹æ‰©å±•æŠ¥å¤´<br> ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´<br> è·¯ç”±æ‰©å±•æŠ¥å¤´<br> åˆ†ç‰‡æ‰©å±•æŠ¥å¤´<br> è®¤è¯æ‰©å±•æŠ¥å¤´<br> å°è£…å®‰å…¨æœ‰æ•ˆè½½è·æ‰©å±•æŠ¥å¤´<br> ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´ï¼ˆæŒ‡é‚£äº›å°†è¢«åˆ†ç»„æŠ¥æ–‡çš„æœ€ç»ˆç›®çš„åœ°å¤„ç†çš„é€‰é¡¹ï¼‰<br> ä¸Šå±‚åè®®æ•°æ®æŠ¥æ–‡<br> é™¤äº†ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´å¤–ï¼Œæ¯ä¸ªæ‰©å±•æŠ¥å¤´åœ¨ä¸€ä¸ªæŠ¥æ–‡ä¸­æœ€å¤šåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ç›®çš„é€‰é¡¹æ‰©å±•æŠ¥å¤´åœ¨ä¸€ä¸ªæŠ¥æ–‡ä¸­æœ€å¤šä¹Ÿåªèƒ½å‡ºç°ä¸¤æ¬¡ï¼Œä¸€æ¬¡æ˜¯åœ¨è·¯ç”±æ‰©å±•æŠ¥å¤´ä¹‹å‰ï¼Œå¦ä¸€æ¬¡æ˜¯åœ¨ä¸Šå±‚åè®®æ‰©å±•æŠ¥å¤´ä¹‹å‰ã€‚</p><h3 id="ipv6åœ°å€æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#ipv6åœ°å€æ ¼å¼"><span>IPv6åœ°å€æ ¼å¼</span></a></h3><figure><img src="/wsq-blog/assets/5-3-CJDb39j0.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>IPv6åœ°å€é•¿åº¦ä¸º128æ¯”ç‰¹ï¼Œç”¨äºæ ‡è¯†ä¸€ä¸ªæˆ–ä¸€ç»„æ¥å£ã€‚IPv6åœ°å€é€šå¸¸å†™ä½œxxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxx:xxxxï¼Œå…¶ä¸­xxxxæ˜¯4ä¸ªåå…­è¿›åˆ¶æ•°ï¼Œç­‰åŒäºä¸€ä¸ª16æ¯”ç‰¹äºŒè¿›åˆ¶æ•°ï¼›å…«ç»„xxxxå…±åŒç»„æˆäº†ä¸€ä¸ª128æ¯”ç‰¹çš„IPv6åœ°å€ã€‚ä¸€ä¸ªIPv6åœ°å€ç”±IPv6åœ°å€å‰ç¼€å’Œæ¥å£IDç»„æˆï¼ŒIPv6åœ°å€å‰ç¼€ç”¨æ¥æ ‡è¯†IPv6ç½‘ç»œï¼Œæ¥å£IDç”¨æ¥æ ‡è¯†æ¥å£ã€‚</p><p>IPv6åœ°å€é•¿åº¦ä¸º128æ¯”ç‰¹ï¼Œæ¯16æ¯”ç‰¹åˆ’åˆ†ä¸ºä¸€æ®µï¼Œæ¯æ®µç”±4ä¸ªåå…­è¿›åˆ¶æ•°è¡¨ç¤ºï¼Œå¹¶ç”¨å†’å·éš”å¼€ã€‚<br> IPv6åœ°å€åŒ…æ‹¬ç½‘ç»œå‰ç¼€å’Œæ¥å£æ ‡è¯†ä¸¤éƒ¨åˆ†ã€‚</p><h3 id="ipv6åœ°å€å‹ç¼©æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#ipv6åœ°å€å‹ç¼©æ ¼å¼"><span>IPv6åœ°å€å‹ç¼©æ ¼å¼</span></a></h3><p>ç”±äºIPv6åœ°å€é•¿åº¦ä¸º128æ¯”ç‰¹ï¼Œä¹¦å†™æ—¶ä¼šéå¸¸ä¸æ–¹ä¾¿ã€‚æ­¤å¤–ï¼ŒIPv6åœ°å€çš„å·¨å¤§åœ°å€ç©ºé—´ä½¿å¾—åœ°å€ä¸­å¾€å¾€ä¼šåŒ…å«å¤šä¸ª0ã€‚ä¸ºäº†åº”å¯¹è¿™ç§æƒ…å†µï¼ŒIPv6æä¾›äº†å‹ç¼©æ–¹å¼æ¥ç®€åŒ–åœ°å€çš„ä¹¦å†™ã€‚å‹ç¼©è§„åˆ™å¦‚ä¸‹ï¼š<br> æ¯16æ¯”ç‰¹ç»„ä¸­çš„å‰å¯¼0å¯ä»¥çœç•¥ã€‚<br> åœ°å€ä¸­åŒ…å«çš„è¿ç»­ä¸¤ä¸ªæˆ–å¤šä¸ªå‡ä¸º0çš„ç»„ï¼Œå¯ä»¥ç”¨åŒå†’å·â€œ::â€æ¥ä»£æ›¿ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸€ä¸ªIPv6åœ°å€ä¸­åªèƒ½ä½¿ç”¨ä¸€æ¬¡åŒå†’å·â€œ::â€ï¼Œå¦åˆ™ï¼Œè®¾å¤‡å°†å‹ç¼©åçš„åœ°å€æ¢å¤æˆ128ä½æ—¶ï¼Œæ— æ³•ç¡®å®šæ¯æ®µä¸­0çš„ä¸ªæ•°ã€‚<br> æœ¬ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•åˆ©ç”¨å‹ç¼©è§„åˆ™å¯¹IPv6åœ°å€è¿›è¡Œç®€åŒ–è¡¨ç¤ºã€‚</p><figure><img src="/wsq-blog/assets/5-4-Bclyi8c0.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ¯ä¸€ç»„ä¸­çš„å‰å¯¼â€œ0â€éƒ½å¯ä»¥çœç•¥ã€‚<br> åœ°å€ä¸­åŒ…å«çš„è¿ç»­å…¨ä¸º0çš„ç»„ï¼Œå¯ä»¥ç”¨åŒå†’å·â€œ::â€æ¥ä»£æ›¿ã€‚</p><h3 id="ipv6åœ°å€åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#ipv6åœ°å€åˆ†ç±»"><span>IPv6åœ°å€åˆ†ç±»</span></a></h3><p>ç›®å‰ï¼ŒIPv6åœ°å€ç©ºé—´ä¸­è¿˜æœ‰å¾ˆå¤šåœ°å€å°šæœªåˆ†é…ã€‚è¿™ä¸€æ–¹é¢æ˜¯å› ä¸ºIPv6æœ‰ç€å·¨å¤§çš„åœ°å€ç©ºé—´ï¼Œè¶³å¤Ÿåœ¨æœªæ¥å¾ˆå¤šå¹´ä½¿ç”¨ï¼Œå¦ä¸€æ–¹é¢æ˜¯å› ä¸ºå¯»å€æ–¹æ¡ˆè¿˜æœ‰å¾…å‘å±•ï¼ŒåŒæ—¶å…³äºåœ°å€ç±»å‹çš„é€‚ç”¨èŒƒå›´ä¹Ÿå¤šæœ‰å€¼å¾—å•†æ¦·çš„åœ°æ–¹ã€‚<br> ç›®å‰ï¼Œæœ‰ä¸€å°éƒ¨åˆ†å…¨çƒå•æ’­åœ°å€å·²ç»ç”±IANAï¼ˆäº’è”ç½‘åç§°ä¸æ•°å­—åœ°å€åˆ†é…æœºæ„ICANNçš„ä¸€ä¸ªåˆ†æ”¯ï¼‰åˆ†é…ç»™äº†ç”¨æˆ·ã€‚å•æ’­åœ°å€çš„æ ¼å¼æ˜¯2000::/3ï¼Œä»£è¡¨å…¬å…±IPç½‘ç»œä¸Šä»»æ„å¯åŠçš„åœ°å€ã€‚IANAè´Ÿè´£å°†è¯¥æ®µåœ°å€èŒƒå›´å†…çš„åœ°å€åˆ†é…ç»™å¤šä¸ªåŒºåŸŸäº’è”ç½‘æ³¨å†Œç®¡ç†æœºæ„ï¼ˆRIRï¼‰ã€‚RIRè´Ÿè´£å…¨çƒ5ä¸ªåŒºåŸŸçš„åœ°å€åˆ†é…ã€‚ä»¥ä¸‹å‡ ä¸ªåœ°å€èŒƒå›´å·²ç»åˆ†é…ï¼š2400::/12 (APNIC)ã€2600::/12 (ARIN)ã€2800::/12 (LACNIC)ã€2A00::/12 (RIPE NCC)å’Œ2C00::/12 (AfriNIC)ï¼Œå®ƒä»¬ä½¿ç”¨å•ä¸€åœ°å€å‰ç¼€æ ‡è¯†ç‰¹å®šåŒºåŸŸä¸­çš„æ‰€æœ‰åœ°å€ã€‚2000::/3åœ°å€èŒƒå›´ä¸­è¿˜ä¸ºæ–‡æ¡£ç¤ºä¾‹é¢„ç•™äº†åœ°å€ç©ºé—´ï¼Œä¾‹å¦‚2001:0DB8::/32ã€‚</p><p>é“¾è·¯æœ¬åœ°åœ°å€åªèƒ½åœ¨è¿æ¥åˆ°åŒä¸€æœ¬åœ°é“¾è·¯çš„èŠ‚ç‚¹ä¹‹é—´ä½¿ç”¨ã€‚å¯ä»¥åœ¨è‡ªåŠ¨åœ°å€åˆ†é…ã€é‚»å±…å‘ç°å’Œé“¾è·¯ä¸Šæ²¡æœ‰è·¯ç”±å™¨çš„æƒ…å†µä¸‹ä½¿ç”¨é“¾è·¯æœ¬åœ°åœ°å€ã€‚ä»¥é“¾è·¯æœ¬åœ°åœ°å€ä¸ºæºåœ°å€æˆ–ç›®çš„åœ°å€çš„IPv6æŠ¥æ–‡ä¸ä¼šè¢«è·¯ç”±å™¨è½¬å‘åˆ°å…¶ä»–é“¾è·¯ã€‚é“¾è·¯æœ¬åœ°åœ°å€çš„å‰ç¼€æ˜¯FE80::/10ã€‚</p><p>ç»„æ’­åœ°å€çš„å‰ç¼€æ˜¯FF00::/8ã€‚ç»„æ’­åœ°å€èŒƒå›´å†…çš„å¤§éƒ¨åˆ†åœ°å€éƒ½æ˜¯ä¸ºç‰¹å®šç»„æ’­ç»„ä¿ç•™çš„ã€‚è·ŸIPv4ä¸€æ ·ï¼ŒIPv6ç»„æ’­åœ°å€è¿˜æ”¯æŒè·¯ç”±åè®®ã€‚IPv6ä¸­æ²¡æœ‰å¹¿æ’­åœ°å€ã€‚ç»„æ’­åœ°å€æ›¿ä»£å¹¿æ’­åœ°å€å¯ä»¥ç¡®ä¿æŠ¥æ–‡åªå‘é€ç»™ç‰¹å®šçš„ç»„æ’­ç»„è€Œä¸æ˜¯IPv6ç½‘ç»œä¸­çš„ä»»æ„ç»ˆç«¯ã€‚</p><p>IPv6è¿˜åŒ…æ‹¬ä¸€äº›ç‰¹æ®Šåœ°å€ï¼Œæ¯”å¦‚æœªæŒ‡å®šåœ°å€::/128ã€‚å¦‚æœæ²¡æœ‰ç»™ä¸€ä¸ªæ¥å£åˆ†é…IPåœ°å€ï¼Œè¯¥æ¥å£çš„åœ°å€åˆ™ä¸º::/128ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸èƒ½å°†æœªæŒ‡å®šåœ°å€è·Ÿé»˜è®¤IPåœ°å€::/0ç›¸æ··æ·†ã€‚é»˜è®¤IPåœ°å€::/0è·ŸIPv4ä¸­çš„é»˜è®¤åœ°å€0.0.0.0/0ç±»ä¼¼ã€‚ç¯å›åœ°å€127.0.0.1åœ¨IPv6ä¸­è¢«å®šä¹‰ä¸ºä¿ç•™åœ°å€::1/128ã€‚</p><table><thead><tr><th>åœ°å€èŒƒå›´</th><th>æè¿°</th></tr></thead><tbody><tr><td>2000::/3</td><td>å…¨çƒå•æ’­åœ°å€</td></tr><tr><td>2001:0DB8::/32</td><td>ä¿ç•™åœ°å€</td></tr><tr><td>FE80::/10</td><td>é“¾è·¯æœ¬åœ°åœ°å€</td></tr><tr><td>FF00::/8</td><td>ç»„æ’­åœ°å€</td></tr><tr><td>::/128</td><td>æœªæŒ‡å®šåœ°å€</td></tr><tr><td>::1/128</td><td>ç¯å›åœ°å€</td></tr></tbody></table><p>IPv6åœ°å€åˆ†ä¸ºå•æ’­åœ°å€ã€ä»»æ’­åœ°å€ã€ç»„æ’­åœ°å€ä¸‰ç§ç±»å‹ã€‚</p><h3 id="ipv6å•æ’­åœ°å€" tabindex="-1"><a class="header-anchor" href="#ipv6å•æ’­åœ°å€"><span>IPv6å•æ’­åœ°å€</span></a></h3><figure><img src="/wsq-blog/assets/5-5-yqmwlGB3.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å…¨çƒå•æ’­åœ°å€å¸¦æœ‰å›ºå®šå‰ç¼€ï¼Œç±»ä¼¼äºIPv4ä¸­çš„å…¬ç½‘åœ°å€ã€‚</p><figure><img src="/wsq-blog/assets/5-6-DnKP6XBJ.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>é“¾è·¯æœ¬åœ°å•æ’­åœ°å€å‰ç¼€ä¸ºFE80::/10ï¼Œç±»ä¼¼äºIPv4ä¸­çš„ç§æœ‰åœ°å€ã€‚</p><h3 id="ipv6ç»„æ’­åœ°å€" tabindex="-1"><a class="header-anchor" href="#ipv6ç»„æ’­åœ°å€"><span>IPv6ç»„æ’­åœ°å€</span></a></h3><p>IPv6çš„ç»„æ’­ä¸IPv4ç›¸åŒï¼Œç”¨æ¥æ ‡è¯†ä¸€ç»„æ¥å£ï¼Œä¸€èˆ¬è¿™äº›æ¥å£å±äºä¸åŒçš„èŠ‚ç‚¹ã€‚ä¸€ä¸ªèŠ‚ç‚¹å¯èƒ½å±äº0åˆ°å¤šä¸ªç»„æ’­ç»„ã€‚ç›®çš„åœ°å€ä¸ºç»„æ’­åœ°å€çš„æŠ¥æ–‡ä¼šè¢«è¯¥ç»„æ’­åœ°å€æ ‡è¯†çš„æ‰€æœ‰æ¥å£æ¥æ”¶ã€‚<br> ä¸€ä¸ªIPv6ç»„æ’­åœ°å€æ˜¯ç”±å‰ç¼€ã€æ ‡å¿—ï¼ˆFlagï¼‰å­—æ®µã€èŒƒå›´ï¼ˆScopeï¼‰å­—æ®µä»¥åŠç»„æ’­ç»„IDï¼ˆGroup IDï¼‰4ä¸ªéƒ¨åˆ†ç»„æˆï¼š<br> å‰ç¼€ï¼šIPv6ç»„æ’­åœ°å€çš„å‰ç¼€æ˜¯FF00::/8ï¼ˆ1111 1111ï¼‰ã€‚<br> æ ‡å¿—å­—æ®µï¼ˆFlagï¼‰ï¼šé•¿åº¦4bitï¼Œç›®å‰åªä½¿ç”¨äº†æœ€åä¸€ä¸ªæ¯”ç‰¹ï¼ˆå‰ä¸‰ä½å¿…é¡»ç½®0ï¼‰ï¼Œå½“è¯¥ä½å€¼ä¸º0æ—¶ï¼Œè¡¨ç¤ºå½“å‰çš„ç»„æ’­åœ°å€æ˜¯ç”±IANAæ‰€åˆ†é…çš„ä¸€ä¸ªæ°¸ä¹…åˆ†é…åœ°å€ï¼›å½“è¯¥å€¼ä¸º1æ—¶ï¼Œè¡¨ç¤ºå½“å‰çš„ç»„æ’­åœ°å€æ˜¯ä¸€ä¸ªä¸´æ—¶ç»„æ’­åœ°å€ï¼ˆéæ°¸ä¹…åˆ†é…åœ°å€ï¼‰ã€‚<br> èŒƒå›´å­—æ®µï¼ˆScopeï¼‰ï¼šé•¿åº¦4bitï¼Œç”¨æ¥é™åˆ¶ç»„æ’­æ•°æ®æµåœ¨ç½‘ç»œä¸­å‘é€çš„èŒƒå›´ã€‚<br> ç»„æ’­ç»„IDï¼ˆGroup IDï¼‰ï¼šé•¿åº¦112bitï¼Œç”¨ä»¥æ ‡è¯†ç»„æ’­ç»„ã€‚ç›®å‰ï¼ŒRFC2373å¹¶æ²¡æœ‰å°†æ‰€æœ‰çš„112ä½éƒ½å®šä¹‰æˆç»„æ ‡è¯†ï¼Œè€Œæ˜¯å»ºè®®ä»…ä½¿ç”¨è¯¥112ä½çš„æœ€ä½32ä½ä½œä¸ºç»„æ’­ç»„IDï¼Œå°†å‰©ä½™çš„80ä½éƒ½ç½®0ï¼Œè¿™æ ·ï¼Œæ¯ä¸ªç»„æ’­ç»„IDéƒ½å¯ä»¥æ˜ å°„åˆ°ä¸€ä¸ªå”¯ä¸€çš„ä»¥å¤ªç½‘ç»„æ’­MACåœ°å€ï¼ˆRFC2464ï¼‰ã€‚</p><figure><img src="/wsq-blog/assets/5-7-DrSflUTq.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><table><thead><tr><th>åœ°å€èŒƒå›´</th><th>æè¿°</th></tr></thead><tbody><tr><td>FF02::1</td><td>é“¾è·¯æœ¬åœ°èŒƒå›´æ‰€æœ‰èŠ‚ç‚¹</td></tr><tr><td>FF02::2</td><td>é“¾è·¯æœ¬åœ°èŒƒå›´æ‰€æœ‰è·¯ç”±å™¨</td></tr></tbody></table><p>æ‰€æœ‰IPv6ç»„æ’­åœ°å€éƒ½ä»¥FFå¼€å§‹ã€‚</p><p>IPv6ä¸ºéœ€è¦ä½¿ç”¨ç»„æ’­å‘é€æ•°æ®çš„åè®®é¢„ç•™äº†ä¸€äº›ç»„æ’­ç»„ã€‚</p><h3 id="ipv6ä»»æ’­åœ°å€" tabindex="-1"><a class="header-anchor" href="#ipv6ä»»æ’­åœ°å€"><span>IPv6ä»»æ’­åœ°å€</span></a></h3><p>ä»»æ’­åœ°å€æ ‡è¯†ä¸€ç»„ç½‘ç»œæ¥å£ï¼ˆé€šå¸¸å±äºä¸åŒçš„èŠ‚ç‚¹ï¼‰ã€‚ç›®æ ‡åœ°å€æ˜¯ä»»æ’­åœ°å€çš„æ•°æ®åŒ…å°†å‘é€ç»™å…¶ä¸­è·¯ç”±æ„ä¹‰ä¸Šæœ€è¿‘çš„ä¸€ä¸ªç½‘ç»œæ¥å£ã€‚ä»»æ’­è¿‡ç¨‹æ¶‰åŠä¸€ä¸ªä»»æ’­æŠ¥æ–‡å‘èµ·æ–¹å’Œä¸€ä¸ªæˆ–å¤šä¸ªå“åº”æ–¹ã€‚ä»»æ’­æŠ¥æ–‡çš„å‘èµ·æ–¹é€šå¸¸ä¸ºè¯·æ±‚æŸä¸€æœåŠ¡ï¼ˆDNSæŸ¥æ‰¾ï¼‰çš„ä¸»æœºæˆ–è¯·æ±‚è¿”è¿˜ç‰¹å®šæ•°æ®ï¼ˆä¾‹å¦‚ï¼ŒHTTPç½‘é¡µä¿¡æ¯ï¼‰çš„ä¸»æœºã€‚ä»»æ’­åœ°å€ä¸å•æ’­åœ°å€åœ¨æ ¼å¼ä¸Šæ— ä»»ä½•å·®å¼‚ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ä¸€å°è®¾å¤‡å¯ä»¥ç»™å¤šå°å…·æœ‰ç›¸åŒåœ°å€çš„è®¾å¤‡å‘é€æŠ¥æ–‡ã€‚<br> ä¼ä¸šç½‘ç»œä¸­è¿ç”¨ä»»æ’­åœ°å€æœ‰å¾ˆå¤šä¼˜åŠ¿ã€‚å…¶ä¸­ä¸€ä¸ªä¼˜åŠ¿æ˜¯ä¸šåŠ¡å†—ä½™ã€‚æ¯”å¦‚ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å¤šå°ä½¿ç”¨ç›¸åŒåœ°å€çš„æœåŠ¡å™¨è·å–åŒä¸€ä¸ªæœåŠ¡ï¼ˆä¾‹å¦‚ï¼ŒHTTPï¼‰ã€‚è¿™äº›æœåŠ¡å™¨éƒ½æ˜¯ä»»æ’­æŠ¥æ–‡çš„å“åº”æ–¹ã€‚å¦‚æœä¸æ˜¯é‡‡ç”¨ä»»æ’­åœ°å€é€šä¿¡ï¼Œå½“å…¶ä¸­ä¸€å°æœåŠ¡å™¨å‘ç”Ÿæ•…éšœæ—¶ï¼Œç”¨æˆ·éœ€è¦è·å–å¦ä¸€å°æœåŠ¡å™¨çš„åœ°å€æ‰èƒ½é‡æ–°å»ºç«‹é€šä¿¡ã€‚å¦‚æœé‡‡ç”¨çš„æ˜¯ä»»æ’­åœ°å€ï¼Œå½“ä¸€å°æœåŠ¡å™¨å‘ç”Ÿæ•…éšœæ—¶ï¼Œä»»æ’­æŠ¥æ–‡çš„å‘èµ·æ–¹èƒ½å¤Ÿè‡ªåŠ¨ä¸ä½¿ç”¨ç›¸åŒåœ°å€çš„å¦ä¸€å°æœåŠ¡å™¨é€šä¿¡ï¼Œä»è€Œå®ç°ä¸šåŠ¡å†—ä½™ã€‚<br> ä½¿ç”¨å¤šæœåŠ¡å™¨æ¥å…¥è¿˜èƒ½å¤Ÿæé«˜å·¥ä½œæ•ˆç‡ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·ï¼ˆå³ä»»æ’­åœ°å€çš„å‘èµ·æ–¹ï¼‰æµè§ˆå…¬å¸ç½‘é¡µæ—¶ï¼Œä¸ç›¸åŒçš„å•æ’­åœ°å€å»ºç«‹ä¸€æ¡è¿æ¥ï¼Œè¿æ¥çš„å¯¹ç«¯æ˜¯å…·æœ‰ç›¸åŒä»»æ’­åœ°å€çš„å¤šä¸ªæœåŠ¡å™¨ã€‚ç”¨æˆ·å¯ä»¥ä»ä¸åŒçš„é•œåƒæœåŠ¡å™¨åˆ†åˆ«ä¸‹è½½htmlæ–‡ä»¶å’Œå›¾ç‰‡ã€‚ç”¨æˆ·åˆ©ç”¨å¤šä¸ªæœåŠ¡å™¨çš„å¸¦å®½åŒæ—¶ä¸‹è½½ç½‘é¡µæ–‡ä»¶ï¼Œå…¶æ•ˆç‡è¿œè¿œé«˜äºä½¿ç”¨å•æ’­åœ°å€è¿›è¡Œä¸‹è½½ã€‚<br><img src="/wsq-blog/assets/5-8-B8ZljLv3.png" alt="" loading="lazy"><br> æ’­åœ°å€ç”¨æ¥æ ‡è¯†ä¸€ç»„ç½‘ç»œæ¥å£ï¼Œåœ¨ç»™å¤šä¸ªä¸»æœºæˆ–è€…èŠ‚ç‚¹æä¾›ç›¸åŒæœåŠ¡æ—¶æä¾›å†—ä½™å’Œè´Ÿè½½åˆ†æ‹…ã€‚</p><h3 id="ipv6æ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®" tabindex="-1"><a class="header-anchor" href="#ipv6æ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®"><span>IPv6æ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®</span></a></h3><p>IPv6æ”¯æŒæ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®ï¼Œæ— éœ€ä½¿ç”¨è¯¸å¦‚DHCPä¹‹ç±»çš„è¾…åŠ©åè®®ï¼Œä¸»æœºå³å¯è·å–IPv6å‰ç¼€å¹¶è‡ªåŠ¨ç”Ÿæˆæ¥å£IDã€‚è·¯ç”±å™¨å‘ç°åŠŸèƒ½æ˜¯IPv6åœ°å€è‡ªåŠ¨é…ç½®åŠŸèƒ½çš„åŸºç¡€ï¼Œä¸»è¦é€šè¿‡ä»¥ä¸‹ä¸¤ç§æŠ¥æ–‡å®ç°ï¼š<br> RAæŠ¥æ–‡ï¼šæ¯å°è·¯ç”±å™¨ä¸ºäº†è®©äºŒå±‚ç½‘ç»œä¸Šçš„ä¸»æœºå’Œå…¶å®ƒè·¯ç”±å™¨çŸ¥é“è‡ªå·±çš„å­˜åœ¨ï¼Œå®šæœŸä»¥ç»„æ’­æ–¹å¼å‘é€æºå¸¦ç½‘ç»œé…ç½®å‚æ•°çš„RAæŠ¥æ–‡ã€‚RAæŠ¥æ–‡çš„Typeå­—æ®µå€¼ä¸º134ã€‚<br> RSæŠ¥æ–‡ï¼šä¸»æœºæ¥å…¥ç½‘ç»œåå¯ä»¥ä¸»åŠ¨å‘é€RSæŠ¥æ–‡ã€‚RAæŠ¥æ–‡æ˜¯ç”±è·¯ç”±å™¨å®šæœŸå‘é€çš„ï¼Œä½†æ˜¯å¦‚æœä¸»æœºå¸Œæœ›èƒ½å¤Ÿå°½å¿«æ”¶åˆ°RAæŠ¥æ–‡ï¼Œå®ƒå¯ä»¥ç«‹åˆ»ä¸»åŠ¨å‘é€RSæŠ¥æ–‡ç»™è·¯ç”±å™¨ã€‚ç½‘ç»œä¸Šçš„è·¯ç”±å™¨æ”¶åˆ°è¯¥RSæŠ¥æ–‡åä¼šç«‹å³å‘ç›¸åº”çš„ä¸»æœºå•æ’­å›åº”RAæŠ¥æ–‡ï¼Œå‘ŠçŸ¥ä¸»æœºè¯¥ç½‘æ®µçš„é»˜è®¤è·¯ç”±å™¨å’Œç›¸å…³é…ç½®å‚æ•°ã€‚RSæŠ¥æ–‡çš„Typeå­—æ®µå€¼ä¸º133ã€‚</p><figure><img src="/wsq-blog/assets/5-9-s_f4wmJv.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç½‘ç»œèŠ‚ç‚¹å‘ç›¸è¿çš„è·¯ç”±å™¨å‘é€RSï¼Œè¯·æ±‚åœ°å€å‰ç¼€ä¿¡æ¯ã€‚<br> è·¯ç”±å™¨é€šè¿‡å‘é€è·¯ç”±å™¨é€šå‘ŠRAï¼Œå›å¤åœ°å€å‰ç¼€ä¿¡æ¯ã€‚</p><h3 id="eui-64è§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#eui-64è§„èŒƒ"><span>EUI-64è§„èŒƒ</span></a></h3><p>ä¸ºäº†é€šè¿‡IPv6ç½‘ç»œè¿›è¡Œé€šä¿¡ï¼Œå„æ¥å£å¿…é¡»è·å–æœ‰æ•ˆçš„IPv6åœ°å€ï¼Œä»¥ä¸‹ä¸‰ç§æ–¹å¼å¯ä»¥ç”¨æ¥é…ç½®IPv6åœ°å€çš„æ¥å£IDï¼šç½‘ç»œç®¡ç†å‘˜æ‰‹åŠ¨é…ç½®ï¼›é€šè¿‡ç³»ç»Ÿè½¯ä»¶ç”Ÿæˆï¼›é‡‡ç”¨æ‰©å±•å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆEUI-64ï¼‰æ ¼å¼ç”Ÿæˆã€‚å°±å®ç”¨æ€§è€Œè¨€ï¼ŒEUI-64æ ¼å¼æ˜¯IPv6ç”Ÿæˆæ¥å£IDçš„æœ€å¸¸ç”¨æ–¹å¼ã€‚IEEE EUI-64æ ‡å‡†é‡‡ç”¨æ¥å£çš„MACåœ°å€ç”ŸæˆIPv6æ¥å£IDã€‚MACåœ°å€åªæœ‰48ä½ï¼Œè€Œæ¥å£IDå´è¦æ±‚64ä½ã€‚MACåœ°å€çš„å‰24ä½ä»£è¡¨å‚å•†IDï¼Œå24ä½ä»£è¡¨åˆ¶é€ å•†åˆ†é…çš„å”¯ä¸€æ‰©å±•æ ‡è¯†ã€‚MACåœ°å€çš„ç¬¬ä¸ƒé«˜ä½æ˜¯ä¸€ä¸ªU/Lä½ï¼Œå€¼ä¸º1æ—¶è¡¨ç¤ºMACåœ°å€å…¨å±€å”¯ä¸€ï¼Œå€¼ä¸º0æ—¶è¡¨ç¤ºMACåœ°å€æœ¬åœ°å”¯ä¸€ã€‚åœ¨MACåœ°å€å‘EUI-64æ ¼å¼çš„è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œåœ¨MACåœ°å€çš„å‰24ä½å’Œå24ä½ä¹‹é—´æ’å…¥äº†16æ¯”ç‰¹çš„FFFEï¼Œå¹¶å°†U/Lä½çš„å€¼ä»0å˜æˆäº†1ï¼Œè¿™æ ·å°±ç”Ÿæˆäº†ä¸€ä¸ª64æ¯”ç‰¹çš„æ¥å£IDï¼Œä¸”æ¥å£IDçš„å€¼å…¨å±€å”¯ä¸€ã€‚æ¥å£IDå’Œæ¥å£å‰ç¼€ä¸€èµ·ç»„æˆæ¥å£åœ°å€ã€‚</p><figure><img src="/wsq-blog/assets/5-10-CxXVMs-C.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å°†FFFEæ’å…¥MACåœ°å€çš„å‰24ä½ä¸å24ä½ä¹‹é—´ï¼Œå¹¶å°†ç¬¬7ä½çš„0æ”¹ä¸º1å³å¯ç”Ÿæˆæ¥å£IDã€‚</p><h3 id="ipv6æ— çŠ¶æ€åœ°å€dadæ£€æŸ¥" tabindex="-1"><a class="header-anchor" href="#ipv6æ— çŠ¶æ€åœ°å€dadæ£€æŸ¥"><span>IPv6æ— çŠ¶æ€åœ°å€DADæ£€æŸ¥</span></a></h3><p>è®¾å¤‡åœ¨ç»™æ¥å£åˆ†é…IPv6å•æ’­åœ°å€ä¹‹å‰ä¼šè¿›è¡Œé‡å¤åœ°å€æ£€æµ‹ï¼ˆDADï¼‰ï¼Œç¡®è®¤æ˜¯å¦æœ‰å…¶å®ƒçš„èŠ‚ç‚¹ä½¿ç”¨äº†è¯¥åœ°å€ã€‚å°¤å…¶æ˜¯åœ¨åœ°å€è‡ªåŠ¨é…ç½®çš„æ—¶å€™ï¼Œè¿›è¡ŒDADæ£€æµ‹æ˜¯å¾ˆå¿…è¦çš„ã€‚ä¸€ä¸ªIPv6å•æ’­åœ°å€åœ¨åˆ†é…ç»™ä¸€ä¸ªæ¥å£ä¹‹åä¸”é€šè¿‡é‡å¤åœ°å€æ£€æµ‹ä¹‹å‰ç§°ä¸ºè¯•éªŒåœ°å€ï¼Œæ­¤æ—¶è¯¥æ¥å£ä¸èƒ½ä½¿ç”¨è¿™ä¸ªè¯•éªŒåœ°å€è¿›è¡Œå•æ’­é€šä¿¡ï¼Œä½†æ˜¯ä»ç„¶ä¼šåŠ å…¥ä¸¤ä¸ªç»„æ’­ç»„ï¼šALL-nodesç»„æ’­ç»„å’ŒSolicited-nodeç»„æ’­ç»„ã€‚Solicited-nodeç»„æ’­ç»„ç”±å•æ’­æˆ–ä»»æ’­åœ°å€çš„å24ä½åŠ ä¸Šåœ°å€å‰ç¼€FF02:0:0:0:0:1:FF00::/104ç»„æˆã€‚ä¾‹å¦‚ï¼Œæœ¬ç¤ºä¾‹ä¸­é…ç½®çš„è¯•éªŒåœ°å€ä¸º2000::1ï¼Œè¯¥åœ°å€è¢«åŠ å…¥Solicited-nodeç»„æ’­ç»„FF02::1:FF00:1ã€‚<br> IPv6é‡å¤åœ°å€æ£€æµ‹æŠ€æœ¯å’ŒIPv4ä¸­çš„å…è´¹ARPç±»ä¼¼ï¼šç”¨äºåœ°å€åˆ†é…æˆ–ä¸»æœºè¿æ¥ç½‘ç»œæ—¶æ£€æµ‹é‡å¤çš„IPv4ä¸»æœºåœ°å€ã€‚èŠ‚ç‚¹å‘ä¸€ä¸ªè‡ªå·±å°†ä½¿ç”¨çš„è¯•éªŒåœ°å€æ‰€åœ¨çš„Solicited-nodeç»„æ’­ç»„å‘é€ä¸€ä¸ªä»¥è¯¥è¯•éªŒåœ°å€ä¸ºè¯·æ±‚çš„ç›®æ ‡åœ°å€çš„é‚»å±…è¯·æ±‚ï¼ˆNSï¼‰æŠ¥æ–‡ï¼Œå¦‚æœæ”¶åˆ°æŸä¸ªå…¶å®ƒç«™ç‚¹å›åº”çš„é‚»å±…é€šå‘Šï¼ˆNAï¼‰æŠ¥æ–‡ï¼Œå°±è¯æ˜è¯¥åœ°å€å·²è¢«ç½‘ç»œä¸Šä½¿ç”¨ï¼ŒèŠ‚ç‚¹å°†ä¸èƒ½ä½¿ç”¨è¯¥è¯•éªŒåœ°å€è¿›è¡Œé€šä¿¡ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œç½‘ç»œç®¡ç†å‘˜éœ€è¦æ‰‹åŠ¨ä¸ºè¯¥èŠ‚ç‚¹åˆ†é…å¦å¤–ä¸€ä¸ªåœ°å€ã€‚</p><figure><img src="/wsq-blog/assets/5-11-DwvXqsHq.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å½“ä¸ºæ¥å£é…ç½®IPv6åœ°å€æ—¶ï¼ŒDADç”¨æ¥åœ¨æœ¬åœ°é“¾è·¯èŒƒå›´å†…æ£€æµ‹å°†è¦ä½¿ç”¨çš„IPv6åœ°å€æ˜¯å¦å”¯ä¸€ã€‚</p><h2 id="åŸºæœ¬aclä»‹ç»" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬aclä»‹ç»"><span>åŸºæœ¬ACLä»‹ç»</span></a></h2><table><thead><tr><th>ACLç±»å‹</th><th>ç¼–å·èŒƒå›´</th><th>è§„åˆ™åˆ¶è®¢ä¾æ®</th></tr></thead><tbody><tr><td>åŸºæœ¬ACL</td><td>2000ï½2999</td><td>æŠ¥æ–‡çš„æºIPåœ°å€</td></tr><tr><td>é«˜çº§ACL</td><td>3000ï½3999</td><td>æŠ¥æ–‡çš„æºIPåœ°å€ã€ç›®çš„IPåœ°å€ã€æŠ¥æ–‡ä¼˜å…ˆçº§ã€IPæ‰¿è½½çš„åè®®ç±»å‹åŠç‰¹æ€§ç­‰ä¸‰ã€å››å±‚ä¿¡æ¯</td></tr><tr><td>äºŒå±‚ACL</td><td>4000ï½4999</td><td>æŠ¥æ–‡çš„æºMACåœ°å€ã€ç›®çš„MACåœ°å€ã€802.1pä¼˜å…ˆçº§ã€é“¾è·¯å±‚åè®®ç±»å‹ç­‰äºŒå±‚ä¿¡æ¯</td></tr><tr><td>ç”¨æˆ·è‡ªå®šä¹‰ACL</td><td>5000ï½5999</td><td>ç”¨æˆ·è‡ªå®šä¹‰æŠ¥æ–‡çš„åç§»ä½ç½®å’Œåç§»é‡ã€ä»æŠ¥æ–‡ä¸­æå–å‡ºç›¸å…³å†…å®¹ç­‰ä¿¡æ¯</td></tr></tbody></table><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">acl</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">number</span><span style="color:#ADDCFF;"> ]</span><span style="color:#ADDCFF;"> acl-number</span><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">rule-id</span><span style="color:#ADDCFF;"> ]</span><span style="color:#ADDCFF;"> {</span><span style="color:#ADDCFF;"> permit</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> deny</span><span style="color:#ADDCFF;"> }</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">source</span><span style="color:#ADDCFF;"> {</span><span style="color:#ADDCFF;"> sour-address</span><span style="color:#ADDCFF;"> sour-wildcard</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> any</span><span style="color:#ADDCFF;"> }</span><span style="color:#ADDCFF;"> ]</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">time-range</span><span style="color:#ADDCFF;"> time-name</span><span style="color:#ADDCFF;"> ]</span><span style="color:#91CBFF;">  ----åŸºæœ¬ACL</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">rule-id</span><span style="color:#ADDCFF;"> ]</span><span style="color:#ADDCFF;"> {</span><span style="color:#ADDCFF;"> permit</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> deny</span><span style="color:#ADDCFF;"> }</span><span style="color:#ADDCFF;"> protocol</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">source</span><span style="color:#ADDCFF;"> {</span><span style="color:#ADDCFF;"> sour-address</span><span style="color:#ADDCFF;"> sour-wildcard</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> any</span><span style="color:#ADDCFF;"> }</span><span style="color:#ADDCFF;"> ]</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">destination</span><span style="color:#ADDCFF;"> {</span><span style="color:#ADDCFF;"> dest-address</span><span style="color:#ADDCFF;"> dest-mask</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> any</span><span style="color:#ADDCFF;"> }</span><span style="color:#ADDCFF;"> ]</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">source-port</span><span style="color:#ADDCFF;"> operator</span><span style="color:#ADDCFF;"> port1</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">port2</span><span style="color:#ADDCFF;"> ]</span><span style="color:#ADDCFF;"> ]</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">destination-port</span><span style="color:#ADDCFF;"> operator</span><span style="color:#ADDCFF;"> port1</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">port2</span><span style="color:#ADDCFF;"> ]</span><span style="color:#ADDCFF;"> ]</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">icmp-type</span><span style="color:#ADDCFF;"> {</span><span style="color:#ADDCFF;"> icmp-type</span><span style="color:#ADDCFF;"> icmp-code</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> icmp-message</span><span style="color:#ADDCFF;"> }</span><span style="color:#ADDCFF;"> ]</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">precedence</span><span style="color:#ADDCFF;"> precedence</span><span style="color:#ADDCFF;"> ]</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">tos</span><span style="color:#ADDCFF;"> tos</span><span style="color:#ADDCFF;"> ]</span><span style="color:#F0F3F6;"> [ </span><span style="color:#ADDCFF;">time-range</span><span style="color:#ADDCFF;"> time-name</span><span style="color:#ADDCFF;"> ]</span></span></code></pre></div><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 5</span><span style="color:#ADDCFF;"> permit</span><span style="color:#ADDCFF;"> source</span><span style="color:#91CBFF;"> 192.168.1.1</span><span style="color:#91CBFF;"> 0.0.0.0</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 10</span><span style="color:#ADDCFF;"> deny</span><span style="color:#ADDCFF;"> source</span><span style="color:#91CBFF;"> 192.168.1.0</span><span style="color:#91CBFF;"> 0.0.0.255</span></span></code></pre></div><h3 id="aclçš„åŒ¹é…é¡ºåº" tabindex="-1"><a class="header-anchor" href="#aclçš„åŒ¹é…é¡ºåº"><span>ACLçš„åŒ¹é…é¡ºåº</span></a></h3><p>ACLæ˜¯å¤šæ¡è§„åˆ™çš„é›†åˆï¼Œåœ¨å°†ä¸€ä¸ªæ•°æ®åŒ…å’Œè®¿é—®æ§åˆ¶åˆ—è¡¨çš„è§„åˆ™è¿›è¡ŒåŒ¹é…çš„æ—¶å€™ï¼Œç”±è§„åˆ™çš„åŒ¹é…é¡ºåºå†³å®šè§„åˆ™çš„ä¼˜å…ˆçº§ã€‚<br> åä¸ºè®¾å¤‡æ”¯æŒä¸¤ç§åŒ¹é…é¡ºåºï¼š<br> é…ç½®é¡ºåºæŒ‰ç…§ç”¨æˆ·é…ç½®ACLè§„åˆ™çš„å…ˆåè¿›è¡ŒåŒ¹é…ï¼Œå…ˆé…ç½®çš„è§„åˆ™å…ˆåŒ¹é…ã€‚æ­¤ä¸ºç¼ºçœé…ç½®ã€‚<br> è‡ªåŠ¨æ’åºï¼ˆautoï¼‰ä½¿ç”¨â€œæ·±åº¦ä¼˜å…ˆâ€çš„åŸåˆ™è¿›è¡ŒåŒ¹é…ã€‚â€œæ·±åº¦ä¼˜å…ˆâ€æ ¹æ®ACLè§„åˆ™çš„ç²¾ç¡®åº¦æ’åºï¼Œå¦‚æœåŒ¹é…æ¡ä»¶ï¼ˆå¦‚åè®®ç±»å‹ã€æºå’Œç›®çš„IPåœ°å€èŒƒå›´ç­‰ï¼‰é™åˆ¶è¶Šä¸¥æ ¼ï¼Œè§„åˆ™å°±è¶Šå…ˆåŒ¹é…ã€‚</p><h3 id="åŸºæœ¬ipv4-aclçš„-æ·±åº¦ä¼˜å…ˆ-åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ipv4-aclçš„-æ·±åº¦ä¼˜å…ˆ-åŸåˆ™"><span>åŸºæœ¬IPv4 ACLçš„â€œæ·±åº¦ä¼˜å…ˆâ€åŸåˆ™</span></a></h3><p>åŸºæœ¬IPv4 ACLçš„â€œæ·±åº¦ä¼˜å…ˆâ€é¡ºåºåˆ¤æ–­åŸåˆ™å¦‚ä¸‹ï¼š<br> 1ã€è§„åˆ™ä¸­æ˜¯å¦å¸¦VPNå®ä¾‹ï¼Œå¸¦VPNå®ä¾‹çš„è§„åˆ™ä¼˜å…ˆã€‚<br> 2ã€æ¯”è¾ƒæºIPåœ°å€èŒƒå›´ï¼ŒæºIPåœ°å€èŒƒå›´å°ï¼ˆå³é€šé…ç¬¦æ©ç ä¸­â€œ0â€ ä½çš„æ•°é‡å¤šï¼‰çš„è§„åˆ™ä¼˜å…ˆã€‚<br> 3ã€å…ˆé…ç½®çš„è§„åˆ™ä¼˜å…ˆã€‚</p><h3 id="é…ç½®acl" tabindex="-1"><a class="header-anchor" href="#é…ç½®acl"><span>é…ç½®ACL</span></a></h3><p>å®é™…ä¸Šå°±æ˜¯å‘Šè¯‰è·¯ç”±å™¨å…è®¸æˆ–è€…æ‹’ç»æŸäº›æ•°æ®åŒ…<br> ACLä¸­çš„ä¸‰å¤§éš¾ç‚¹ï¼š</p><ul><li>é€šé…ç¬¦ï¼ˆWildCardï¼‰</li><li>è¯­å¥çš„é¡ºåº(sequence of statement)</li><li>æ–¹å‘(direction)</li></ul><p>åŸºæœ¬ACLåŸºç¡€</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;">#å…è®¸æ¥è‡ª10.1.1.1ä¸»æœºçš„IPæ•°æ®åŒ…é€šè¿‡</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 10</span><span style="color:#ADDCFF;"> permit</span><span style="color:#ADDCFF;"> source</span><span style="color:#91CBFF;"> 10.1.1.1</span><span style="color:#91CBFF;"> 0.0.0.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;">#æ‹’ç»è‡ª10.1.1.2ä¸»æœºçš„IPæ•°æ®åŒ…é€šè¿‡</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 10</span><span style="color:#ADDCFF;"> deny</span><span style="color:#ADDCFF;"> source</span><span style="color:#91CBFF;"> 10.1.1.2</span><span style="color:#91CBFF;"> 0.0.0.0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;"># å…è®¸æ¥è‡ªIPåœ°å€ä¸º10.Ã—.Ã—.Ã—ï¼ˆå³IPåœ°å€çš„ç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º10ï¼‰çš„ä¸»æœºçš„æ•°æ®åŒ…é€šè¿‡ã€‚</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 10</span><span style="color:#ADDCFF;">  permit</span><span style="color:#ADDCFF;">  source</span><span style="color:#91CBFF;"> 10.0.0.0</span><span style="color:#91CBFF;">    0.255.255.255</span></span></code></pre></div><h3 id="é€šé…ç¬¦æ©ç -wildcard-mask" tabindex="-1"><a class="header-anchor" href="#é€šé…ç¬¦æ©ç -wildcard-mask"><span>é€šé…ç¬¦æ©ç  ï¼ˆWildCard Maskï¼‰</span></a></h3><p>æ˜¯ä¸€ä¸ª32æ¯”ç‰¹ä½çš„æ•°å­—å­—ç¬¦ä¸²<br> 0è¡¨ç¤ºâ€œæ£€æŸ¥ç›¸åº”çš„ä½ï¼Œå¹¶ä¸”å€¼è¦ç›¸åŒâ€<br> 1è¡¨ç¤ºâ€œä¸æ£€æŸ¥ï¼ˆå¿½ç•¥ï¼‰ç›¸åº”çš„ä½â€</p><figure><img src="/wsq-blog/assets/6-1-Dp0YxQ-T.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;"># å…è®¸æ¥è‡ª10.0.0.0/255.255.255.0çš„IPæ•°æ®åŒ…é€šè¿‡</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 5</span><span style="color:#ADDCFF;"> permit</span><span style="color:#ADDCFF;"> source</span><span style="color:#91CBFF;"> 10.0.0.0</span><span style="color:#91CBFF;"> 0.0.0.255</span></span>
<span class="line"><span style="color:#BDC4CC;"># æ‹’ç»æ¥è‡ª10.1.0.0/255.255.0.0çš„IPæ•°æ®åŒ…é€šè¿‡</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 5</span><span style="color:#ADDCFF;"> deny</span><span style="color:#ADDCFF;"> source</span><span style="color:#91CBFF;"> 10.1.0.0</span><span style="color:#91CBFF;"> 0.0.255.255</span></span>
<span class="line"><span style="color:#BDC4CC;"># å…è®¸æ¥è‡ª10.128.0.0/255.224.0.0çš„IPæ•°æ®åŒ…é€šè¿‡</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 5</span><span style="color:#ADDCFF;"> permit</span><span style="color:#ADDCFF;"> source</span><span style="color:#91CBFF;"> 10.128.0.0</span><span style="color:#91CBFF;"> 0.31.255.255</span></span></code></pre></div><p>æ³¨æ„ï¼šçœ‹èµ·æ¥åƒæ˜¯æ©ç åè¿‡æ¥ï¼Œä½†ä¸æ˜¯æ©ç ï¼</p><p>ç‰¹æ®Šçš„é€šé…ç¬¦æ©ç </p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">permit</span><span style="color:#ADDCFF;"> source</span><span style="color:#ADDCFF;"> any</span></span>
<span class="line"><span style="color:#ADDCFF;">=</span><span style="color:#ADDCFF;"> permit</span><span style="color:#ADDCFF;"> source</span><span style="color:#91CBFF;"> 0.0.0.0</span><span style="color:#91CBFF;">   255.255.255.255</span></span>
<span class="line"><span style="color:#ADDCFF;">=</span><span style="color:#ADDCFF;"> permit</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">permit</span><span style="color:#ADDCFF;"> source</span><span style="color:#91CBFF;"> 172.30.16.29</span><span style="color:#91CBFF;"> 0</span><span style="color:#ADDCFF;">  æŸä¸€å…·ä½“ä¸»æœº</span></span>
<span class="line"><span style="color:#ADDCFF;">=</span><span style="color:#ADDCFF;"> permit</span><span style="color:#ADDCFF;">  source</span><span style="color:#91CBFF;"> 172.30.16.29</span><span style="color:#91CBFF;"> 0.0.0.0</span></span></code></pre></div><p>ACLåŒ¹é…é¡ºåºä¹‹ä¸€ï¼šæŒ‰ç…§ç”¨æˆ·é…ç½®ACLè§„åˆ™çš„å…ˆåè¿›è¡ŒåŒ¹é…</p><p>ACLæ¡ä»¶æ¯”è¾ƒé¡ºåºï¼ˆæœ‰å¤šä¸ªè¯­å¥ï¼‰<br> æ ¹æ®ACLä¸­è¯­å¥çš„é¡ºåºï¼ŒæŠŠæ•°æ®åŒ…å’Œåˆ¤æ–­æ¡ä»¶è¿›è¡Œæ¯”è¾ƒã€‚ä¸€æ—¦åŒ¹é…ï¼Œå°±é‡‡ç”¨è¯­å¥ä¸­çš„åŠ¨ä½œå¹¶ç»“æŸæ¯”è¾ƒè¿‡ç¨‹ï¼Œä¸å†æ£€æŸ¥ä»¥åçš„å…¶ä»–æ¡ä»¶åˆ¤æ–­è¯­å¥ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•è¯­å¥åŒ¹é…ï¼Œæ•°æ®åŒ…è¢«æ”¾è¡Œã€‚</p><p>æœªå‘½ä¸­è§„åˆ™ï¼šä¸åŒæ¨¡å—å¤„ç†ä¸ä¸€æ ·ã€‚å¦‚æœæ˜¯è½¬å‘æ¨¡å—ï¼Œåˆ™è½¬å‘æ•°æ®åŒ…ï¼›å¦‚æœæ˜¯telnetæ¨¡å—ï¼Œåˆ™ä¸å…è®¸;å¦‚æœæ˜¯è·¯ç”±è¿‡æ»¤ï¼Œä¸å…è®¸è·¯ç”±é€šè¿‡ã€‚</p><h3 id="åŸºæœ¬aclåº”ç”¨" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬aclåº”ç”¨"><span>åŸºæœ¬ACLåº”ç”¨</span></a></h3><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">interface</span><span style="color:#ADDCFF;"> GigabitEthernet0/0/1</span></span>
<span class="line"><span style="color:#FFB757;">traffic-filter</span><span style="color:#ADDCFF;"> outbound</span><span style="color:#ADDCFF;"> acl</span><span style="color:#91CBFF;"> 2000</span></span></code></pre></div><h3 id="ä»€ä¹ˆæ˜¯in-ä»€ä¹ˆæ˜¯out" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯in-ä»€ä¹ˆæ˜¯out"><span>ä»€ä¹ˆæ˜¯INï¼Œä»€ä¹ˆæ˜¯OUT</span></a></h3><figure><img src="/wsq-blog/assets/6-2-NrbWuvGW.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>æ•°æ®åŒ…ä»PCåˆ°Serverï¼Œæ˜¯ä»E0å£INï¼Œè€Œä»E1å£OUTã€‚<br> INå’ŒOUTæ˜¯ç«™åœ¨Routerçš„è§’åº¦æ¥çœ‹çš„ã€‚</p><h3 id="å‘½åacl" tabindex="-1"><a class="header-anchor" href="#å‘½åacl"><span>å‘½åacl</span></a></h3><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">acl</span><span style="color:#ADDCFF;"> name</span><span style="color:#ADDCFF;"> test</span><span style="color:#ADDCFF;"> basic</span><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 5</span><span style="color:#ADDCFF;"> deny</span><span style="color:#ADDCFF;">  source</span><span style="color:#91CBFF;"> 10.1.1.1</span><span style="color:#91CBFF;"> 0.0.0.0</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 10</span><span style="color:#ADDCFF;">  permit</span><span style="color:#ADDCFF;">  source</span><span style="color:#91CBFF;"> 10.1.1.0</span><span style="color:#91CBFF;">  0.0.0.255</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 15</span><span style="color:#ADDCFF;"> deny</span><span style="color:#ADDCFF;">  source</span><span style="color:#91CBFF;"> 10.1.0.0</span><span style="color:#91CBFF;">  0.0.255.255</span></span>
<span class="line"><span style="color:#FFB757;">rule</span><span style="color:#91CBFF;"> 20</span><span style="color:#ADDCFF;">  permit</span><span style="color:#ADDCFF;">  source</span><span style="color:#91CBFF;"> 10.0.0.0</span><span style="color:#91CBFF;">  0.255.255.255</span></span></code></pre></div><h3 id="time-range" tabindex="-1"><a class="header-anchor" href="#time-range"><span>time-range</span></a></h3><p>ç¬¬ä¸€ç§æ¨¡å¼â€”â€”ç›¸å¯¹æ—¶é—´æ®µï¼šä»¥æ˜ŸæœŸä¸ºå‚æ•°æ¥å®šä¹‰æ—¶é—´èŒƒå›´ã€‚<br> æ ¼å¼ä¸ºï¼š<code>time-range time-name start-time to end-time { days } &amp;&lt;1-7&gt;</code><br> time-nameï¼šæ—¶é—´æ®µåç§°ï¼Œä»¥è‹±æ–‡å­—æ¯å¼€å¤´çš„å­—ç¬¦ä¸²ã€‚<br> start-time to end-timeï¼šå¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ã€‚æ ¼å¼ä¸º<code>[å°æ—¶:åˆ†é’Ÿ]</code> to <code>[å°æ—¶:åˆ†é’Ÿ]</code>ã€‚<br> daysï¼šæœ‰å¤šç§è¡¨è¾¾æ–¹å¼ï¼š<br> Monã€Tueã€Wedã€Thuã€Friã€Satã€Sunä¸­çš„ä¸€ä¸ªæˆ–è€…å‡ ä¸ªçš„ç»„åˆï¼Œä¹Ÿå¯ä»¥ç”¨æ•°å­—è¡¨è¾¾ï¼Œ0è¡¨ç¤ºæ˜ŸæœŸæ—¥ï¼Œ1è¡¨ç¤ºæ˜ŸæœŸä¸€ï¼Œâ€¦â€¦6è¡¨ç¤ºæ˜ŸæœŸå…­ã€‚<br> working-dayï¼šä»æ˜ŸæœŸä¸€åˆ°æ˜ŸæœŸäº”ï¼Œäº”å¤©ã€‚<br> dailyï¼šåŒ…æ‹¬ä¸€å‘¨ä¸ƒå¤©ã€‚<br> off-dayï¼šåŒ…æ‹¬æ˜ŸæœŸå…­å’Œæ˜ŸæœŸæ—¥ï¼Œä¸¤å¤©ã€‚</p><p>ç¬¬äºŒç§æ¨¡å¼â€”â€”ç»å¯¹æ—¶é—´æ®µï¼šä»æŸå¹´æŸæœˆæŸæ—¥çš„æŸä¸€æ—¶é—´å¼€å§‹ï¼Œåˆ°æŸå¹´æŸæœˆæŸæ—¥çš„æŸä¸€æ—¶é—´ç»“æŸã€‚<br> æ ¼å¼ä¸ºï¼š<code>time-range time-name from time1 date1 [ to time2 date2 ]</code><br> timeï¼šæ ¼å¼ä¸º <code>[å°æ—¶:åˆ†é’Ÿ]</code>ã€‚<br> dateï¼šæ ¼å¼ä¸º<code>[YYYY/MM/DD]</code>,è¡¨ç¤ºå¹´/æœˆ/æ—¥ã€‚</p><h3 id="åŸºæœ¬ipv4-aclçš„-æ·±åº¦ä¼˜å…ˆ-åŸåˆ™-1" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ipv4-aclçš„-æ·±åº¦ä¼˜å…ˆ-åŸåˆ™-1"><span>åŸºæœ¬IPv4 ACLçš„â€œæ·±åº¦ä¼˜å…ˆâ€åŸåˆ™</span></a></h3><p>åŸºæœ¬IPv4 ACLçš„â€œæ·±åº¦ä¼˜å…ˆâ€é¡ºåºåˆ¤æ–­åŸåˆ™å¦‚ä¸‹ï¼š<br> 1ã€è§„åˆ™ä¸­æ˜¯å¦å¸¦VPNå®ä¾‹ï¼Œå¸¦VPNå®ä¾‹çš„è§„åˆ™ä¼˜å…ˆã€‚<br> 2ã€æ¯”è¾ƒæºIPåœ°å€èŒƒå›´ï¼ŒæºIPåœ°å€èŒƒå›´å°ï¼ˆå³é€šé…ç¬¦æ©ç ä¸­â€œ0â€ ä½çš„æ•°é‡å¤šï¼‰çš„è§„åˆ™ä¼˜å…ˆã€‚<br> 3ã€å…ˆé…ç½®çš„è§„åˆ™ä¼˜å…ˆã€‚</p><h3 id="aclåº”ç”¨å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#aclåº”ç”¨å®ä¾‹"><span>ACLåº”ç”¨å®ä¾‹</span></a></h3><figure><img src="/wsq-blog/assets/6-3-Cf5PByzc.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[Eudemon] acl number 3101</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-acl-adv-3101] rule permit ip source 129.38.1.4 0</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-acl-adv-3101] rule permit ip source 129.38.1.1 0</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-acl-adv-3101] rule permit ip source 129.38.1.2 0</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-acl-adv-3101] rule permit ip source 129.38.1.3 0</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-acl-adv-3101] rule deny ip</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-acl-adv-3101] quit</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon] acl number 3102</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-acl-adv-3102] rule permit tcp source 202.39.2.3 0 destination 129.38.1.1 0</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-acl-adv-3102] rule permit tcp source 202.39.2.3 0 destination 129.38.1.2 0</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-acl-adv-3102] rule permit tcp source 202.39.2.3 0 destination 129.38.1.3 0</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-Interzone-trust-untrust] packet-filter 3101 outbound</span></span>
<span class="line"><span style="color:#F0F3F6;">[Eudemon-Interzone-trust-untrust] packet-filter 3102 inbound</span></span></code></pre></div><h2 id="é™æ€natã€åŠ¨æ€nat" tabindex="-1"><a class="header-anchor" href="#é™æ€natã€åŠ¨æ€nat"><span>é™æ€NATã€åŠ¨æ€NAT</span></a></h2><h3 id="é™æ€nat" tabindex="-1"><a class="header-anchor" href="#é™æ€nat"><span>é™æ€NAT</span></a></h3><p>NATçš„å®ç°æ–¹å¼æœ‰å¤šç§ï¼Œé€‚ç”¨äºä¸åŒçš„åœºæ™¯ã€‚<br> é™æ€NATå®ç°äº†ç§æœ‰åœ°å€å’Œå…¬æœ‰åœ°å€çš„ä¸€å¯¹ä¸€æ˜ å°„ã€‚å¦‚æœå¸Œæœ›ä¸€å°ä¸»æœºä¼˜å…ˆä½¿ç”¨æŸä¸ªå…³è”åœ°å€ï¼Œæˆ–è€…æƒ³è¦å¤–éƒ¨ç½‘ç»œä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„å…¬ç½‘åœ°å€è®¿é—®å†…éƒ¨æœåŠ¡å™¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨é™æ€NATã€‚ä½†æ˜¯åœ¨å¤§å‹ç½‘ç»œä¸­ï¼Œè¿™ç§ä¸€å¯¹ä¸€çš„IPåœ°å€æ˜ å°„æ— æ³•ç¼“è§£å…¬ç”¨åœ°å€çŸ­ç¼ºçš„é—®é¢˜ã€‚<br> åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œæºåœ°å€ä¸º192.168.1.1çš„æŠ¥æ–‡éœ€è¦å‘å¾€å…¬ç½‘åœ°å€100.1.1.1ã€‚åœ¨ç½‘å…³RTAä¸Šé…ç½®äº†ä¸€ä¸ªç§ç½‘åœ°å€192.168.1.1åˆ°å…¬ç½‘åœ°å€200.10.10.1çš„æ˜ å°„ã€‚å½“ç½‘å…³æ”¶åˆ°ä¸»æœºAå‘é€çš„æ•°æ®åŒ…åï¼Œä¼šå…ˆå°†æŠ¥æ–‡ä¸­çš„æºåœ°å€192.168.1.1è½¬æ¢ä¸º200.10.10.1ï¼Œç„¶åè½¬å‘æŠ¥æ–‡åˆ°ç›®çš„è®¾å¤‡ã€‚ç›®çš„è®¾å¤‡å›å¤çš„æŠ¥æ–‡ç›®çš„åœ°å€æ˜¯200.10.10.1ã€‚å½“ç½‘å…³æ”¶åˆ°å›å¤æŠ¥æ–‡åï¼Œä¹Ÿä¼šæ‰§è¡Œé™æ€åœ°å€è½¬æ¢ï¼Œå°†200.10.10.1è½¬æ¢æˆ192.168.1.1ï¼Œç„¶åè½¬å‘æŠ¥æ–‡åˆ°ä¸»æœºAã€‚å’Œä¸»æœºAåœ¨åŒä¸€ä¸ªç½‘ç»œä¸­å…¶ä»–ä¸»æœºï¼Œå¦‚ä¸»æœºBï¼Œè®¿é—®å…¬ç½‘çš„è¿‡ç¨‹ä¹Ÿéœ€è¦ç½‘å…³RTAåšé™æ€NATè½¬æ¢ã€‚</p><p><img src="/wsq-blog/assets/7-1-BGxgdSxJ.png" alt="" loading="lazy"><br> é™æ€NATå®ç°äº†ç§æœ‰åœ°å€å’Œå…¬æœ‰åœ°å€çš„ä¸€å¯¹ä¸€æ˜ å°„ã€‚<br> ä¸€ä¸ªå…¬ç½‘IPåªä¼šåˆ†é…ç»™å”¯ä¸€ä¸”å›ºå®šçš„å†…ç½‘ä¸»æœºã€‚</p><h3 id="åŠ¨æ€nat" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€nat"><span>åŠ¨æ€NAT</span></a></h3><p>åŠ¨æ€NATé€šè¿‡ä½¿ç”¨åœ°å€æ± æ¥å®ç°ã€‚<br> æœ¬ç¤ºä¾‹ä¸­ï¼Œå½“å†…éƒ¨ä¸»æœºAå’Œä¸»æœºBéœ€è¦ä¸å…¬ç½‘ä¸­çš„ç›®çš„ä¸»æœºé€šä¿¡æ—¶ï¼Œç½‘å…³RTAä¼šä»é…ç½®çš„å…¬ç½‘åœ°å€æ± ä¸­é€‰æ‹©ä¸€ä¸ªæœªä½¿ç”¨çš„å…¬ç½‘åœ°å€ä¸ä¹‹åšæ˜ å°„ã€‚æ¯å°ä¸»æœºéƒ½ä¼šåˆ†é…åˆ°åœ°å€æ± ä¸­çš„ä¸€ä¸ªå”¯ä¸€åœ°å€ã€‚å½“ä¸éœ€è¦æ­¤è¿æ¥æ—¶ï¼Œå¯¹åº”çš„åœ°å€æ˜ å°„å°†ä¼šè¢«åˆ é™¤ï¼Œå…¬ç½‘åœ°å€ä¹Ÿä¼šè¢«æ¢å¤åˆ°åœ°å€æ± ä¸­å¾…ç”¨ã€‚å½“ç½‘å…³æ”¶åˆ°å›å¤æŠ¥æ–‡åï¼Œä¼šæ ¹æ®ä¹‹å‰çš„æ˜ å°„å†æ¬¡è¿›è¡Œè½¬æ¢ä¹‹åè½¬å‘ç»™å¯¹åº”ä¸»æœºã€‚<br> åŠ¨æ€NATåœ°å€æ± ä¸­çš„åœ°å€ç”¨å°½ä»¥åï¼Œåªèƒ½ç­‰å¾…è¢«å ç”¨çš„å…¬ç”¨IPè¢«é‡Šæ”¾åï¼Œå…¶ä»–ä¸»æœºæ‰èƒ½ä½¿ç”¨å®ƒæ¥è®¿é—®å…¬ç½‘ã€‚<br><img src="/wsq-blog/assets/7-2-IUx_W91c.png" alt="" loading="lazy"></p><p>åŠ¨æ€NATåŸºäºåœ°å€æ± æ¥å®ç°ç§æœ‰åœ°å€å’Œå…¬æœ‰åœ°å€çš„è½¬æ¢ã€‚</p><h3 id="é™æ€naté…ç½®" tabindex="-1"><a class="header-anchor" href="#é™æ€naté…ç½®"><span>é™æ€NATé…ç½®</span></a></h3><p><code>nat static global { global-address} inside {host-address }</code> å‘½ä»¤ç”¨äºåˆ›å»ºé™æ€NATã€‚<br> globalå‚æ•°ç”¨äºé…ç½®å¤–éƒ¨å…¬ç½‘åœ°å€ã€‚<br> insideå‚æ•°ç”¨äºé…ç½®å†…éƒ¨ç§æœ‰åœ°å€ã€‚</p><figure><img src="/wsq-blog/assets/7-3-CMRHZMmp.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[RTA]interface GigabitEthernet0/0/1</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA-GigabitEthernet0/0/1]ip address 192.168.1.254 24</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA-GigabitEthernet0/0/1]interface Serial1/0/0</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA-Serial1/0/0]ip address 200.10.10.2 24</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA-Serial1/0/0]nat static global 202.10.10.1 inside 192.168.1.1</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA-Serial1/0/0]nat static global 202.10.10.2 inside 192.168.1.2</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA]display nat static </span></span>
<span class="line"><span style="color:#FFB757;">  Static</span><span style="color:#ADDCFF;"> Nat</span><span style="color:#ADDCFF;"> Information:</span></span>
<span class="line"><span style="color:#FFB757;">  Interface</span><span style="color:#ADDCFF;">  :</span><span style="color:#ADDCFF;"> Serial1/0/0</span></span>
<span class="line"><span style="color:#FFB757;">    Global</span><span style="color:#ADDCFF;"> IP/Port</span><span style="color:#ADDCFF;">     :</span><span style="color:#ADDCFF;"> 202.10.10.1/----</span><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#FFB757;">    Inside</span><span style="color:#ADDCFF;"> IP/Port</span><span style="color:#ADDCFF;">     :</span><span style="color:#ADDCFF;"> 192.168.1.1/----</span></span>
<span class="line"><span style="color:#FFB757;">â€¦â€¦</span></span>
<span class="line"><span style="color:#FFB757;"> Global</span><span style="color:#ADDCFF;"> IP/Port</span><span style="color:#ADDCFF;">     :</span><span style="color:#ADDCFF;"> 202.10.10.2/----</span><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#FFB757;">    Inside</span><span style="color:#ADDCFF;"> IP/Port</span><span style="color:#ADDCFF;">     :</span><span style="color:#ADDCFF;"> 192.168.1.2/----</span></span>
<span class="line"><span style="color:#FFB757;">â€¦â€¦</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFB757;">  Total</span><span style="color:#ADDCFF;"> :</span><span style="color:#91CBFF;">    2</span></span></code></pre></div><p>å‘½ä»¤display nat staticç”¨äºæŸ¥çœ‹é™æ€NATçš„é…ç½®ã€‚<br> Global IP/Portè¡¨ç¤ºå…¬ç½‘åœ°å€å’ŒæœåŠ¡ç«¯å£å·ã€‚<br> Inside IP/Portè¡¨ç¤ºç§æœ‰åœ°å€å’ŒæœåŠ¡ç«¯å£å·ã€‚</p><h3 id="åŠ¨æ€naté…ç½®" tabindex="-1"><a class="header-anchor" href="#åŠ¨æ€naté…ç½®"><span>åŠ¨æ€NATé…ç½®</span></a></h3><p>nat outboundå‘½ä»¤ç”¨æ¥å°†ä¸€ä¸ªè®¿é—®æ§åˆ¶åˆ—è¡¨ACLå’Œä¸€ä¸ªåœ°å€æ± å…³è”èµ·æ¥ï¼Œè¡¨ç¤ºACLä¸­è§„å®šçš„åœ°å€å¯ä»¥ä½¿ç”¨åœ°å€æ± è¿›è¡Œåœ°å€è½¬æ¢ã€‚ACLç”¨äºæŒ‡å®šä¸€ä¸ªè§„åˆ™ï¼Œç”¨æ¥è¿‡æ»¤ç‰¹å®šæµé‡ã€‚åç»­å°†ä¼šä»‹ç»æœ‰å…³ACLçš„è¯¦ç»†ä¿¡æ¯ã€‚<br> nat address-groupå‘½ä»¤ç”¨æ¥é…ç½®NATåœ°å€æ± ã€‚<br> æœ¬ç¤ºä¾‹ä¸­ä½¿ç”¨nat outboundå‘½ä»¤å°†ACL 2000ä¸å¾…è½¬æ¢çš„192.168.1.0/24ç½‘æ®µçš„æµé‡å…³è”èµ·æ¥ï¼Œå¹¶ä½¿ç”¨åœ°å€æ± 1ï¼ˆaddress-group 1ï¼‰ä¸­çš„åœ°å€è¿›è¡Œåœ°å€è½¬æ¢ã€‚no-patè¡¨ç¤ºåªè½¬æ¢æ•°æ®æŠ¥æ–‡çš„åœ°å€è€Œä¸è½¬æ¢ç«¯å£ä¿¡æ¯ã€‚</p><figure><img src="/wsq-blog/assets/7-4-NKo-_zk1.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[RTA]nat address-group 1 200.10.10.1 200.10.10.200 </span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA]acl 2000</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA-acl-basic-2000]rule 5 permit source 192.168.1.0 0.0.0.255</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA-acl-basic-2000]quit</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA]interface serial1/0/0</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA-Serial1/0/0]nat outbound 2000 address-group 1 no-pat</span></span>
<span class="line"><span style="color:#F0F3F6;">[RTA]display nat address-group 1</span></span>
<span class="line"><span style="color:#FFB757;"> NAT</span><span style="color:#ADDCFF;"> Address-Group</span><span style="color:#ADDCFF;"> Information:</span></span>
<span class="line"><span style="color:#FFB757;"> --------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;"> Index</span><span style="color:#ADDCFF;">   Start-address</span><span style="color:#ADDCFF;">      End-address</span></span>
<span class="line"><span style="color:#FFB757;"> 1</span><span style="color:#91CBFF;">       200.10.10.1</span><span style="color:#91CBFF;">        200.10.10.200</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">[RTA]display nat outbound </span></span>
<span class="line"><span style="color:#FFB757;"> NAT</span><span style="color:#ADDCFF;"> Outbound</span><span style="color:#ADDCFF;"> Information:</span></span>
<span class="line"><span style="color:#FFB757;"> ----------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;"> Interface</span><span style="color:#ADDCFF;">          Acl</span><span style="color:#ADDCFF;">     Address-group/IP/Interface</span><span style="color:#ADDCFF;">      Type</span></span>
<span class="line"><span style="color:#FFB757;"> ----------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;"> Serial1/0/0</span><span style="color:#91CBFF;">       2000</span><span style="color:#91CBFF;">                        1</span><span style="color:#ADDCFF;">         no-pat</span></span>
<span class="line"><span style="color:#FFB757;"> ----------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">  Total</span><span style="color:#ADDCFF;"> :</span><span style="color:#91CBFF;"> 1</span></span></code></pre></div><p>display nat address-group group-indexå‘½ä»¤ç”¨æ¥æŸ¥çœ‹NATåœ°å€æ± é…ç½®ä¿¡æ¯ã€‚<br> å‘½ä»¤display nat outboundç”¨æ¥æŸ¥çœ‹åŠ¨æ€NATé…ç½®ä¿¡æ¯ã€‚<br> å¯ä»¥ç”¨è¿™ä¸¤æ¡å‘½ä»¤éªŒè¯åŠ¨æ€NATçš„è¯¦ç»†é…ç½®ã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼ŒæŒ‡å®šæ¥å£Serial 1/0/0ä¸ACLå…³è”åœ¨ä¸€èµ·ï¼Œå¹¶å®šä¹‰äº†ç”¨äºåœ°å€è½¬æ¢çš„åœ°å€æ± 1ã€‚å‚æ•°no-patè¯´æ˜æ²¡æœ‰è¿›è¡Œç«¯å£åœ°å€è½¬æ¢ã€‚</p><h2 id="vlanåŸç†å’Œé…ç½®" tabindex="-1"><a class="header-anchor" href="#vlanåŸç†å’Œé…ç½®"><span>VLANåŸç†å’Œé…ç½®</span></a></h2><p>VLANï¼ˆVirtual Local Area Networkï¼‰å³è™šæ‹Ÿå±€åŸŸç½‘ï¼Œæ˜¯å°†ä¸€ä¸ªç‰©ç†çš„å±€åŸŸç½‘åœ¨é€»è¾‘ä¸Šåˆ’åˆ†æˆå¤šä¸ªå¹¿æ’­åŸŸçš„æŠ€æœ¯ã€‚é€šè¿‡åœ¨äº¤æ¢æœºä¸Šé…ç½®VLANï¼Œå¯ä»¥å®ç°åœ¨åŒä¸€ä¸ªVLANå†…çš„ç”¨æˆ·å¯ä»¥è¿›è¡ŒäºŒå±‚äº’è®¿ï¼Œè€Œä¸åŒVLANé—´çš„ç”¨æˆ·è¢«äºŒå±‚éš”ç¦»ã€‚è¿™æ ·æ—¢èƒ½å¤Ÿéš”ç¦»å¹¿æ’­åŸŸï¼Œåˆèƒ½å¤Ÿæå‡ç½‘ç»œçš„å®‰å…¨æ€§ã€‚</p><h3 id="ä¼ ç»Ÿä»¥å¤ªç½‘" tabindex="-1"><a class="header-anchor" href="#ä¼ ç»Ÿä»¥å¤ªç½‘"><span>ä¼ ç»Ÿä»¥å¤ªç½‘</span></a></h3><p>æ—©æœŸçš„å±€åŸŸç½‘LANæŠ€æœ¯æ˜¯åŸºäºæ€»çº¿å‹ç»“æ„çš„ï¼Œå®ƒå­˜åœ¨ä»¥ä¸‹ä¸»è¦é—®é¢˜ï¼š<br> è‹¥æŸæ—¶åˆ»æœ‰å¤šä¸ªèŠ‚ç‚¹åŒæ—¶è¯•å›¾å‘é€æ¶ˆæ¯ï¼Œé‚£ä¹ˆå®ƒä»¬å°†äº§ç”Ÿå†²çªã€‚<br> ä»ä»»æ„èŠ‚ç‚¹å‘å‡ºçš„æ¶ˆæ¯éƒ½ä¼šè¢«å‘é€åˆ°å…¶ä»–èŠ‚ç‚¹ï¼Œå½¢æˆå¹¿æ’­ã€‚<br> æ‰€æœ‰ä¸»æœºå…±äº«ä¸€æ¡ä¼ è¾“é€šé“ï¼Œæ— æ³•æ§åˆ¶ç½‘ç»œä¸­çš„ä¿¡æ¯å®‰å…¨ã€‚<br> è¿™ç§ç½‘ç»œæ„æˆäº†ä¸€ä¸ªå†²çªåŸŸï¼Œç½‘ç»œä¸­è®¡ç®—æœºæ•°é‡è¶Šå¤šï¼Œå†²çªè¶Šä¸¥é‡ï¼Œç½‘ç»œæ•ˆç‡è¶Šä½ã€‚åŒæ—¶ï¼Œè¯¥ç½‘ç»œä¹Ÿæ˜¯ä¸€ä¸ªå¹¿æ’­åŸŸï¼Œå½“ç½‘ç»œä¸­å‘é€ä¿¡æ¯çš„è®¡ç®—æœºæ•°é‡è¶Šå¤šæ—¶ï¼Œå¹¿æ’­æµé‡å°†ä¼šè€—è´¹å¤§é‡å¸¦å®½ã€‚<br> å› æ­¤ï¼Œä¼ ç»Ÿå±€åŸŸç½‘ä¸ä»…é¢ä¸´å†²çªåŸŸå¤ªå¤§å’Œå¹¿æ’­åŸŸå¤ªå¤§ä¸¤å¤§éš¾é¢˜ï¼Œè€Œä¸”æ— æ³•ä¿éšœä¼ è¾“ä¿¡æ¯çš„å®‰å…¨ã€‚<br> ä¸ºäº†æ‰©å±•ä¼ ç»ŸLANï¼Œä»¥æ¥å…¥æ›´å¤šè®¡ç®—æœºï¼ŒåŒæ—¶é¿å…å†²çªçš„æ¶åŒ–ï¼Œå‡ºç°äº†ç½‘æ¡¥å’ŒäºŒå±‚äº¤æ¢æœºï¼Œå®ƒä»¬èƒ½æœ‰æ•ˆéš”ç¦»å†²çªåŸŸã€‚ç½‘æ¡¥å’Œäº¤æ¢æœºé‡‡ç”¨äº¤æ¢æ–¹å¼å°†æ¥è‡ªå…¥ç«¯å£çš„ä¿¡æ¯è½¬å‘åˆ°å‡ºç«¯å£ä¸Šï¼Œå…‹æœäº†å…±äº«ç½‘ç»œä¸­çš„å†²çªé—®é¢˜ã€‚ä½†æ˜¯ï¼Œé‡‡ç”¨äº¤æ¢æœºè¿›è¡Œç»„ç½‘æ—¶ï¼Œå¹¿æ’­åŸŸå’Œä¿¡æ¯å®‰å…¨é—®é¢˜ä¾æ—§å­˜åœ¨ã€‚<br> ä¸ºé™åˆ¶å¹¿æ’­åŸŸçš„èŒƒå›´ï¼Œå‡å°‘å¹¿æ’­æµé‡ï¼Œéœ€è¦åœ¨æ²¡æœ‰äºŒå±‚äº’è®¿éœ€æ±‚çš„ä¸»æœºä¹‹é—´è¿›è¡Œéš”ç¦»ã€‚è·¯ç”±å™¨æ˜¯åŸºäºä¸‰å±‚IPåœ°å€ä¿¡æ¯æ¥é€‰æ‹©è·¯ç”±å’Œè½¬å‘æ•°æ®çš„ï¼Œå…¶è¿æ¥ä¸¤ä¸ªç½‘æ®µæ—¶å¯ä»¥æœ‰æ•ˆæŠ‘åˆ¶å¹¿æ’­æŠ¥æ–‡çš„è½¬å‘ï¼Œä½†æˆæœ¬è¾ƒé«˜ã€‚å› æ­¤ï¼Œäººä»¬è®¾æƒ³åœ¨ç‰©ç†å±€åŸŸç½‘ä¸Šæ„å»ºå¤šä¸ªé€»è¾‘å±€åŸŸç½‘ï¼Œå³VLANã€‚</p><h3 id="vlanæŠ€æœ¯" tabindex="-1"><a class="header-anchor" href="#vlanæŠ€æœ¯"><span>VLANæŠ€æœ¯</span></a></h3><p>VLANæŠ€æœ¯å¯ä»¥å°†ä¸€ä¸ªç‰©ç†å±€åŸŸç½‘åœ¨é€»è¾‘ä¸Šåˆ’åˆ†æˆå¤šä¸ªå¹¿æ’­åŸŸï¼Œä¹Ÿå°±æ˜¯å¤šä¸ªVLANã€‚VLANæŠ€æœ¯éƒ¨ç½²åœ¨æ•°æ®é“¾è·¯å±‚ï¼Œç”¨äºéš”ç¦»äºŒå±‚æµé‡ã€‚åŒä¸€ä¸ªVLANå†…çš„ä¸»æœºå…±äº«åŒä¸€ä¸ªå¹¿æ’­åŸŸï¼Œå®ƒä»¬ä¹‹é—´å¯ä»¥ç›´æ¥è¿›è¡ŒäºŒå±‚é€šä¿¡ã€‚è€ŒVLANé—´çš„ä¸»æœºå±äºä¸åŒçš„å¹¿æ’­åŸŸï¼Œä¸èƒ½ç›´æ¥å®ç°äºŒå±‚äº’é€šã€‚è¿™æ ·ï¼Œå¹¿æ’­æŠ¥æ–‡å°±è¢«é™åˆ¶åœ¨å„ä¸ªç›¸åº”çš„VLANå†…ï¼ŒåŒæ—¶ä¹Ÿæé«˜äº†ç½‘ç»œå®‰å…¨æ€§ã€‚<br> æœ¬ä¾‹ä¸­ï¼ŒåŸæœ¬å±äºåŒä¸€å¹¿æ’­åŸŸçš„ä¸»æœºè¢«åˆ’åˆ†åˆ°äº†ä¸¤ä¸ªVLANä¸­ï¼Œå³ï¼ŒVLAN1å’ŒVLAN2ã€‚VLANå†…éƒ¨çš„ä¸»æœºå¯ä»¥ç›´æ¥åœ¨äºŒå±‚äº’ç›¸é€šä¿¡ï¼ŒVLAN1å’ŒVLAN2ä¹‹é—´çš„ä¸»æœºæ— æ³•ç›´æ¥å®ç°äºŒå±‚é€šä¿¡ã€‚</p><h3 id="é“¾è·¯ç±»å‹" tabindex="-1"><a class="header-anchor" href="#é“¾è·¯ç±»å‹"><span>é“¾è·¯ç±»å‹</span></a></h3><p>VLANé“¾è·¯åˆ†ä¸ºä¸¤ç§ç±»å‹ï¼šAccessé“¾è·¯å’ŒTrunké“¾è·¯ã€‚<br> æ¥å…¥é“¾è·¯ï¼ˆAccess Linkï¼‰ï¼šè¿æ¥ç”¨æˆ·ä¸»æœºå’Œäº¤æ¢æœºçš„é“¾è·¯ç§°ä¸ºæ¥å…¥é“¾è·¯ã€‚å¦‚æœ¬ä¾‹æ‰€ç¤ºï¼Œå›¾ä¸­ä¸»æœºå’Œäº¤æ¢æœºä¹‹é—´çš„é“¾è·¯éƒ½æ˜¯æ¥å…¥é“¾è·¯ã€‚<br> å¹²é“é“¾è·¯ï¼ˆTrunk Linkï¼‰ï¼šè¿æ¥äº¤æ¢æœºå’Œäº¤æ¢æœºçš„é“¾è·¯ç§°ä¸ºå¹²é“é“¾è·¯ã€‚å¦‚æœ¬ä¾‹æ‰€ç¤ºï¼Œå›¾ä¸­äº¤æ¢æœºä¹‹é—´çš„é“¾è·¯éƒ½æ˜¯å¹²é“é“¾è·¯ã€‚å¹²é“é“¾è·¯ä¸Šé€šè¿‡çš„å¸§ä¸€èˆ¬ä¸ºå¸¦Tagçš„VLANå¸§ã€‚</p><figure><img src="/wsq-blog/assets/8-1-22Qf40la.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>ç”¨æˆ·ä¸»æœºå’Œäº¤æ¢æœºä¹‹é—´çš„é“¾è·¯ä¸ºæ¥å…¥é“¾è·¯ï¼Œäº¤æ¢æœºä¸äº¤æ¢æœºä¹‹é—´çš„é“¾è·¯ä¸ºå¹²é“é“¾è·¯ã€‚</p><h3 id="vlanå¸§æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#vlanå¸§æ ¼å¼"><span>VLANå¸§æ ¼å¼</span></a></h3><p>VLANæ ‡ç­¾é•¿4ä¸ªå­—èŠ‚ï¼Œç›´æ¥æ·»åŠ åœ¨ä»¥å¤ªç½‘å¸§å¤´ä¸­ï¼ŒIEEE802.1Qæ–‡æ¡£å¯¹VLANæ ‡ç­¾ä½œå‡ºäº†è¯´æ˜ã€‚<br> TPIDï¼šTag Protocol Identifierï¼Œ2å­—èŠ‚ï¼Œå›ºå®šå–å€¼ï¼Œ0x8100ï¼Œæ˜¯IEEEå®šä¹‰çš„æ–°ç±»å‹ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ªæºå¸¦802.1Qæ ‡ç­¾çš„å¸§ã€‚å¦‚æœä¸æ”¯æŒ802.1Qçš„è®¾å¤‡æ”¶åˆ°è¿™æ ·çš„å¸§ï¼Œä¼šå°†å…¶ä¸¢å¼ƒã€‚<br> TCIï¼šTag Control Informationï¼Œ2å­—èŠ‚ã€‚å¸§çš„æ§åˆ¶ä¿¡æ¯ï¼Œè¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š</p><ul><li>Priorityï¼š3æ¯”ç‰¹ï¼Œè¡¨ç¤ºå¸§çš„ä¼˜å…ˆçº§ï¼Œå–å€¼èŒƒå›´ä¸º0ï½7ï¼Œå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ã€‚å½“äº¤æ¢æœºé˜»å¡æ—¶ï¼Œä¼˜å…ˆå‘é€ä¼˜å…ˆçº§é«˜çš„æ•°æ®å¸§ã€‚</li><li>CFIï¼šCanonical Format Indicatorï¼Œ1æ¯”ç‰¹ã€‚CFIè¡¨ç¤ºMACåœ°å€æ˜¯å¦æ˜¯ç»å…¸æ ¼å¼ã€‚CFIä¸º0è¯´æ˜æ˜¯ç»å…¸æ ¼å¼ï¼ŒCFIä¸º1è¡¨ç¤ºä¸ºéç»å…¸æ ¼å¼ã€‚ç”¨äºåŒºåˆ†ä»¥å¤ªç½‘å¸§ã€FDDIï¼ˆFiber Distributed Digital Interfaceï¼‰å¸§å’Œä»¤ç‰Œç¯ç½‘å¸§ã€‚åœ¨ä»¥å¤ªç½‘ä¸­ï¼ŒCFIçš„å€¼ä¸º0ã€‚</li><li>VLAN Identifierï¼šVLAN IDï¼Œ12æ¯”ç‰¹ï¼Œåœ¨X7ç³»åˆ—äº¤æ¢æœºä¸­ï¼Œå¯é…ç½®çš„VLAN IDå–å€¼èŒƒå›´ä¸º0ï½4095ï¼Œä½†æ˜¯0å’Œ4095åœ¨åè®®ä¸­è§„å®šä¸ºä¿ç•™çš„VLAN IDï¼Œä¸èƒ½ç»™ç”¨æˆ·ä½¿ç”¨ã€‚</li></ul><p>åœ¨ç°æœ‰çš„äº¤æ¢ç½‘ç»œç¯å¢ƒä¸­ï¼Œä»¥å¤ªç½‘çš„å¸§æœ‰ä¸¤ç§æ ¼å¼ï¼šæ²¡æœ‰åŠ ä¸ŠVLANæ ‡è®°çš„æ ‡å‡†ä»¥å¤ªç½‘å¸§ï¼ˆuntagged frameï¼‰ï¼›æœ‰VLANæ ‡è®°çš„ä»¥å¤ªç½‘å¸§ï¼ˆtagged frameï¼‰ã€‚</p><figure><img src="/wsq-blog/assets/8-2-h1rdCwGy.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>é€šè¿‡TagåŒºåˆ†ä¸åŒVLANã€‚</p><h3 id="pvid" tabindex="-1"><a class="header-anchor" href="#pvid"><span>PVID</span></a></h3><p>PVIDå³Port VLAN IDï¼Œä»£è¡¨ç«¯å£çš„ç¼ºçœVLANã€‚äº¤æ¢æœºä»å¯¹ç«¯è®¾å¤‡æ”¶åˆ°çš„å¸§æœ‰å¯èƒ½æ˜¯Untaggedçš„æ•°æ®å¸§ï¼Œä½†æ‰€æœ‰ä»¥å¤ªç½‘å¸§åœ¨äº¤æ¢æœºä¸­éƒ½æ˜¯ä»¥Taggedçš„å½¢å¼æ¥è¢«å¤„ç†å’Œè½¬å‘çš„ï¼Œå› æ­¤äº¤æ¢æœºå¿…é¡»ç»™ç«¯å£æ”¶åˆ°çš„Untaggedæ•°æ®å¸§æ·»åŠ ä¸ŠTagã€‚ä¸ºäº†å®ç°æ­¤ç›®çš„ï¼Œå¿…é¡»ä¸ºäº¤æ¢æœºé…ç½®ç«¯å£çš„ç¼ºçœVLANã€‚å½“è¯¥ç«¯å£æ”¶åˆ°Untaggedæ•°æ®å¸§æ—¶ï¼Œäº¤æ¢æœºå°†ç»™å®ƒåŠ ä¸Šè¯¥ç¼ºçœVLANçš„VLAN Tagã€‚</p><figure><img src="/wsq-blog/assets/8-3-805uvuPO.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>PVIDè¡¨ç¤ºç«¯å£åœ¨ç¼ºçœæƒ…å†µä¸‹æ‰€å±çš„VLANã€‚<br> ç¼ºçœæƒ…å†µä¸‹ï¼ŒX7ç³»åˆ—äº¤æ¢æœºæ¯ä¸ªç«¯å£çš„PVIDæ˜¯1ã€‚</p><h3 id="ç«¯å£ç±»å‹â€“-access" tabindex="-1"><a class="header-anchor" href="#ç«¯å£ç±»å‹â€“-access"><span>ç«¯å£ç±»å‹â€“ Access</span></a></h3><p>Accessç«¯å£æ˜¯äº¤æ¢æœºä¸Šç”¨æ¥è¿æ¥ç”¨æˆ·ä¸»æœºçš„ç«¯å£ï¼Œå®ƒåªèƒ½è¿æ¥æ¥å…¥é“¾è·¯ï¼Œå¹¶ä¸”åªèƒ½å…è®¸å”¯ä¸€çš„VLAN IDé€šè¿‡æœ¬ç«¯å£ã€‚</p><p>Accessç«¯å£æ”¶å‘æ•°æ®å¸§çš„è§„åˆ™å¦‚ä¸‹ï¼š<br> å¦‚æœè¯¥ç«¯å£æ”¶åˆ°å¯¹ç«¯è®¾å¤‡å‘é€çš„å¸§æ˜¯untaggedï¼ˆä¸å¸¦VLANæ ‡ç­¾ï¼‰ï¼Œäº¤æ¢æœºå°†å¼ºåˆ¶åŠ ä¸Šè¯¥ç«¯å£çš„PVIDã€‚å¦‚æœè¯¥ç«¯å£æ”¶åˆ°å¯¹ç«¯è®¾å¤‡å‘é€çš„å¸§æ˜¯taggedï¼ˆå¸¦VLANæ ‡ç­¾ï¼‰ï¼Œäº¤æ¢æœºä¼šæ£€æŸ¥è¯¥æ ‡ç­¾å†…çš„VLAN IDã€‚å½“VLAN IDä¸è¯¥ç«¯å£çš„PVIDç›¸åŒæ—¶ï¼Œæ¥æ”¶è¯¥æŠ¥æ–‡ã€‚å½“VLAN IDä¸è¯¥ç«¯å£çš„PVIDä¸åŒæ—¶ï¼Œä¸¢å¼ƒè¯¥æŠ¥æ–‡ã€‚<br> Accessç«¯å£å‘é€æ•°æ®å¸§æ—¶ï¼Œæ€»æ˜¯å…ˆå‰¥ç¦»å¸§çš„Tagï¼Œç„¶åå†å‘é€ã€‚Accessç«¯å£å‘å¾€å¯¹ç«¯è®¾å¤‡çš„ä»¥å¤ªç½‘å¸§æ°¸è¿œæ˜¯ä¸å¸¦æ ‡ç­¾çš„å¸§ã€‚<br> åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œäº¤æ¢æœºçš„G0/0/1ï¼ŒG0/0/2ï¼ŒG0/0/3ç«¯å£åˆ†åˆ«è¿æ¥ä¸‰å°ä¸»æœºï¼Œéƒ½é…ç½®ä¸ºAccessç«¯å£ã€‚ä¸»æœºAæŠŠæ•°æ®å¸§ï¼ˆæœªåŠ æ ‡ç­¾ï¼‰å‘é€åˆ°äº¤æ¢æœºçš„G0/0/1ç«¯å£ï¼Œå†ç”±äº¤æ¢æœºå‘å¾€å…¶ä»–ç›®çš„åœ°ã€‚æ”¶åˆ°æ•°æ®å¸§ä¹‹åï¼Œäº¤æ¢æœºæ ¹æ®ç«¯å£çš„PVIDç»™æ•°æ®å¸§æ‰“ä¸ŠVLANæ ‡ç­¾10ï¼Œç„¶åå†³å®šä»G0/0/3ç«¯å£è½¬å‘æ•°æ®å¸§ã€‚G0/0/3ç«¯å£çš„PVIDä¹Ÿæ˜¯10ï¼Œä¸VLANæ ‡ç­¾ä¸­çš„VLAN IDç›¸åŒï¼Œäº¤æ¢æœºç§»é™¤æ ‡ç­¾ï¼ŒæŠŠæ•°æ®å¸§å‘é€åˆ°ä¸»æœºCã€‚è¿æ¥ä¸»æœºBçš„ç«¯å£çš„PVIDæ˜¯2ï¼Œä¸VLAN10ä¸å±äºåŒä¸€ä¸ªVLANï¼Œå› æ­¤æ­¤ç«¯å£ä¸ä¼šæ¥æ”¶åˆ°VLAN10çš„æ•°æ®å¸§ã€‚</p><figure><img src="/wsq-blog/assets/8-4-Cq8NzT5j.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Accessç«¯å£åœ¨æ”¶åˆ°æ•°æ®åä¼šæ·»åŠ VLAN Tagï¼ŒVLAN IDå’Œç«¯å£çš„PVIDç›¸åŒã€‚<br> Accessç«¯å£åœ¨è½¬å‘æ•°æ®å‰ä¼šç§»é™¤VLAN Tagã€‚</p><h3 id="ç«¯å£ç±»å‹â€“trunk" tabindex="-1"><a class="header-anchor" href="#ç«¯å£ç±»å‹â€“trunk"><span>ç«¯å£ç±»å‹â€“Trunk</span></a></h3><p>Trunkç«¯å£æ˜¯äº¤æ¢æœºä¸Šç”¨æ¥å’Œå…¶ä»–äº¤æ¢æœºè¿æ¥çš„ç«¯å£ï¼Œå®ƒåªèƒ½è¿æ¥å¹²é“é“¾è·¯ã€‚Trunkç«¯å£å…è®¸å¤šä¸ªVLANçš„å¸§ï¼ˆå¸¦Tagæ ‡è®°ï¼‰é€šè¿‡ã€‚</p><p>Trunkç«¯å£æ”¶å‘æ•°æ®å¸§çš„è§„åˆ™å¦‚ä¸‹ï¼š</p><ol><li>å½“æ¥æ”¶åˆ°å¯¹ç«¯è®¾å¤‡å‘é€çš„ä¸å¸¦Tagçš„æ•°æ®å¸§æ—¶ï¼Œä¼šæ·»åŠ è¯¥ç«¯å£çš„PVIDï¼Œå¦‚æœPVIDåœ¨å…è®¸é€šè¿‡çš„VLAN IDåˆ—è¡¨ä¸­ï¼Œåˆ™æ¥æ”¶è¯¥æŠ¥æ–‡ï¼Œå¦åˆ™ä¸¢å¼ƒè¯¥æŠ¥æ–‡ã€‚å½“æ¥æ”¶åˆ°å¯¹ç«¯è®¾å¤‡å‘é€çš„å¸¦Tagçš„æ•°æ®å¸§æ—¶ï¼Œæ£€æŸ¥VLAN IDæ˜¯å¦åœ¨å…è®¸é€šè¿‡çš„VLAN IDåˆ—è¡¨ä¸­ã€‚å¦‚æœVLAN IDåœ¨æ¥å£å…è®¸é€šè¿‡çš„VLAN IDåˆ—è¡¨ä¸­ï¼Œåˆ™æ¥æ”¶è¯¥æŠ¥æ–‡ã€‚å¦åˆ™ä¸¢å¼ƒè¯¥æŠ¥æ–‡ã€‚</li><li>ç«¯å£å‘é€æ•°æ®å¸§æ—¶ï¼Œå½“VLAN IDä¸ç«¯å£çš„PVIDç›¸åŒï¼Œä¸”æ˜¯è¯¥ç«¯å£å…è®¸é€šè¿‡çš„VLAN IDæ—¶ï¼Œå»æ‰Tagï¼Œå‘é€è¯¥æŠ¥æ–‡ã€‚å½“VLAN IDä¸ç«¯å£çš„PVIDä¸åŒï¼Œä¸”æ˜¯è¯¥ç«¯å£å…è®¸é€šè¿‡çš„VLAN IDæ—¶ï¼Œä¿æŒåŸæœ‰Tagï¼Œå‘é€è¯¥æŠ¥æ–‡ã€‚</li></ol><p>åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼ŒSWAå’ŒSWBè¿æ¥ä¸»æœºçš„ç«¯å£ä¸ºAccessç«¯å£ï¼ŒPVIDå¦‚å›¾æ‰€ç¤ºã€‚SWAå’ŒSWBäº’è¿çš„ç«¯å£ä¸ºTrunkç«¯å£ï¼ŒPVIDéƒ½ä¸º1ï¼Œæ­¤Trunké“¾è·¯å…è®¸æ‰€æœ‰VLANçš„æµé‡é€šè¿‡ã€‚å½“SWAè½¬å‘VLAN1çš„æ•°æ®å¸§æ—¶ä¼šå‰¥ç¦»VLANæ ‡ç­¾ï¼Œç„¶åå‘é€åˆ°Trunké“¾è·¯ä¸Šã€‚è€Œåœ¨è½¬å‘VLAN20çš„æ•°æ®å¸§æ—¶ï¼Œä¸å‰¥ç¦»VLANæ ‡ç­¾ç›´æ¥è½¬å‘åˆ°Trunké“¾è·¯ä¸Šã€‚</p><figure><img src="/wsq-blog/assets/8-5-CvOMtg0f.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>å½“Trunkç«¯å£æ”¶åˆ°å¸§æ—¶ï¼Œå¦‚æœè¯¥å¸§ä¸åŒ…å«Tagï¼Œå°†æ‰“ä¸Šç«¯å£çš„PVIDï¼›å¦‚æœè¯¥å¸§åŒ…å«Tagï¼Œåˆ™ä¸æ”¹å˜ã€‚<br> å½“Trunkç«¯å£å‘é€å¸§æ—¶ï¼Œè¯¥å¸§çš„VLAN IDåœ¨Trunkçš„å…è®¸å‘é€åˆ—è¡¨ä¸­ï¼šè‹¥ä¸ç«¯å£çš„PVIDç›¸åŒæ—¶ï¼Œåˆ™å‰¥ç¦»Tagå‘é€ï¼›è‹¥ä¸ç«¯å£çš„PVIDä¸åŒæ—¶ï¼Œåˆ™ç›´æ¥å‘é€ã€‚</p><h3 id="ç«¯å£ç±»å‹-hybrid" tabindex="-1"><a class="header-anchor" href="#ç«¯å£ç±»å‹-hybrid"><span>ç«¯å£ç±»å‹-Hybrid</span></a></h3><p>Accessç«¯å£å‘å¾€å…¶ä»–è®¾å¤‡çš„æŠ¥æ–‡ï¼Œéƒ½æ˜¯Untaggedæ•°æ®å¸§ï¼Œè€ŒTrunkç«¯å£ä»…åœ¨ä¸€ç§ç‰¹å®šæƒ…å†µä¸‹æ‰èƒ½å‘å‡ºuntaggedæ•°æ®å¸§ï¼Œå…¶å®ƒæƒ…å†µå‘å‡ºçš„éƒ½æ˜¯Taggedæ•°æ®å¸§ã€‚</p><p>Hybridç«¯å£æ˜¯äº¤æ¢æœºä¸Šæ—¢å¯ä»¥è¿æ¥ç”¨æˆ·ä¸»æœºï¼Œåˆå¯ä»¥è¿æ¥å…¶ä»–äº¤æ¢æœºçš„ç«¯å£ã€‚Hybridç«¯å£æ—¢å¯ä»¥è¿æ¥æ¥å…¥é“¾è·¯åˆå¯ä»¥è¿æ¥å¹²é“é“¾è·¯ã€‚Hybridç«¯å£å…è®¸å¤šä¸ªVLANçš„å¸§é€šè¿‡ï¼Œå¹¶å¯ä»¥åœ¨å‡ºç«¯å£æ–¹å‘å°†æŸäº›VLANå¸§çš„Tagå‰¥æ‰ã€‚åä¸ºè®¾å¤‡é»˜è®¤çš„ç«¯å£ç±»å‹æ˜¯Hybridã€‚<br> åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œè¦æ±‚ä¸»æœºAå’Œä¸»æœºBéƒ½èƒ½è®¿é—®æœåŠ¡å™¨ï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´ä¸èƒ½äº’ç›¸è®¿é—®ã€‚æ­¤æ—¶äº¤æ¢æœºè¿æ¥ä¸»æœºå’ŒæœåŠ¡å™¨çš„ç«¯å£ï¼Œä»¥åŠäº¤æ¢æœºäº’è¿çš„ç«¯å£éƒ½é…ç½®ä¸ºHybridç±»å‹ã€‚äº¤æ¢æœºè¿æ¥ä¸»æœºAçš„ç«¯å£çš„PVIDæ˜¯2ï¼Œè¿æ¥ä¸»æœºBçš„ç«¯å£çš„PVIDæ˜¯3ï¼Œè¿æ¥æœåŠ¡å™¨çš„ç«¯å£çš„PVIDæ˜¯100ã€‚</p><figure><img src="/wsq-blog/assets/8-6-Dz2G0tPF.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Hybridç«¯å£æ—¢å¯ä»¥è¿æ¥ä¸»æœºï¼Œåˆå¯ä»¥è¿æ¥äº¤æ¢æœºã€‚<br> Hybridç«¯å£å¯ä»¥ä»¥Tagged æˆ–Untaggedæ–¹å¼åŠ å…¥VLAN ã€‚</p><figure><img src="/wsq-blog/assets/8-7-D-6HghsF.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Hybridç«¯å£æ”¶å‘æ•°æ®å¸§çš„è§„åˆ™å¦‚ä¸‹ï¼š<br> å½“æ¥æ”¶åˆ°å¯¹ç«¯è®¾å¤‡å‘é€çš„ä¸å¸¦Tagçš„æ•°æ®å¸§æ—¶ï¼Œä¼šæ·»åŠ è¯¥ç«¯å£çš„PVIDï¼Œå¦‚æœPVIDåœ¨å…è®¸é€šè¿‡çš„VLAN IDåˆ—è¡¨ä¸­ï¼Œåˆ™æ¥æ”¶è¯¥æŠ¥æ–‡ï¼Œå¦åˆ™ä¸¢å¼ƒè¯¥æŠ¥æ–‡ã€‚å½“æ¥æ”¶åˆ°å¯¹ç«¯è®¾å¤‡å‘é€çš„å¸¦Tagçš„æ•°æ®å¸§æ—¶ï¼Œæ£€æŸ¥VLAN IDæ˜¯å¦åœ¨å…è®¸é€šè¿‡çš„VLAN IDåˆ—è¡¨ä¸­ã€‚å¦‚æœVLAN IDåœ¨æ¥å£å…è®¸é€šè¿‡çš„VLAN IDåˆ—è¡¨ä¸­ï¼Œåˆ™æ¥æ”¶è¯¥æŠ¥æ–‡ï¼Œå¦åˆ™ä¸¢å¼ƒè¯¥æŠ¥æ–‡ã€‚<br> Hybridç«¯å£å‘é€æ•°æ®å¸§æ—¶ï¼Œå°†æ£€æŸ¥è¯¥æ¥å£æ˜¯å¦å…è®¸è¯¥VLANæ•°æ®å¸§é€šè¿‡ã€‚å¦‚æœå…è®¸é€šè¿‡ï¼Œåˆ™å¯ä»¥é€šè¿‡å‘½ä»¤é…ç½®å‘é€æ—¶æ˜¯å¦æºå¸¦Tagã€‚<br> é…ç½®port hybrid tagged vlan vlan-idå‘½ä»¤åï¼Œæ¥å£å‘é€è¯¥vlan-idçš„æ•°æ®å¸§æ—¶ï¼Œä¸å‰¥ç¦»å¸§ä¸­çš„VLAN Tagï¼Œç›´æ¥å‘é€ã€‚è¯¥å‘½ä»¤ä¸€èˆ¬é…ç½®åœ¨è¿æ¥äº¤æ¢æœºçš„ç«¯å£ä¸Šã€‚<br> é…ç½®port hybrid untagged vlan vlan-idå‘½ä»¤åï¼Œæ¥å£åœ¨å‘é€vlan-idçš„æ•°æ®å¸§æ—¶ï¼Œä¼šå°†å¸§ä¸­çš„VLAN Tagå‰¥ç¦»æ‰å†å‘é€å‡ºå»ã€‚è¯¥å‘½ä»¤ä¸€èˆ¬é…ç½®åœ¨è¿æ¥ä¸»æœºçš„ç«¯å£ä¸Šã€‚<br> æœ¬ä¾‹ä»‹ç»äº†ä¸»æœºAå’Œä¸»æœºBå‘é€æ•°æ®ç»™æœåŠ¡å™¨çš„æƒ…å†µã€‚åœ¨SWAå’ŒSWBäº’è¿çš„ç«¯å£ä¸Šé…ç½®äº†port hybrid tagged vlan 2 3 100å‘½ä»¤åï¼ŒSWAå’ŒSWBä¹‹é—´çš„é“¾è·¯ä¸Šä¼ è¾“çš„éƒ½æ˜¯å¸¦Tagæ ‡ç­¾çš„æ•°æ®å¸§ã€‚åœ¨SWBè¿æ¥æœåŠ¡å™¨çš„ç«¯å£ä¸Šé…ç½®äº†port hybrid untagged vlan 2 3ï¼Œä¸»æœºAå’Œä¸»æœºBå‘é€çš„æ•°æ®ä¼šè¢«å‰¥ç¦»VLANæ ‡ç­¾åè½¬å‘åˆ°æœåŠ¡å™¨ã€‚</p><h3 id="vlanç«¯å£ç±»å‹æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#vlanç«¯å£ç±»å‹æ€»ç»“"><span>VLANç«¯å£ç±»å‹æ€»ç»“</span></a></h3><figure><img src="/wsq-blog/assets/8-8-D3OdSg9n.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="vlanåˆ’åˆ†æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#vlanåˆ’åˆ†æ–¹æ³•"><span>VLANåˆ’åˆ†æ–¹æ³•</span></a></h3><p>VLANçš„åˆ’åˆ†åŒ…æ‹¬å¦‚ä¸‹5ç§æ–¹æ³•ï¼š</p><ul><li>åŸºäºç«¯å£åˆ’åˆ†ï¼šæ ¹æ®äº¤æ¢æœºçš„ç«¯å£ç¼–å·æ¥åˆ’åˆ†VLANã€‚é€šè¿‡ä¸ºäº¤æ¢æœºçš„æ¯ä¸ªç«¯å£é…ç½®ä¸åŒçš„PVIDï¼Œæ¥å°†ä¸åŒç«¯å£åˆ’åˆ†åˆ°VLANä¸­ã€‚åˆå§‹æƒ…å†µä¸‹ï¼ŒX7ç³»åˆ—äº¤æ¢æœºçš„ç«¯å£å¤„äºVLAN1ä¸­ã€‚æ­¤æ–¹æ³•é…ç½®ç®€å•ï¼Œä½†æ˜¯å½“ä¸»æœºç§»åŠ¨ä½ç½®æ—¶ï¼Œéœ€è¦é‡æ–°é…ç½®VLANã€‚</li><li>åŸºäºMACåœ°å€åˆ’åˆ†ï¼šæ ¹æ®ä¸»æœºç½‘å¡çš„MACåœ°å€åˆ’åˆ†VLANã€‚æ­¤åˆ’åˆ†æ–¹æ³•éœ€è¦ç½‘ç»œç®¡ç†å‘˜æå‰é…ç½®ç½‘ç»œä¸­çš„ä¸»æœºMACåœ°å€å’ŒVLAN IDçš„æ˜ å°„å…³ç³»ã€‚å¦‚æœäº¤æ¢æœºæ”¶åˆ°ä¸å¸¦æ ‡ç­¾çš„æ•°æ®å¸§ï¼Œä¼šæŸ¥æ‰¾ä¹‹å‰é…ç½®çš„MACåœ°å€å’ŒVLANæ˜ å°„è¡¨ï¼Œæ ¹æ®æ•°æ®å¸§ä¸­æºå¸¦çš„MACåœ°å€æ¥æ·»åŠ ç›¸åº”çš„VLANæ ‡ç­¾ã€‚åœ¨ä½¿ç”¨æ­¤æ–¹æ³•é…ç½®VLANæ—¶ï¼Œå³ä½¿ä¸»æœºç§»åŠ¨ä½ç½®ä¹Ÿä¸éœ€è¦é‡æ–°é…ç½®VLANã€‚</li><li>åŸºäºIPå­ç½‘åˆ’åˆ†ï¼šäº¤æ¢æœºåœ¨æ”¶åˆ°ä¸å¸¦æ ‡ç­¾çš„æ•°æ®å¸§æ—¶ï¼Œæ ¹æ®æŠ¥æ–‡æºå¸¦çš„IPåœ°å€ç»™æ•°æ®å¸§æ·»åŠ VLANæ ‡ç­¾ã€‚</li><li>åŸºäºåè®®åˆ’åˆ†ï¼šæ ¹æ®æ•°æ®å¸§çš„åè®®ç±»å‹ï¼ˆæˆ–åè®®æ—ç±»å‹ï¼‰ã€å°è£…æ ¼å¼æ¥åˆ†é…VLAN IDã€‚ç½‘ç»œç®¡ç†å‘˜éœ€è¦é¦–å…ˆé…ç½®åè®®ç±»å‹å’ŒVLAN IDä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚</li><li>åŸºäºç­–ç•¥åˆ’åˆ†ï¼šä½¿ç”¨å‡ ä¸ªæ¡ä»¶çš„ç»„åˆæ¥åˆ†é…VLANæ ‡ç­¾ã€‚è¿™äº›æ¡ä»¶åŒ…æ‹¬IPå­ç½‘ã€ç«¯å£å’ŒIPåœ°å€ç­‰ã€‚åªæœ‰å½“æ‰€æœ‰æ¡ä»¶éƒ½åŒ¹é…æ—¶ï¼Œäº¤æ¢æœºæ‰ä¸ºæ•°æ®å¸§æ·»åŠ VLANæ ‡ç­¾ã€‚å¦å¤–ï¼Œé’ˆå¯¹æ¯ä¸€æ¡ç­–ç•¥éƒ½æ˜¯éœ€è¦æ‰‹å·¥é…ç½®çš„ã€‚</li></ul><figure><img src="/wsq-blog/assets/8-9-Bb43hGM3.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><table><thead><tr><th>åˆ’åˆ†æ–¹æ³•</th><th>VLAN5</th><th>VLAN10</th></tr></thead><tbody><tr><td>åŸºäºç«¯å£</td><td>G0/0/1, G0/0/7</td><td>G0/0/2 G0/0/9</td></tr><tr><td>åŸºäºMACåœ°å€</td><td>00-01-02-03-04-AA,00-01-02-03-04-CC</td><td>00-01-02-03-04-BB, 00-01-02-03-04-DD</td></tr><tr><td>åŸºäºIPå­ç½‘åˆ’åˆ†</td><td>10.0.1.*</td><td>10.0.2.*</td></tr><tr><td>åŸºäºåè®®åˆ’åˆ†</td><td>IP</td><td>IPX</td></tr><tr><td>åŸºäºç­–ç•¥</td><td>10.0.1.* + G0/0/1+ 00-01-02-03-04-AA</td><td>10.0.2.* + G0/0/2 + 00-01-02-03-04-BB</td></tr></tbody></table><p>åŸºäºç«¯å£çš„VLANåˆ’åˆ†æ–¹æ³•åœ¨å®é™…ä¸­æœ€ä¸ºå¸¸è§ã€‚</p><h3 id="vlané…ç½®" tabindex="-1"><a class="header-anchor" href="#vlané…ç½®"><span>VLANé…ç½®</span></a></h3><p>åœ¨äº¤æ¢æœºä¸Šåˆ’åˆ†VLANæ—¶ï¼Œéœ€è¦é¦–å…ˆåˆ›å»ºVLANã€‚åœ¨äº¤æ¢æœºä¸Šæ‰§è¡Œ<code>vlan &lt;vlan-id&gt;</code>å‘½ä»¤ï¼Œåˆ›å»ºVLANã€‚å¦‚æœ¬ä¾‹æ‰€ç¤ºï¼Œæ‰§è¡Œvlan 10å‘½ä»¤åï¼Œå°±åˆ›å»ºäº†VLAN 10ï¼Œå¹¶è¿›å…¥äº†VLAN 10è§†å›¾ã€‚VLAN IDçš„å–å€¼èŒƒå›´æ˜¯1åˆ°4094ã€‚å¦‚éœ€åˆ›å»ºå¤šä¸ªVLANï¼Œå¯ä»¥åœ¨äº¤æ¢æœºä¸Šæ‰§è¡Œ<code>vlan batch { vlan-id1 [ to vlan-id2 ] }</code>å‘½ä»¤ï¼Œä»¥åˆ›å»ºå¤šä¸ªè¿ç»­çš„VLANã€‚ä¹Ÿå¯ä»¥æ‰§è¡Œ<code>vlan batch { vlan-id1 vlan-id2 }</code>å‘½ä»¤ï¼Œåˆ›å»ºå¤šä¸ªä¸è¿ç»­çš„VLANï¼ŒVLANå·ä¹‹é—´éœ€è¦æœ‰ç©ºæ ¼ã€‚</p><figure><img src="/wsq-blog/assets/8-10-CMo4v3AI.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[SWA]vlan 10</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-vlan10]quit</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA]vlan batch 2 to 3</span></span>
<span class="line"><span style="color:#FFB757;">Info:</span><span style="color:#ADDCFF;"> This</span><span style="color:#ADDCFF;"> operation</span><span style="color:#ADDCFF;"> may</span><span style="color:#ADDCFF;"> take</span><span style="color:#ADDCFF;"> a</span><span style="color:#ADDCFF;"> few</span><span style="color:#ADDCFF;"> seconds.</span><span style="color:#ADDCFF;"> Please</span><span style="color:#ADDCFF;"> wait</span><span style="color:#ADDCFF;"> for</span><span style="color:#ADDCFF;"> a</span><span style="color:#ADDCFF;"> moment...done.</span><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA]display vlan</span></span>
<span class="line"><span style="color:#FFB757;">The</span><span style="color:#ADDCFF;"> total</span><span style="color:#ADDCFF;"> number</span><span style="color:#ADDCFF;"> of</span><span style="color:#ADDCFF;"> vlans</span><span style="color:#ADDCFF;"> is</span><span style="color:#ADDCFF;"> :</span><span style="color:#91CBFF;"> 4</span></span>
<span class="line"><span style="color:#FFB757;">------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">U:Up</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">D:Down</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">TG:Tagged</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">UT:Untagged</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">MP:Vlan-mapping</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">ST:Vlan-stacking</span><span style="color:#F0F3F6;">; </span><span style="color:#BDC4CC;">#: ProtocolTransparent-vlan; *:Management-vlan;</span></span>
<span class="line"><span style="color:#FFB757;">--------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">VID</span><span style="color:#ADDCFF;">  Type</span><span style="color:#ADDCFF;">    Ports</span><span style="color:#F0F3F6;">                                                          </span></span>
<span class="line"><span style="color:#FFB757;">--------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">1</span><span style="color:#ADDCFF;">    common</span><span style="color:#ADDCFF;">  UT:GE0/0/1</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">) </span><span style="color:#ADDCFF;">â€¦â€¦</span></span>
<span class="line"><span style="color:#FFB757;">2</span><span style="color:#ADDCFF;">    common</span><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#FFB757;">3</span><span style="color:#ADDCFF;">    common</span><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#FFB757;">  common</span><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#FFB757;">â€¦â€¦</span></span></code></pre></div><p>åˆ›å»ºVLANåï¼Œå¯ä»¥æ‰§è¡Œdisplay vlanå‘½ä»¤éªŒè¯é…ç½®ç»“æœã€‚å¦‚æœä¸æŒ‡å®šä»»ä½•å‚æ•°ï¼Œåˆ™è¯¥å‘½ä»¤å°†æ˜¾ç¤ºæ‰€æœ‰VLANçš„ç®€è¦ä¿¡æ¯ã€‚<br> æ‰§è¡Œ<code>display vlan [ vlan-id [ verbose ] ]</code>å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹æŒ‡å®šVLANçš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬VLAN IDã€ç±»å‹ã€æè¿°ã€VLANçš„çŠ¶æ€ã€VLANä¸­çš„ç«¯å£ã€ä»¥åŠVLANä¸­ç«¯å£çš„æ¨¡å¼ç­‰ã€‚<br> æ‰§è¡Œdisplay vlan vlan-id statisticså‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹æŒ‡å®šVLANä¸­çš„æµé‡ç»Ÿè®¡ä¿¡æ¯ã€‚<br> æ‰§è¡Œdisplay vlan summaryå‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰VLANçš„æ±‡æ€»ä¿¡æ¯ã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[SWA]interface GigabitEthernet 0/0/5</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/5]port link-type access</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/5]interface GigabitEthernet 0/0/7</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/7]port link-type access</span></span></code></pre></div><p>åä¸ºX7ç³»åˆ—äº¤æ¢æœºä¸Šï¼Œé»˜è®¤çš„ç«¯å£ç±»å‹æ˜¯hybridã€‚<br> é…ç½®ç«¯å£ç±»å‹çš„å‘½ä»¤æ˜¯<code>port link-type &lt;type&gt;</code>ï¼Œtypeå¯ä»¥é…ç½®ä¸ºAccessï¼ŒTrunkæˆ–Hybridã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæŸ¥çœ‹ç«¯å£é…ç½®æ—¶æ²¡æœ‰å‘ç°ç«¯å£ç±»å‹ä¿¡æ¯ï¼Œè¯´æ˜ç«¯å£ä½¿ç”¨äº†é»˜è®¤çš„hybridç«¯å£é“¾è·¯ç±»å‹ã€‚å½“ä¿®æ”¹ç«¯å£ç±»å‹æ—¶ï¼Œå¿…é¡»å…ˆæ¢å¤ç«¯å£çš„é»˜è®¤VLANé…ç½®ï¼Œä½¿ç«¯å£å±äºç¼ºçœçš„VLAN 1ã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[SWA]vlan 2</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-vlan2]port GigabitEthernet 0/0/7</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-vlan2]quit</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA]interface GigabitEthernet0/0/5 </span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/5]port default vlan 3</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA]display vlan</span></span>
<span class="line"><span style="color:#FFB757;">The</span><span style="color:#ADDCFF;"> total</span><span style="color:#ADDCFF;"> number</span><span style="color:#ADDCFF;"> of</span><span style="color:#ADDCFF;"> vlans</span><span style="color:#ADDCFF;"> is</span><span style="color:#ADDCFF;"> :</span><span style="color:#91CBFF;"> 4</span></span>
<span class="line"><span style="color:#FFB757;">------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">U:Up</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">D:Down</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">TG:Tagged</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">UT:Untagged</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">MP:Vlan-mapping</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">ST:Vlan-stacking</span><span style="color:#F0F3F6;">; </span><span style="color:#BDC4CC;">#: ProtocolTransparent-vlan; *:Management-vlan;</span></span>
<span class="line"><span style="color:#FFB757;">--------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">VID</span><span style="color:#ADDCFF;">  Type</span><span style="color:#ADDCFF;">    Ports</span><span style="color:#F0F3F6;">                                                          </span></span>
<span class="line"><span style="color:#FFB757;">--------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">1</span><span style="color:#ADDCFF;">    common</span><span style="color:#ADDCFF;">  UT:GE0/0/1</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">) </span><span style="color:#ADDCFF;">â€¦â€¦</span></span>
<span class="line"><span style="color:#FFB757;">2</span><span style="color:#ADDCFF;">    common</span><span style="color:#ADDCFF;">  UT:GE0/0/7</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">)                                                      </span></span>
<span class="line"><span style="color:#FFB757;">  common</span><span style="color:#ADDCFF;">  UT:GE0/0/5</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">) </span></span>
<span class="line"><span style="color:#FFB757;">10</span><span style="color:#ADDCFF;">   common</span><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#FFB757;">â€¦â€¦</span></span></code></pre></div><p>å¯ä»¥ä½¿ç”¨ä¸¤ç§æ–¹æ³•æŠŠç«¯å£åŠ å…¥åˆ°VLANã€‚<br> ç¬¬ä¸€ç§æ–¹æ³•æ˜¯è¿›å…¥åˆ°VLANè§†å›¾ï¼Œæ‰§è¡Œ<code>port &lt;interface&gt;</code>å‘½ä»¤ï¼ŒæŠŠç«¯å£åŠ å…¥VLANã€‚<br> ç¬¬äºŒç§æ–¹æ³•æ˜¯è¿›å…¥åˆ°æ¥å£è§†å›¾ï¼Œæ‰§è¡Œ<code>port default &lt;vlan-id&gt;</code>å‘½ä»¤ï¼ŒæŠŠç«¯å£åŠ å…¥VLANã€‚vlan-idæ˜¯æŒ‡ç«¯å£è¦åŠ å…¥çš„VLANã€‚</p><p>æ‰§è¡Œdisplay vlanå‘½ä»¤ï¼Œå¯ä»¥ç¡®è®¤ç«¯å£æ˜¯å¦å·²ç»åŠ å…¥åˆ°VLANä¸­ã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œç«¯å£GigabitEthernet0/0/5å’ŒGigabitEthernet0/0/7åˆ†åˆ«åŠ å…¥äº†VLAN 3å’ŒVLAN 2ã€‚UTè¡¨æ˜è¯¥ç«¯å£å‘é€æ•°æ®å¸§æ—¶ï¼Œä¼šå‰¥ç¦»VLANæ ‡ç­¾ï¼Œå³æ­¤ç«¯å£æ˜¯ä¸€ä¸ªAccessç«¯å£æˆ–ä¸å¸¦æ ‡ç­¾çš„Hybridç«¯å£ã€‚Uæˆ–Dåˆ†åˆ«è¡¨ç¤ºé“¾è·¯å½“å‰æ˜¯UpçŠ¶æ€æˆ–DownçŠ¶æ€ã€‚</p><figure><img src="/wsq-blog/assets/8-11-BvoYiI14.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/1]port link-type trunk</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/1]port trunk allow-pass vlan 2 3</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/1]port trunk pvid vlan 1</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA]display vlan</span></span>
<span class="line"><span style="color:#FFB757;">The</span><span style="color:#ADDCFF;"> total</span><span style="color:#ADDCFF;"> number</span><span style="color:#ADDCFF;"> of</span><span style="color:#ADDCFF;"> vlans</span><span style="color:#ADDCFF;"> is</span><span style="color:#ADDCFF;"> :</span><span style="color:#91CBFF;"> 4</span></span>
<span class="line"><span style="color:#FFB757;">------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">U:Up</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">D:Down</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">TG:Tagged</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">UT:Untagged</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">MP:Vlan-mapping</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">ST:Vlan-stacking</span><span style="color:#F0F3F6;">; </span><span style="color:#BDC4CC;">#: ProtocolTransparent-vlan; *:Management-vlan;</span></span>
<span class="line"><span style="color:#FFB757;">--------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">VID</span><span style="color:#ADDCFF;">  Type</span><span style="color:#ADDCFF;">    Ports</span><span style="color:#F0F3F6;">                                                          </span></span>
<span class="line"><span style="color:#FFB757;">--------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">1</span><span style="color:#ADDCFF;">    common</span><span style="color:#ADDCFF;">  UT:GE0/0/1</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">) </span><span style="color:#ADDCFF;">â€¦â€¦</span></span>
<span class="line"><span style="color:#FFB757;">2</span><span style="color:#ADDCFF;">    common</span><span style="color:#ADDCFF;">  UT:GE0/0/7</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">D</span><span style="color:#F0F3F6;">) </span><span style="color:#ADDCFF;">TG:GE0/0/1</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">)                                                     </span></span>
<span class="line"><span style="color:#FFB757;">  common</span><span style="color:#ADDCFF;">  UT:GE0/0/5</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">) </span><span style="color:#ADDCFF;">TG:GE0/0/1</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">)</span></span>
<span class="line"><span style="color:#FFB757;">10</span><span style="color:#ADDCFF;">   common</span><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#FFB757;">â€¦â€¦</span></span></code></pre></div><p>é…ç½®Trunkæ—¶ï¼Œåº”å…ˆä½¿ç”¨port link-type trunkå‘½ä»¤ä¿®æ”¹ç«¯å£çš„ç±»å‹ä¸ºTrunkï¼Œç„¶åå†é…ç½®Trunkç«¯å£å…è®¸å“ªäº›VLANçš„æ•°æ®å¸§é€šè¿‡ã€‚æ‰§è¡Œ<code>port trunk allow-pass vlan { { vlan-id1 [ to vlan-id2 ] } | all }</code>å‘½ä»¤ï¼Œå¯ä»¥é…ç½®ç«¯å£å…è®¸çš„VLANï¼Œallè¡¨ç¤ºå…è®¸æ‰€æœ‰VLANçš„æ•°æ®å¸§é€šè¿‡ã€‚<br> æ‰§è¡Œport trunk pvid vlan vlan-idå‘½ä»¤ï¼Œå¯ä»¥ä¿®æ”¹Trunkç«¯å£çš„PVIDã€‚ä¿®æ”¹Trunkç«¯å£çš„PVIDä¹‹åï¼Œéœ€è¦æ³¨æ„ï¼šç¼ºçœVLANä¸ä¸€å®šæ˜¯ç«¯å£å…è®¸é€šè¿‡çš„VLANã€‚åªæœ‰ä½¿ç”¨å‘½ä»¤<code>port trunk allow-pass vlan { { vlan-id1 [ to vlan-id2 ] } | all }</code>å…è®¸ç¼ºçœVLANæ•°æ®é€šè¿‡ï¼Œæ‰èƒ½è½¬å‘ç¼ºçœVLANçš„æ•°æ®å¸§ã€‚äº¤æ¢æœºçš„æ‰€æœ‰ç«¯å£é»˜è®¤å…è®¸VLAN1çš„æ•°æ®é€šè¿‡ã€‚<br> åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œå°†SWAçš„G0/0/1ç«¯å£é…ç½®ä¸ºTrunkç«¯å£ï¼Œè¯¥ç«¯å£PVIDé»˜è®¤ä¸º1ã€‚é…ç½®port trunk allow-pass vlan 2 3å‘½ä»¤ä¹‹åï¼Œè¯¥Trunkå…è®¸VLAN 2å’ŒVLAN 3çš„æ•°æ®æµé‡é€šè¿‡ã€‚</p><p>æ‰§è¡Œdisplay vlanå‘½ä»¤å¯ä»¥æŸ¥çœ‹ä¿®æ”¹åçš„é…ç½®ã€‚TGè¡¨æ˜è¯¥ç«¯å£åœ¨è½¬å‘å¯¹åº”VLANçš„æ•°æ®å¸§æ—¶ï¼Œä¸ä¼šå‰¥ç¦»æ ‡ç­¾ï¼Œç›´æ¥è¿›è¡Œè½¬å‘ï¼Œè¯¥ç«¯å£å¯ä»¥æ˜¯Trunkç«¯å£æˆ–å¸¦æ ‡ç­¾çš„Hybridç«¯å£ã€‚æœ¬ç¤ºä¾‹ä¸­ï¼ŒGigabitEthernet0/0/1åœ¨è½¬å‘VLAN 2å’ŒVLAN3çš„æµé‡æ—¶ï¼Œä¸å‰¥ç¦»æ ‡ç­¾ï¼Œç›´æ¥è½¬å‘ã€‚</p><figure><img src="/wsq-blog/assets/8-12-CuSeSnk4.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/1]port link-type hybrid</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/1]port hybrid tagged vlan 2 3 100</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/2]port hybrid pvid vlan 2</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/2]port hybrid untagged vlan 2 100</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/3]port hybrid pvid vlan 3</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA-GigabitEthernet0/0/3]port hybrid untagged vlan 3 100</span></span></code></pre></div><p>port link-type hybridå‘½ä»¤çš„ä½œç”¨æ˜¯å°†ç«¯å£çš„ç±»å‹é…ç½®ä¸ºHybridã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒX7ç³»åˆ—äº¤æ¢æœºçš„ç«¯å£ç±»å‹æ˜¯Hybridã€‚å› æ­¤ï¼Œåªæœ‰åœ¨æŠŠAccesså£æˆ–Trunkå£é…ç½®æˆHybridæ—¶ï¼Œæ‰éœ€è¦æ‰§è¡Œæ­¤å‘½ä»¤ã€‚<br><code>port hybrid tagged vlan{ { vlan-id1 [ to vlan-id2 ] } | all }</code>å‘½ä»¤ç”¨æ¥é…ç½®å…è®¸å“ªäº›VLANçš„æ•°æ®å¸§ä»¥Taggedæ–¹å¼é€šè¿‡è¯¥ç«¯å£ã€‚<br><code>port hybrid untagged vlan { { vlan-id1 [ to vlan-id2 ] } | all }</code>å‘½ä»¤ç”¨æ¥é…ç½®å…è®¸å“ªäº›VLANçš„æ•°æ®å¸§ä»¥Untaggedæ–¹å¼é€šè¿‡è¯¥ç«¯å£ã€‚<br> åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œè¦æ±‚ä¸»æœºAå’Œä¸»æœºBéƒ½èƒ½è®¿é—®æœåŠ¡å™¨ï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´ä¸èƒ½äº’ç›¸è®¿é—®ã€‚æ­¤æ—¶é€šè¿‡å‘½ä»¤port link-type hybridé…ç½®äº¤æ¢æœºè¿æ¥ä¸»æœºå’ŒæœåŠ¡å™¨çš„ç«¯å£ï¼Œä»¥åŠäº¤æ¢æœºäº’è¿çš„ç«¯å£éƒ½ä¸ºHybridç±»å‹ã€‚é€šè¿‡å‘½ä»¤port hybrid pvid vlan 2é…ç½®äº¤æ¢æœºè¿æ¥ä¸»æœºAçš„ç«¯å£çš„PVIDæ˜¯2ã€‚ç±»ä¼¼åœ°ï¼Œè¿æ¥ä¸»æœºBçš„ç«¯å£çš„PVIDæ˜¯3ï¼Œè¿æ¥æœåŠ¡å™¨çš„ç«¯å£çš„PVIDæ˜¯100ã€‚<br> é€šè¿‡åœ¨G0/0/1ç«¯å£ä¸‹ä½¿ç”¨å‘½ä»¤port hybrid tagged vlan 2 3 100ï¼Œé…ç½®VLAN2,VLAN3å’ŒVLAN100çš„æ•°æ®å¸§åœ¨é€šè¿‡è¯¥ç«¯å£æ—¶éƒ½æºå¸¦æ ‡ç­¾ã€‚åœ¨G0/0/2ç«¯å£ä¸‹ä½¿ç”¨å‘½ä»¤port hybrid untagged vlan 2 100ï¼Œé…ç½®VLAN2å’ŒVLAN100çš„æ•°æ®å¸§åœ¨é€šè¿‡è¯¥ç«¯å£æ—¶éƒ½ä¸æºå¸¦æ ‡ç­¾ã€‚åœ¨G0/0/3ç«¯å£ä¸‹ä½¿ç”¨å‘½ä»¤port hybrid untagged vlan 3 100ï¼Œé…ç½®VLAN3å’ŒVLAN100çš„æ•°æ®å¸§åœ¨é€šè¿‡è¯¥ç«¯å£æ—¶éƒ½ä¸æºå¸¦æ ‡ç­¾ã€‚</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[SWB-GigabitEthernet0/0/1]port link-type hybrid</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWB-GigabitEthernet0/0/1]port hybrid tagged vlan 2 3 100</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWB-GigabitEthernet0/0/2]port hybrid pvid vlan 100</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWB-GigabitEthernet0/0/2]port hybrid untagged vlan 2 3 100</span></span>
<span class="line"><span style="color:#F0F3F6;">[SWA]display vlan</span></span>
<span class="line"><span style="color:#FFB757;">The</span><span style="color:#ADDCFF;"> total</span><span style="color:#ADDCFF;"> number</span><span style="color:#ADDCFF;"> of</span><span style="color:#ADDCFF;"> vlans</span><span style="color:#ADDCFF;"> is</span><span style="color:#ADDCFF;"> :</span><span style="color:#91CBFF;"> 4</span></span>
<span class="line"><span style="color:#FFB757;">------------------------------------------------------------</span></span>
<span class="line"><span style="color:#FFB757;">U:Up</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">D:Down</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">TG:Tagged</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">UT:Untagged</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">MP:Vlan-mapping</span><span style="color:#F0F3F6;">; </span><span style="color:#FFB757;">ST:Vlan-stacking</span><span style="color:#F0F3F6;">; </span><span style="color:#BDC4CC;">#: ProtocolTransparent-vlan; *:Management-vlan;</span></span>
<span class="line"><span style="color:#FFB757;">1</span><span style="color:#ADDCFF;">   common</span><span style="color:#ADDCFF;">   UT:GE0/0/1</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">)</span><span style="color:#ADDCFF;">â€¦â€¦</span></span>
<span class="line"><span style="color:#FFB757;">2</span><span style="color:#ADDCFF;">   common</span><span style="color:#ADDCFF;">   UT:GE0/0/2</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">)            </span></span>
<span class="line"><span style="color:#FFB757;">             TG:GE0/0/1(U</span><span style="color:#F0F3F6;">)            </span></span>
<span class="line"><span style="color:#FFB757;">3</span><span style="color:#ADDCFF;">   common</span><span style="color:#ADDCFF;">   UT:GE0/0/3</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">)            </span></span>
<span class="line"><span style="color:#FFB757;">             TG:GE0/0/1(U</span><span style="color:#F0F3F6;">)            </span></span>
<span class="line"><span style="color:#FFB757;">100</span><span style="color:#ADDCFF;">  common</span><span style="color:#ADDCFF;">  UT:GE0/0/2</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">)      </span><span style="color:#ADDCFF;">GE0/0/3</span><span style="color:#F0F3F6;">(</span><span style="color:#FFB757;">U</span><span style="color:#F0F3F6;">)                                      </span></span>
<span class="line"><span style="color:#FFB757;">             TG:GE0/0/1(U</span><span style="color:#F0F3F6;">)</span></span></code></pre></div><p>åœ¨SWBä¸Šç»§ç»­è¿›è¡Œé…ç½®ï¼Œåœ¨G0/0/1ç«¯å£ä¸‹ä½¿ç”¨å‘½ä»¤port link-type hybridé…ç½®ç«¯å£ç±»å‹ä¸ºHybridã€‚<br> åœ¨G0/0/1ç«¯å£ä¸‹ä½¿ç”¨å‘½ä»¤port hybrid tagged vlan 2 3 100ï¼Œé…ç½®VLAN2ï¼ŒVLAN3å’ŒVLAN100çš„æ•°æ®å¸§åœ¨é€šè¿‡è¯¥ç«¯å£æ—¶éƒ½æºå¸¦æ ‡ç­¾ã€‚<br> åœ¨G0/0/2ç«¯å£ä¸‹ä½¿ç”¨å‘½ä»¤port hybrid untagged vlan 2 3 100ï¼Œé…ç½®VLAN2ï¼ŒVLAN3å’ŒVLAN100çš„æ•°æ®å¸§åœ¨é€šè¿‡è¯¥ç«¯å£æ—¶éƒ½ä¸æºå¸¦æ ‡ç­¾ã€‚</p><p>åœ¨SWAä¸Šæ‰§è¡Œdisplay vlanå‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹hybridç«¯å£çš„é…ç½®ã€‚åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼ŒGigabitEthernet 0/0/2åœ¨å‘é€VLAN2å’ŒVLAN100çš„æ•°æ®å¸§æ—¶ä¼šå‰¥ç¦»æ ‡ç­¾ã€‚GigabitEthernet 0/0/3åœ¨å‘é€VLAN3å’ŒVLAN100çš„æ•°æ®å¸§æ—¶ä¼šå‰¥ç¦»æ ‡ç­¾ã€‚GigabitEthernet 0/0/1å…è®¸VLAN 2ï¼ŒVLAN 3å’ŒVLAN 100çš„å¸¦æ ‡ç­¾çš„æ•°æ®å¸§é€šè¿‡ã€‚æ­¤é…ç½®æ»¡è¶³äº†å¤šä¸ªVLANå¯ä»¥è®¿é—®ç‰¹å®šVLANï¼Œè€Œå…¶ä»–VLANé—´ä¸å…è®¸äº’ç›¸è®¿é—®çš„éœ€æ±‚ã€‚</p></div><!----><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="vp-meta-info" data-allow-mismatch="text">2025/5/7 05:36:04</span></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 592786982@qq.com">WSQ</span><!--]--><!--]--></div></div></footer><!----><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:none;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--[--><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/wsq-blog/assets/app-BAoNGAQX.js" defer></script>
  </body>
</html>
