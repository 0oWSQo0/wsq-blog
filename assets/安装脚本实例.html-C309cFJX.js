import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as n,d as l,o as p}from"./app-CRBxQhNH.js";const o={};function e(t,s){return p(),n("div",null,s[0]||(s[0]=[l(`<h2 id="jdk安装脚本" tabindex="-1"><a class="header-anchor" href="#jdk安装脚本"><span>jdk安装脚本</span></a></h2><p>ubuntu20.04 验证通过。</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;"># 请将下载的jdk-xxx-linux-xxx.tar.gz包与此脚本放置到同一目录</span></span>
<span class="line"><span style="color:#BDC4CC;"># 授予此脚本可执行权限(chmod +x install_jdk.sh)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">jdk_path</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">/usr/local/java</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9492;">if</span><span style="color:#F0F3F6;"> [ </span><span style="color:#FF9492;">!</span><span style="color:#FF9492;"> -d</span><span style="color:#ADDCFF;"> &quot;</span><span style="color:#F0F3F6;">$jdk_path</span><span style="color:#ADDCFF;">&quot;</span><span style="color:#F0F3F6;"> ]; </span><span style="color:#FF9492;">then</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;正在创建</span><span style="color:#F0F3F6;">$jdk_path目录</span><span style="color:#ADDCFF;">&quot;</span></span>
<span class="line"><span style="color:#FFB757;">  mkdir</span><span style="color:#F0F3F6;"> $jdk_path</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;目录</span><span style="color:#F0F3F6;">$jdk_path创建成功</span><span style="color:#ADDCFF;">&quot;</span></span>
<span class="line"><span style="color:#FF9492;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">jdk_file</span><span style="color:#FF9492;">=</span><span style="color:#F0F3F6;">$(</span><span style="color:#FFB757;">ls</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> grep</span><span style="color:#ADDCFF;"> jdk-</span><span style="color:#91CBFF;">*</span><span style="color:#ADDCFF;">-linux-</span><span style="color:#91CBFF;">*</span><span style="color:#ADDCFF;">.tar.gz</span><span style="color:#F0F3F6;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9492;">if</span><span style="color:#F0F3F6;"> [ </span><span style="color:#FF9492;">-f</span><span style="color:#ADDCFF;"> &quot;</span><span style="color:#F0F3F6;">$jdk_file</span><span style="color:#ADDCFF;">&quot;</span><span style="color:#F0F3F6;"> ]; </span><span style="color:#FF9492;">then</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;正在解压JDK...&quot;</span></span>
<span class="line"><span style="color:#FFB757;">  tar</span><span style="color:#91CBFF;"> -zxf</span><span style="color:#F0F3F6;"> $jdk_file </span><span style="color:#91CBFF;">-C</span><span style="color:#F0F3F6;"> $jdk_path</span></span>
<span class="line"><span style="color:#F0F3F6;">  jdk_dirname</span><span style="color:#FF9492;">=</span><span style="color:#F0F3F6;">$(</span><span style="color:#FFB757;">ls</span><span style="color:#F0F3F6;"> $jdk_path)</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;解压JDK成功&quot;</span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;配置环境变量&quot;</span></span>
<span class="line"><span style="color:#FFB757;">  cp</span><span style="color:#ADDCFF;"> /etc/profile</span><span style="color:#ADDCFF;"> /etc/profile.bak</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;export JAVA_HOME=</span><span style="color:#F0F3F6;">$jdk_path</span><span style="color:#ADDCFF;">/</span><span style="color:#F0F3F6;">$jdk_dirname</span><span style="color:#ADDCFF;">&quot;</span><span style="color:#FF9492;"> &gt;&gt;</span><span style="color:#ADDCFF;"> /etc/profile</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;export JRE_HOME=</span><span style="color:#FF9492;">\\$</span><span style="color:#ADDCFF;">{JAVA_HOME}/jre&quot;</span><span style="color:#FF9492;"> &gt;&gt;</span><span style="color:#ADDCFF;"> /etc/profile</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;export CLASSPATH=.:</span><span style="color:#FF9492;">\\$</span><span style="color:#ADDCFF;">{JAVA_HOME}/lib:</span><span style="color:#FF9492;">\\$</span><span style="color:#ADDCFF;">{JRE_HOME}/lib&quot;</span><span style="color:#FF9492;"> &gt;&gt;</span><span style="color:#ADDCFF;"> /etc/profile</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;export PATH=</span><span style="color:#FF9492;">\\$</span><span style="color:#ADDCFF;">PATH:</span><span style="color:#FF9492;">\\$</span><span style="color:#ADDCFF;">{JAVA_HOME}/bin:</span><span style="color:#FF9492;">\\$</span><span style="color:#ADDCFF;">{JRE_HOME}/bin&quot;</span><span style="color:#FF9492;"> &gt;&gt;</span><span style="color:#ADDCFF;"> /etc/profile</span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#91CBFF;">  source</span><span style="color:#ADDCFF;"> /etc/profile</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;配置环境成功&quot;</span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;测试安装是否成功&quot;</span></span>
<span class="line"><span style="color:#FFB757;">  java</span><span style="color:#91CBFF;"> -version</span></span>
<span class="line"><span style="color:#FF9492;">else</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;未找到安装包&quot;</span></span>
<span class="line"><span style="color:#FF9492;">fi</span></span></code></pre></div><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;"># 用 bash执行脚本 source 命令不会生效</span></span>
<span class="line"><span style="color:#91CBFF;">source</span><span style="color:#ADDCFF;"> install_jdk.sh</span></span></code></pre></div><h2 id="redis安装脚本" tabindex="-1"><a class="header-anchor" href="#redis安装脚本"><span>redis安装脚本</span></a></h2><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;"># 授予此脚本可执行权限(chmod +x install_redis.sh)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;"># 检查 redis 是否已安装</span></span>
<span class="line"><span style="color:#FF9492;">if</span><span style="color:#FFB757;"> dpkg</span><span style="color:#91CBFF;"> -l</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> grep</span><span style="color:#91CBFF;"> -q</span><span style="color:#ADDCFF;"> redis-server</span><span style="color:#F0F3F6;">; </span><span style="color:#FF9492;">then</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;redis-server 已安装&quot;</span></span>
<span class="line"><span style="color:#91CBFF;">  exit</span><span style="color:#91CBFF;"> 0</span></span>
<span class="line"><span style="color:#FF9492;">else</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;redis未安装，正在安装...&quot;</span></span>
<span class="line"><span style="color:#FFB757;">  sudo</span><span style="color:#ADDCFF;"> apt-get</span><span style="color:#ADDCFF;"> update</span><span style="color:#FF9492;"> &gt;</span><span style="color:#ADDCFF;"> /dev/null</span></span>
<span class="line"><span style="color:#FFB757;">  sudo</span><span style="color:#ADDCFF;"> apt-get</span><span style="color:#ADDCFF;"> install</span><span style="color:#91CBFF;"> -y</span><span style="color:#ADDCFF;"> redis-server</span></span>
<span class="line"><span style="color:#FFB757;">  sudo</span><span style="color:#ADDCFF;"> systemctl</span><span style="color:#ADDCFF;"> enable</span><span style="color:#ADDCFF;"> redis-server</span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#BDC4CC;">  # 配置 Redis 以开启远程访问</span></span>
<span class="line"><span style="color:#FFB757;">  sudo</span><span style="color:#ADDCFF;"> sed</span><span style="color:#91CBFF;"> -i</span><span style="color:#ADDCFF;"> &#39;s/^bind 127.0.0.1 ::1/# bind 127.0.0.1 ::1/&#39;</span><span style="color:#ADDCFF;"> /etc/redis/redis.conf</span></span>
<span class="line"><span style="color:#FFB757;">  sudo</span><span style="color:#ADDCFF;"> sed</span><span style="color:#91CBFF;"> -i</span><span style="color:#ADDCFF;"> &#39;s/^protected-mode yes/protected-mode no/&#39;</span><span style="color:#ADDCFF;"> /etc/redis/redis.conf</span></span>
<span class="line"><span style="color:#FFB757;">  sudo</span><span style="color:#ADDCFF;"> systemctl</span><span style="color:#ADDCFF;"> restart</span><span style="color:#ADDCFF;"> redis-server</span></span>
<span class="line"><span style="color:#F0F3F6;">  </span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;redis安装完成&quot;</span></span>
<span class="line"><span style="color:#FF9492;">fi</span></span></code></pre></div><h2 id="java项目开机自启" tabindex="-1"><a class="header-anchor" href="#java项目开机自启"><span>java项目开机自启</span></a></h2><p>ubuntu20.04 验证通过。</p><p>创建自启动脚本文件</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">vim</span><span style="color:#ADDCFF;"> /etc/systemd/system/java-service.service</span></span></code></pre></div><p>编辑自启动脚本</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[Unit]</span></span>
<span class="line"><span style="color:#F0F3F6;">Description</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">My</span><span style="color:#FFB757;"> Java</span><span style="color:#ADDCFF;"> Service</span></span>
<span class="line"><span style="color:#F0F3F6;">After</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">syslog.target</span></span>
<span class="line"><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#F0F3F6;">[Service]</span></span>
<span class="line"><span style="color:#F0F3F6;">ExecStart</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">/usr/local/java/jdk1.8.0_333/bin/java</span><span style="color:#FFB757;"> -jar</span><span style="color:#ADDCFF;"> /usr/local/qkm/qkm-up.jar</span></span>
<span class="line"><span style="color:#F0F3F6;">SuccessExitStatus</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">143</span></span>
<span class="line"><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#F0F3F6;">[Install]</span></span>
<span class="line"><span style="color:#F0F3F6;">WantedBy</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">multi-user.target</span></span></code></pre></div><ul><li><code>[Unit]</code>部分包含了<code>service</code>的描述和依赖关系。示例中，我们将其设置为在系统启动后执行。</li><li><code>[Service]</code>部分定义了<code>service</code>的执行方式。示例中，我们指定了 Java 程序的启动命令。</li><li><code>[Install]</code>部分定义了<code>service</code>的启动级别。示例中，我们将其设置为<code>multi-user.target</code>，这将在多用户模式下启动<code>service</code>。</li></ul><p>设置服务自启动</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">sudo</span><span style="color:#ADDCFF;"> systemctl</span><span style="color:#ADDCFF;"> daemon-reload</span></span>
<span class="line"><span style="color:#FFB757;">sudo</span><span style="color:#ADDCFF;"> systemctl</span><span style="color:#ADDCFF;"> enable</span><span style="color:#ADDCFF;"> java-service.service</span></span></code></pre></div><h2 id="activemq开机自启" tabindex="-1"><a class="header-anchor" href="#activemq开机自启"><span>activemq开机自启</span></a></h2><p>ubuntu20.04 验证通过。</p><p>创建自启动脚本文件</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">vim</span><span style="color:#ADDCFF;"> /etc/systemd/system/activemq.service</span></span></code></pre></div><p>编辑自启动脚本</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[Unit]</span></span>
<span class="line"><span style="color:#F0F3F6;">Description</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">ActiveMQ</span><span style="color:#FFB757;"> message</span><span style="color:#ADDCFF;"> broker</span></span>
<span class="line"><span style="color:#F0F3F6;">After</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">network.target</span></span>
<span class="line"><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#F0F3F6;">[Service]</span></span>
<span class="line"><span style="color:#F0F3F6;">Type</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">forking</span></span>
<span class="line"><span style="color:#F0F3F6;">Environment</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">&quot;JAVA_HOME=/usr/local/java/jdk1.8.0_333&quot;</span></span>
<span class="line"><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#F0F3F6;">ExecStart</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">/usr/local/apache-activemq-5.16.1/bin/activemq</span><span style="color:#FFB757;"> start</span></span>
<span class="line"><span style="color:#F0F3F6;">ExecStop</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">/usr/local/apache-activemq-5.16.1/bin/activemq</span><span style="color:#FFB757;"> stop</span></span>
<span class="line"><span style="color:#F0F3F6;"> </span></span>
<span class="line"><span style="color:#F0F3F6;">[Install]</span></span>
<span class="line"><span style="color:#F0F3F6;">WantedBy</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">multi-user.target</span></span></code></pre></div><p>设置服务自启动</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">sudo</span><span style="color:#ADDCFF;"> systemctl</span><span style="color:#ADDCFF;"> daemon-reload</span></span>
<span class="line"><span style="color:#FFB757;">sudo</span><span style="color:#ADDCFF;"> systemctl</span><span style="color:#ADDCFF;"> enable</span><span style="color:#ADDCFF;"> java-service.service</span></span></code></pre></div><h2 id="nacos开机自启" tabindex="-1"><a class="header-anchor" href="#nacos开机自启"><span>nacos开机自启</span></a></h2><p>创建自启动脚本文件</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">vim</span><span style="color:#ADDCFF;"> /etc/systemd/system/nacos.service</span></span></code></pre></div><p>编辑自启动脚本</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#F0F3F6;">[Unit]</span></span>
<span class="line"><span style="color:#F0F3F6;">Description</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">nacos</span><span style="color:#FFB757;"> server</span></span>
<span class="line"><span style="color:#F0F3F6;">After</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">network.target</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">[Service]</span></span>
<span class="line"><span style="color:#F0F3F6;">Type</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">forking</span></span>
<span class="line"><span style="color:#F0F3F6;">Environment</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">&quot;JAVA_HOME=/usr/local/java/jdk1.8.0_333&quot;</span></span>
<span class="line"><span style="color:#F0F3F6;">ExecStart</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">/usr/local/nacos/bin/startup.sh</span><span style="color:#FFB757;"> -m</span><span style="color:#ADDCFF;"> standalone</span></span>
<span class="line"><span style="color:#F0F3F6;">ExecReload</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">/usr/local/nacos/bin/shutdown.sh</span><span style="color:#F0F3F6;"> &amp;&amp; </span><span style="color:#FFB757;">/usr/local/nacos/bin/startup.sh</span><span style="color:#91CBFF;"> -m</span><span style="color:#ADDCFF;"> standalone</span></span>
<span class="line"><span style="color:#F0F3F6;">ExecStop</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">/usr/local/nacos/bin/shutdown.sh</span></span>
<span class="line"><span style="color:#F0F3F6;">PrivateTmp</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">[Install]</span></span>
<span class="line"><span style="color:#F0F3F6;">WantedBy</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">multi-user.target</span></span></code></pre></div><p>确保 Nacos 脚本<code>startup.sh、shutdown.sh</code>具有执行权限。如果没有，可以通过以下命令为其添加执行权限：</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">chmod</span><span style="color:#ADDCFF;"> +x</span><span style="color:#ADDCFF;"> /usr/local/nacos/bin/startup.sh</span></span>
<span class="line"><span style="color:#FFB757;">chmod</span><span style="color:#ADDCFF;"> +x</span><span style="color:#ADDCFF;"> /usr/local/nacos/bin/shutdown.sh</span></span></code></pre></div><p>设置服务自启动</p><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#FFB757;">sudo</span><span style="color:#ADDCFF;"> systemctl</span><span style="color:#ADDCFF;"> daemon-reload</span></span>
<span class="line"><span style="color:#FFB757;">sudo</span><span style="color:#ADDCFF;"> systemctl</span><span style="color:#ADDCFF;"> enable</span><span style="color:#ADDCFF;"> nacos.service</span></span></code></pre></div><h2 id="nacos安装脚本" tabindex="-1"><a class="header-anchor" href="#nacos安装脚本"><span>nacos安装脚本</span></a></h2><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;"># 请将下载的nacos-server-xxx.tar.gz包与此脚本放置到同一目录</span></span>
<span class="line"><span style="color:#BDC4CC;"># 授予此脚本可执行权限(chmod +x install_jdk.sh)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">nacos_path</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">/usr/local</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">nacos_file</span><span style="color:#FF9492;">=</span><span style="color:#F0F3F6;">$(</span><span style="color:#FFB757;">ls</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> grep</span><span style="color:#ADDCFF;"> nacos-server-</span><span style="color:#91CBFF;">*</span><span style="color:#ADDCFF;">.tar.gz</span><span style="color:#F0F3F6;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9492;">if</span><span style="color:#F0F3F6;"> [ </span><span style="color:#FF9492;">-f</span><span style="color:#ADDCFF;"> &quot;</span><span style="color:#F0F3F6;">$nacos_file</span><span style="color:#ADDCFF;">&quot;</span><span style="color:#F0F3F6;"> ]; </span><span style="color:#FF9492;">then</span></span>
<span class="line"><span style="color:#91CBFF;">	echo</span><span style="color:#ADDCFF;"> &quot;正在解压nacos...&quot;</span></span>
<span class="line"><span style="color:#FFB757;">  tar</span><span style="color:#91CBFF;"> -zxf</span><span style="color:#F0F3F6;"> $nacos_file </span><span style="color:#91CBFF;">-C</span><span style="color:#F0F3F6;"> $nacos_path</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;解压nacos成功&quot;</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;正在启动nacos...&quot;</span></span>
<span class="line"><span style="color:#F0F3F6;">  $nacos_path</span><span style="color:#ADDCFF;">/bin/startup.sh</span><span style="color:#91CBFF;"> -m</span><span style="color:#ADDCFF;"> standalone</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;启动nacos服务成功&quot;</span></span>
<span class="line"><span style="color:#FF9492;">else</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;未找到安装包&quot;</span></span>
<span class="line"><span style="color:#FF9492;">fi</span></span></code></pre></div><h2 id="activemq安装脚本" tabindex="-1"><a class="header-anchor" href="#activemq安装脚本"><span>activemq安装脚本</span></a></h2><div class="language-shell" data-highlighter="shiki" data-ext="shell" data-title="shell" style="background-color:#0a0c10;color:#f0f3f6;"><pre class="shiki github-dark-high-contrast vp-code"><code><span class="line"><span style="color:#BDC4CC;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BDC4CC;"># 请将下载的apache-activemq-xxx.tar.gz包与此脚本放置到同一目录</span></span>
<span class="line"><span style="color:#BDC4CC;"># 授予此脚本可执行权限(chmod +x install_jdk.sh)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">mq_path</span><span style="color:#FF9492;">=</span><span style="color:#ADDCFF;">/usr/local</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#F0F3F6;">mq_file</span><span style="color:#FF9492;">=</span><span style="color:#F0F3F6;">$(</span><span style="color:#FFB757;">ls</span><span style="color:#FF9492;"> |</span><span style="color:#FFB757;"> grep</span><span style="color:#ADDCFF;"> apache-activemq-</span><span style="color:#91CBFF;">*</span><span style="color:#ADDCFF;">.tar.gz</span><span style="color:#F0F3F6;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FF9492;">if</span><span style="color:#F0F3F6;"> [ </span><span style="color:#FF9492;">-f</span><span style="color:#ADDCFF;"> &quot;</span><span style="color:#F0F3F6;">$mq_file</span><span style="color:#ADDCFF;">&quot;</span><span style="color:#F0F3F6;"> ]; </span><span style="color:#FF9492;">then</span></span>
<span class="line"><span style="color:#91CBFF;">	echo</span><span style="color:#ADDCFF;"> &quot;正在解压activemq...&quot;</span></span>
<span class="line"><span style="color:#FFB757;">  tar</span><span style="color:#91CBFF;"> -zxf</span><span style="color:#F0F3F6;"> $mq_file </span><span style="color:#91CBFF;">-C</span><span style="color:#F0F3F6;"> $mq_path</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;解压activemq成功&quot;</span></span>
<span class="line"><span style="color:#FFB757;">  sed</span><span style="color:#91CBFF;"> -i</span><span style="color:#ADDCFF;"> &quot;s/127.0.0.1/0.0.0.0/g&quot;</span><span style="color:#F0F3F6;"> $mq_path</span><span style="color:#ADDCFF;">/conf/jetty.xml</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;正在启动activemq...&quot;</span></span>
<span class="line"><span style="color:#F0F3F6;">  $mq_path</span><span style="color:#ADDCFF;">/bin/start</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;启动activemq服务成功&quot;</span></span>
<span class="line"><span style="color:#FF9492;">else</span></span>
<span class="line"><span style="color:#91CBFF;">  echo</span><span style="color:#ADDCFF;"> &quot;未找到安装包&quot;</span></span>
<span class="line"><span style="color:#FF9492;">fi</span></span></code></pre></div>`,36)]))}const r=a(o,[["render",e],["__file","安装脚本实例.html.vue"]]),i=JSON.parse('{"path":"/linux/linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%AE%9E%E4%BE%8B.html","title":"安装脚本实例","lang":"zh-CN","frontmatter":{"title":"安装脚本实例","date":"2024-06-30T00:00:00.000Z","tags":"Bash","categories":"Linux","order":30,"description":"jdk安装脚本 ubuntu20.04 验证通过。 redis安装脚本 java项目开机自启 ubuntu20.04 验证通过。 创建自启动脚本文件 编辑自启动脚本 [Unit]部分包含了service的描述和依赖关系。示例中，我们将其设置为在系统启动后执行。 [Service]部分定义了service的执行方式。示例中，我们指定了 Java 程序的启...","head":[["meta",{"property":"og:url","content":"https://0oWSQo0.github.io/wsq-blog/linux/linux%E5%9F%BA%E7%A1%80/%E5%AE%89%E8%A3%85%E8%84%9A%E6%9C%AC%E5%AE%9E%E4%BE%8B.html"}],["meta",{"property":"og:title","content":"安装脚本实例"}],["meta",{"property":"og:description","content":"jdk安装脚本 ubuntu20.04 验证通过。 redis安装脚本 java项目开机自启 ubuntu20.04 验证通过。 创建自启动脚本文件 编辑自启动脚本 [Unit]部分包含了service的描述和依赖关系。示例中，我们将其设置为在系统启动后执行。 [Service]部分定义了service的执行方式。示例中，我们指定了 Java 程序的启..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-23T09:49:11.000Z"}],["meta",{"property":"article:published_time","content":"2024-06-30T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-23T09:49:11.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"安装脚本实例\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-06-30T00:00:00.000Z\\",\\"dateModified\\":\\"2025-04-23T09:49:11.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"WSQ\\",\\"url\\":\\"https://0oWSQo0.github.com\\"}]}"]]},"headers":[{"level":2,"title":"jdk安装脚本","slug":"jdk安装脚本","link":"#jdk安装脚本","children":[]},{"level":2,"title":"redis安装脚本","slug":"redis安装脚本","link":"#redis安装脚本","children":[]},{"level":2,"title":"java项目开机自启","slug":"java项目开机自启","link":"#java项目开机自启","children":[]},{"level":2,"title":"activemq开机自启","slug":"activemq开机自启","link":"#activemq开机自启","children":[]},{"level":2,"title":"nacos开机自启","slug":"nacos开机自启","link":"#nacos开机自启","children":[]},{"level":2,"title":"nacos安装脚本","slug":"nacos安装脚本","link":"#nacos安装脚本","children":[]},{"level":2,"title":"activemq安装脚本","slug":"activemq安装脚本","link":"#activemq安装脚本","children":[]}],"git":{"createdTime":1730426129000,"updatedTime":1745401751000,"contributors":[{"name":"WSQ","email":"592786982@qq.com","commits":2}]},"readingTime":{"minutes":2.87,"words":860},"filePathRelative":"linux/linux基础/安装脚本实例.md","localizedDate":"2024年6月30日","autoDesc":true}');export{r as comp,i as data};
