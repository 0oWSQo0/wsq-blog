import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,o as a,f as n}from"./app-DSIDyALA.js";const e={},l=n(`<h2 id="环境搭建" tabindex="-1"><a class="header-anchor" href="#环境搭建"><span>环境搭建</span></a></h2><p>Docker 是一个虚拟环境容器，可以将你的开发环境、代码、配置文件等一并打包到这个容器中，最终只需要一个命令即可打包发布应用到任意平台中。</p><p>1、安装docker</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#e1e4e8;--shiki-dark:#24292e;--shiki-light-bg:#24292e;--shiki-dark-bg:#fff;"><pre class="shiki shiki-themes github-dark github-light vp-code"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">yum</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> install</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> https://download.docker.com/linux/fedora/30/x86_64/stable/Packages/containerd.io-1.2.6-3.3.fc30.x86_64.rpm</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">yum</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> install</span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;"> -y</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> yum-utils</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> device-mapper-persistent-data</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> lvm2</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">yum-config-manager</span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;"> --add-repo</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> https://download.docker.com/linux/centos/docker-ce.repo</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">yum</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> install</span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;"> -y</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> docker-ce</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">curl</span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;"> -L</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> &quot;https://github.com/docker/compose/releases/download/1.25.0/docker-compose-$(</span><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">uname</span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;"> -s</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">)-$(</span><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">uname</span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;"> -m</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">)&quot;</span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;"> -o</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> /usr/local/bin/docker-compose</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2、检查docker和docker-compose是否安装成功</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#e1e4e8;--shiki-dark:#24292e;--shiki-light-bg:#24292e;--shiki-dark-bg:#fff;"><pre class="shiki shiki-themes github-dark github-light vp-code"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">docker</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> version</span></span>
<span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">docker-compose</span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;"> --version</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>3、文件授权</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#e1e4e8;--shiki-dark:#24292e;--shiki-light-bg:#24292e;--shiki-dark-bg:#fff;"><pre class="shiki shiki-themes github-dark github-light vp-code"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">chmod</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> +x</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> /usr/local/bin/docker-compose</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_3-docker-脚本下载" tabindex="-1"><a class="header-anchor" href="#_3-docker-脚本下载"><span>3. docker 脚本下载</span></a></h3><p>插件相关脚本实现<code>ruoyi/集成docker实现一键部署.zip</code></p><p>链接: https://pan.baidu.com/s/13JVC9jm-Dp9PfHdDDylLCQ 提取码: y9jt</p><ul><li>其中db目录存放ruoyi数据库脚本</li><li>其中jar目录存放打包好的jar应用文件</li><li>数据库mysql地址需要修改成ruoyi-mysql</li><li>数据库脚本头部需要添加SET NAMES &#39;utf8&#39;;（防止乱码）</li><li>redis地址也需要修改</li></ul><h2 id="_4-启动docker" tabindex="-1"><a class="header-anchor" href="#_4-启动docker"><span>4. 启动docker</span></a></h2><p>启动docker</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#e1e4e8;--shiki-dark:#24292e;--shiki-light-bg:#24292e;--shiki-dark-bg:#fff;"><pre class="shiki shiki-themes github-dark github-light vp-code"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">systemctl</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> start</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> docker</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>构建docker服务</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#e1e4e8;--shiki-dark:#24292e;--shiki-light-bg:#24292e;--shiki-dark-bg:#fff;"><pre class="shiki shiki-themes github-dark github-light vp-code"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">docker-compose</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> build</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>启动docker容器</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" data-title="shell" style="--shiki-light:#e1e4e8;--shiki-dark:#24292e;--shiki-light-bg:#24292e;--shiki-dark-bg:#fff;"><pre class="shiki shiki-themes github-dark github-light vp-code"><code><span class="line"><span style="--shiki-light:#B392F0;--shiki-dark:#6F42C1;">docker-compose</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;"> up</span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;"> -d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>访问应用地址</p><p>打开浏览器，输入：<code>http://localhost:80</code>，若能正确展示页面，则表明环境搭建成功。</p><p>启动服务的容器<code>docker-compose up ruoyi-mysql ruoyi-server</code></p><p>停止服务的容器<code>docker-compose stop ruoyi-mysql ruoyi-server</code></p><h2 id="_5-脚本介绍" tabindex="-1"><a class="header-anchor" href="#_5-脚本介绍"><span>5. 脚本介绍</span></a></h2><h3 id="mysql-dockerfile" tabindex="-1"><a class="header-anchor" href="#mysql-dockerfile"><span>mysql-dockerfile</span></a></h3><div class="language-dockerfile line-numbers-mode" data-highlighter="shiki" data-ext="dockerfile" data-title="dockerfile" style="--shiki-light:#e1e4e8;--shiki-dark:#24292e;--shiki-light-bg:#24292e;--shiki-dark-bg:#fff;"><pre class="shiki shiki-themes github-dark github-light vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 基础镜像</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">FROM</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> mysql:5.7</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># author</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">MAINTAINER</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> ruoyi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 执行sql脚本</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">ADD</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> ./db/*.sql /docker-entrypoint-initdb.d/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="mysql-dockerfile-1" tabindex="-1"><a class="header-anchor" href="#mysql-dockerfile-1"><span>mysql-dockerfile</span></a></h3><div class="language-dockerfile line-numbers-mode" data-highlighter="shiki" data-ext="dockerfile" data-title="dockerfile" style="--shiki-light:#e1e4e8;--shiki-dark:#24292e;--shiki-light-bg:#24292e;--shiki-dark-bg:#fff;"><pre class="shiki shiki-themes github-dark github-light vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 基础镜像</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">FROM</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> redis</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># author</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">MAINTAINER</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> ruoyi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 挂载目录</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">VOLUME</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> /zsz/ruoyi/redis</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建目录</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">RUN</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> mkdir -p /zsz/ruoyi/redis</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 指定路径</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">WORKDIR</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> /zsz/ruoyi/redis</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复制conf文件到路径</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">COPY</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> ./conf/redis.conf /zsz/ruoyi/redis/redis.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ruoyi-dockerfile" tabindex="-1"><a class="header-anchor" href="#ruoyi-dockerfile"><span>ruoyi-dockerfile</span></a></h3><div class="language-dockerfile line-numbers-mode" data-highlighter="shiki" data-ext="dockerfile" data-title="dockerfile" style="--shiki-light:#e1e4e8;--shiki-dark:#24292e;--shiki-light-bg:#24292e;--shiki-dark-bg:#fff;"><pre class="shiki shiki-themes github-dark github-light vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 基础镜像</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">FROM</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> java:8</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># author</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">MAINTAINER</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> ruoyi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 挂载目录</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">VOLUME</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> /zsz/ruoyi</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建目录</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">RUN</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> mkdir -p /zsz/ruoyi</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 指定路径</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">WORKDIR</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> /zsz/ruoyi</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 复制jar文件到路径de</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">COPY</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> ./jar/*.jar /zsz/ruoyi/ruoyi.jar</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启动应用</span></span>
<span class="line"><span style="--shiki-light:#F97583;--shiki-dark:#D73A49;">ENTRYPOINT</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> [</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">&quot;java&quot;</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">,</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">&quot;-jar&quot;</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">,</span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">&quot;ruoyi.jar&quot;</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="docker-compose-yml" tabindex="-1"><a class="header-anchor" href="#docker-compose-yml"><span>docker-compose.yml</span></a></h3><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#e1e4e8;--shiki-dark:#24292e;--shiki-light-bg:#24292e;--shiki-dark-bg:#fff;"><pre class="shiki shiki-themes github-dark github-light vp-code"><code><span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">version</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;"> : </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">&#39;3&#39;</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">services</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">  ruoyi-mysql</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    container_name</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">ruoyi-mysql</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    image</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">mysql:5.7</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    build</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">      context</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;">.</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">      dockerfile</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">mysql-dockerfile</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    ports</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">&quot;8306:3306&quot;</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    volumes</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">./mysql/conf:/zsz/ruoyi/mysql/conf.d</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">./mysql/logs:/zsz/ruoyi/mysql/logs</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">./mysql/data:/zsz/ruoyi/mysql/mysqldata</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    command</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: [</span></span>
<span class="line"><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">      &#39;mysqld&#39;</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">,</span></span>
<span class="line"><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">      &#39;--innodb-buffer-pool-size=80M&#39;</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">,</span></span>
<span class="line"><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">      &#39;--character-set-server=utf8mb4&#39;</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">,</span></span>
<span class="line"><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">      &#39;--collation-server=utf8mb4_unicode_ci&#39;</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">,</span></span>
<span class="line"><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">      &#39;--default-time-zone=+8:00&#39;</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">,</span></span>
<span class="line"><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">      &#39;--lower-case-table-names=1&#39;</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">    ]</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    environment</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">      MYSQL_DATABASE</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">ry-vue</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">      MYSQL_ROOT_PASSWORD</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;">123456</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">  ruoyi-redis</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    container_name</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">ruoyi-redis</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    image</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">redis</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    build</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">      context</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;">.</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">      dockerfile</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">redis-dockerfile</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    ports</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">&quot;8379:6379&quot;</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    volumes</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">./conf/redis.conf:/zsz/ruoyi/redis/redis.conf</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">./redis/data:/data</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    command</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">redis-server /zsz/ruoyi/redis/redis.conf</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">  ruoyi-server</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    container_name</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">ruoyi-server</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    build</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">      context</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#79B8FF;--shiki-dark:#005CC5;">.</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">      dockerfile</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">: </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">ruoyi-dockerfile</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    ports</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">&quot;8080:8080&quot;</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    volumes</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">./ruoyi/logs:/zsz/ruoyi/logs</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">./ruoyi/uploadPath:/zsz/ruoyi/uploadPath</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    depends_on</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">ruoyi-mysql</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">ruoyi-redis</span></span>
<span class="line"><span style="--shiki-light:#85E89D;--shiki-dark:#22863A;">    links</span><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">:</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">ruoyi-mysql</span></span>
<span class="line"><span style="--shiki-light:#E1E4E8;--shiki-dark:#24292E;">      - </span><span style="--shiki-light:#9ECBFF;--shiki-dark:#032F62;">ruoyi-redis</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,32),h=[l];function k(t,d){return a(),i("div",null,h)}const c=s(e,[["render",k],["__file","集成Docker实现一键部署.html.vue"]]),E=JSON.parse('{"path":"/linux/docker/%E9%9B%86%E6%88%90Docker%E5%AE%9E%E7%8E%B0%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2.html","title":"集成Docker实现一键部署","lang":"zh-CN","frontmatter":{"title":"集成Docker实现一键部署","date":"2024-01-30T00:00:00.000Z","tags":"Docker","categories":"linux","order":6,"description":"环境搭建 Docker 是一个虚拟环境容器，可以将你的开发环境、代码、配置文件等一并打包到这个容器中，最终只需要一个命令即可打包发布应用到任意平台中。 1、安装docker 2、检查docker和docker-compose是否安装成功 3、文件授权 3. docker 脚本下载 插件相关脚本实现ruoyi/集成docker实现一键部署.zip 链接:...","head":[["meta",{"property":"og:url","content":"https://wsq01.github.io/linux/docker/%E9%9B%86%E6%88%90Docker%E5%AE%9E%E7%8E%B0%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2.html"}],["meta",{"property":"og:title","content":"集成Docker实现一键部署"}],["meta",{"property":"og:description","content":"环境搭建 Docker 是一个虚拟环境容器，可以将你的开发环境、代码、配置文件等一并打包到这个容器中，最终只需要一个命令即可打包发布应用到任意平台中。 1、安装docker 2、检查docker和docker-compose是否安装成功 3、文件授权 3. docker 脚本下载 插件相关脚本实现ruoyi/集成docker实现一键部署.zip 链接:..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-08-14T07:08:17.000Z"}],["meta",{"property":"article:author","content":"WSQ"}],["meta",{"property":"article:published_time","content":"2024-01-30T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-08-14T07:08:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"集成Docker实现一键部署\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-01-30T00:00:00.000Z\\",\\"dateModified\\":\\"2024-08-14T07:08:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"WSQ\\",\\"url\\":\\"https://wsq01.github.com\\"}]}"]]},"headers":[{"level":2,"title":"环境搭建","slug":"环境搭建","link":"#环境搭建","children":[{"level":3,"title":"3. docker 脚本下载","slug":"_3-docker-脚本下载","link":"#_3-docker-脚本下载","children":[]}]},{"level":2,"title":"4. 启动docker","slug":"_4-启动docker","link":"#_4-启动docker","children":[]},{"level":2,"title":"5. 脚本介绍","slug":"_5-脚本介绍","link":"#_5-脚本介绍","children":[{"level":3,"title":"mysql-dockerfile","slug":"mysql-dockerfile","link":"#mysql-dockerfile","children":[]},{"level":3,"title":"mysql-dockerfile","slug":"mysql-dockerfile-1","link":"#mysql-dockerfile-1","children":[]},{"level":3,"title":"ruoyi-dockerfile","slug":"ruoyi-dockerfile","link":"#ruoyi-dockerfile","children":[]},{"level":3,"title":"docker-compose.yml","slug":"docker-compose-yml","link":"#docker-compose-yml","children":[]}]}],"git":{"createdTime":1723619297000,"updatedTime":1723619297000,"contributors":[{"name":"WSQ","email":"592786982@qq.com","commits":1}]},"readingTime":{"minutes":1.97,"words":591},"filePathRelative":"linux/docker/集成Docker实现一键部署.md","localizedDate":"2024年1月30日","autoDesc":true}');export{c as comp,E as data};
